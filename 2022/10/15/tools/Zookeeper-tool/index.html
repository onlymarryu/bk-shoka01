<!-- build time:Sun Oct 16 2022 17:00:58 GMT+0800 (中国标准时间) --><!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="记录“美食”每刻" href="http://example.com/rss.xml"><link rel="alternate" type="application/atom+xml" title="记录“美食”每刻" href="http://example.com/atom.xml"><link rel="alternate" type="application/json" title="记录“美食”每刻" href="http://example.com/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><link rel="canonical" href="http://example.com/2022/10/15/tools/Zookeeper-tool/"><title>Zookeeper - 工具软件安装 | 雾都博客 = 记录 “美食” 每刻</title><meta name="generator" content="Hexo 6.3.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">Zookeeper</h1><div class="meta"><span class="item" title="创建时间：2022-10-15 12:52:38"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">发表于</span> <time itemprop="dateCreated datePublished" datetime="2022-10-15T12:52:38+08:00">2022-10-15</time> </span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">本文字数</span> <span>3.8k</span> <span class="text">字</span> </span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">阅读时长</span> <span>3 分钟</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">雾都博客</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://tva1.sinaimg.cn/large/6833939bly1giph47e9vtj20zk0m8x6l.jpg"></li><li class="item" data-background-image="https://tva1.sinaimg.cn/large/6833939bly1giclil3m4ej20zk0m8tn8.jpg"></li><li class="item" data-background-image="https://tva1.sinaimg.cn/large/6833939bly1gicljitigmj20zk0m87fp.jpg"></li><li class="item" data-background-image="https://tva1.sinaimg.cn/large/6833939bly1gicis081o9j20zk0m8dmr.jpg"></li><li class="item" data-background-image="https://tva1.sinaimg.cn/large/6833939bly1giclx29mstj20zk0m8hdt.jpg"></li><li class="item" data-background-image="https://tva1.sinaimg.cn/large/6833939bly1gipewkhf1zj20zk0m81kx.jpg"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">首页</a></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/%E5%B7%A5%E5%85%B7%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/" itemprop="item" rel="index" title="分类于 工具软件安装"><span itemprop="name">工具软件安装</span></a><meta itemprop="position" content="1"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="http://example.com/2022/10/15/tools/Zookeeper-tool/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="雾都"><meta itemprop="description" content=", 记录 “美食” 每刻"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="记录 “美食” 每刻"></span><div class="body md" itemprop="articleBody"><h3 id="zookeeper-linux安装"><a class="anchor" href="#zookeeper-linux安装">#</a> Zookeeper-linux 安装</h3><h4 id="1"><a class="anchor" href="#1">#</a> ——1</h4><h5 id="1-zookeeper简介"><a class="anchor" href="#1-zookeeper简介">#</a> 1 Zookeeper 简介</h5><p>​	zookeeper 分布式管理软件。常用它做注册中心（依赖 zookeeper 的发布 / 订阅功能）、配置文件中心、分布式锁配置、集群管理等。</p><p>​	zookeeper 一共就有两个版本。主要使用的是 java 语言写的。</p><h5 id="2-安装"><a class="anchor" href="#2-安装">#</a> 2 安装</h5><h6 id="21-上传压缩文件"><a class="anchor" href="#21-上传压缩文件">#</a> 2.1 上传压缩文件</h6><p>​	上传到 /usr/local/tmp 中</p><h5 id="22-解压"><a class="anchor" href="#22-解压">#</a> 2.2 解压</h5><pre><code> tar zxf apache-zookeeper-3.5.5-bin.tar.gz
 cp -r apache-zookeeper-3.5.5-bin ../zookeeper
</code></pre><h5 id="23-新建data目录"><a class="anchor" href="#23-新建data目录">#</a> 2.3 新建 data 目录</h5><p>进入到 zookeeper 中</p><pre><code> cd /usr/local/zookeeper
 mkdir data
</code></pre><h5 id="24-修改配置文件"><a class="anchor" href="#24-修改配置文件">#</a> 2.4 修改配置文件</h5><p>进入 conf 中</p><pre><code> cd conf
 cp zoo_sample.cfg zoo.cfg
 vim zoo.cfg
</code></pre><p>修改 dataDir 为 data 文件夹路径</p><pre><code>dataDir=/usr/local/zookeeper/data
</code></pre><h5 id="25-启动zookeeper"><a class="anchor" href="#25-启动zookeeper">#</a> 2.5 启动 zookeeper</h5><p>进入 bin 文件夹</p><pre><code> cd /usr/local/zookeeper/bin
 ./zkServer.sh start
</code></pre><p>通过 status 查看启动状态。稍微有个等待时间</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>./zkServer.sh status</pre></td></tr></table></figure><h4 id="2"><a class="anchor" href="#2">#</a> ——2</h4><p><strong>资料：</strong></p><p><span class="exturl" data-url="aHR0cHM6Ly93d3cuY25ibG9ncy5jb20va2luZ2tvby9wLzg3MzI0NDguaHRtbA==">https://www.cnblogs.com/kingkoo/p/8732448.html</span></p><p><span class="exturl" data-url="aHR0cHM6Ly93d3cuYmlsaWJpbGkuY29tL3ZpZGVvL2F2ODA4NzQ2NjY/ZnJvbT1zZWFyY2gmYW1wO3NlaWQ9MTYyOTE0NTAyNTIxMTk5OTEwNCZhbXA7c3BtX2lkX2Zyb209MzMzLjMzNy4wLjA=">https://www.bilibili.com/video/av80874666?from=search&amp;seid=1629145025211999104&amp;spm_id_from=333.337.0.0</span></p><h5 id="1-zookeeper简介-2"><a class="anchor" href="#1-zookeeper简介-2">#</a> 1 Zookeeper 简介</h5><p>​	zookeeper 分布式管理软件。常用它做注册中心（依赖 zookeeper 的发布 / 订阅功能）、配置文件中心、分布式锁配置、集群管理等。</p><p>​	zookeeper 一共就有两个版本。主要使用的是 java 语言写的。</p><h5 id="2-安装-2"><a class="anchor" href="#2-安装-2">#</a> 2 安装</h5><h6 id="21-拉取镜像"><a class="anchor" href="#21-拉取镜像">#</a> 2.1 拉取镜像</h6><ul><li><p>自定义 zookeeper 目录</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">mkdir</span> /root/zookeeper</pre></td></tr></table></figure></li></ul><p>#mkdir /root/zookeeper/data #原因参照上面 - 在 docker 中 data 其实也不用在宿主机行自己生成 (目前如此)</p><p>仓库官网查看版本或者用命令直接查</p><pre><code>docker search zookeeper
</code></pre><p>拉取特定版本（3.5）</p><pre><code>docker pull zookeeper:3.5

```
</code></pre><h6 id="22-创建并启动容器"><a class="anchor" href="#22-创建并启动容器">#</a> 2.2 创建并启动容器</h6><p>​	<strong>注：就目前而且 好像直接在 docker 中使用 zookeeper 不需要过多的配置，直接用命令创建吧，下面的解释先不看，具体原因后面补充</strong></p><p>命令：</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">--name</span> zookeeper <span class="token parameter variable">-v</span> /root/zookeeper/data:/data <span class="token parameter variable">-p</span> <span class="token number">2181</span>:2181 <span class="token parameter variable">--restart</span> always zookeeper:3.5</pre></td></tr></table></figure><ul><li><code>--restart always</code> ：始终重启</li><li><span class="exturl" data-url="aHR0cHM6Ly93d3cuY25ibG9ncy5jb20vYWdlb3ZiL3AvMTUzMjg3OTYuaHRtbA==">https://www.cnblogs.com/ageovb/p/15328796.html</span></li></ul><p><strong>解释</strong></p><ul><li><p>1、这里为啥只挂载了 data 目录 --》因为当我们 没有直接的安装压缩包时，我们的就没有配置文件，所以我们直接生成，容器中就回自动生成 conf 文件，其中就有我们需要的 一系列配置文件，我们第一次创建的时候就可以如此，我们在进<strong>行配置文件的修改完成</strong>后，要将所有配置文件放到我们 bash 目录中的 conf 文件中去。</p></li><li><p>2、第一次进入容器</p><ul><li><p>在 bash 目录下进入 bin 目录然后输入开启客户端命令</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>./zkCli.sh</pre></td></tr></table></figure></li></ul></li><li><p>3、第二次进入容器</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-it</span> zookeeper /bin/bash  <span class="token parameter variable">-p</span>    端口号</pre></td></tr><tr><td data-num="2"></td><td><pre>或</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-it</span> zookeeper zkCli.sh</pre></td></tr></table></figure></li></ul><p><em><em>只看到这就可</em>，容器创建成功就可以直接用了，还没有出现问题。有待补充</em> *</p><h6 id="23-修改配置文件"><a class="anchor" href="#23-修改配置文件">#</a> 2.3 修改配置文件</h6><ul><li>配置文件来源<ul><li>1、可以去我们的资料中直接解压出<strong> conf</strong> 目录粘贴到我们的 zookeeper 目录中去</li><li>2、可以直接进行第 3 步，完事之后直接会在容器中生成。找到 conf 文件，修改其中的 zoo.cfg 文件，</li></ul></li></ul><p>进入容器后，找到 conf 中的 **zoo.cfg 文件，接下来就是修改 <strong>dataDir</strong> 路径为容器中的 data 文件目录。</p><p>前提是要下载 vim ，因为容器中没有，命令是：</p><pre><code>apt-get update

apt-get install -y vim

cd conf
### 没有zoo.cfg 就先拷贝 zoo_sample.cfg 两个其实是一个文件，内容相同
###cp zoo_sample.cfg zoo.cfg
vim zoo.cfg
</code></pre><p>修改 dataDir 为 data 文件夹路径</p><pre><code>dataDir=/usr/local/zookeeper/data
</code></pre><h3 id="zookeeper集群搭建"><a class="anchor" href="#zookeeper集群搭建">#</a> Zookeeper 集群搭建</h3><h4 id="1-2"><a class="anchor" href="#1-2">#</a> ——1</h4><p>1. 上传压缩包到 /usr/local/tmp 下 并解压。</p><p>2. 在 /usr/local 下新建文件夹 zookeeper</p><pre><code>### mkdir /usr/local/zookeeper
</code></pre><p>3. 把解压的所有文件复制到 zookeeper 下， 并命名为 zk1</p><pre><code>### cp -r /usr/local/temp/zookeeper-3.4.8 /usr/local/zookeeper/zk1
</code></pre><p>4. 在 zk1 下新建文件夹 data</p><p>5. 在 data 下新建文件 myid, 里面写上 1</p><pre><code>### vim myid
</code></pre><p>6. 进入到 zk1/conf 下 把 zoo_sample.cfg 复制一份叫做 zoo.cfg</p><p>7. 编辑 zoo.cfg 内容，设置 dataDIR 为 data 文件夹， 并在文件最下面添加下面内容</p><pre><code>server.1=192.168.93.10:2688:3888
server.2=192.168.93.10:2689:3889
server.3=192.168.93.10:2690:3890
</code></pre><p>7.1 server.1 中的 1 是 myid 的内容</p><p>7.2 2688 2689 2690 是 zookeeper 内部端口</p><p>7.3 3888 3889 3890 是 leader 端口</p><p>8. 把 zk1 复制两份，分部叫做 zk2 zk3 并修改 myid 的值为 2，3 修改 zoo.cfg 中 dataDIR 和 clientPort</p><p>9. 启动三个 zookeeper</p><pre><code>### ./zkServer.sh start
</code></pre><p>10. 查看状态</p><pre><code>### ./zkServer.sh status
</code></pre><h4 id="2-2"><a class="anchor" href="#2-2">#</a> ——2</h4><p><strong>1、准备</strong> docker-compose.yml<strong> 文件</strong></p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>version: <span class="token string">'2'</span></pre></td></tr><tr><td data-num="2"></td><td><pre>services:</pre></td></tr><tr><td data-num="3"></td><td><pre>  zoo1:</pre></td></tr><tr><td data-num="4"></td><td><pre>    image: zookeeper:3.5</pre></td></tr><tr><td data-num="5"></td><td><pre>    restart: always</pre></td></tr><tr><td data-num="6"></td><td><pre>    container_name: zoo1</pre></td></tr><tr><td data-num="7"></td><td><pre>    ports:</pre></td></tr><tr><td data-num="8"></td><td><pre>      - <span class="token string">"2182:2181"</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    environment:</pre></td></tr><tr><td data-num="10"></td><td><pre>      ZOO_MY_ID: <span class="token number">1</span></pre></td></tr><tr><td data-num="11"></td><td><pre>      ZOO_SERVERS: <span class="token assign-left variable">server.1</span><span class="token operator">=</span><span class="token number">0.0</span>.0.0:2688:3888 <span class="token assign-left variable">server.2</span><span class="token operator">=</span>zoo2:2689:3888 <span class="token assign-left variable">server.3</span><span class="token operator">=</span>zoo3:2690:3888</pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre>  zoo2:</pre></td></tr><tr><td data-num="14"></td><td><pre>    image: zookeeper:3.5</pre></td></tr><tr><td data-num="15"></td><td><pre>    restart: always</pre></td></tr><tr><td data-num="16"></td><td><pre>    container_name: zoo2</pre></td></tr><tr><td data-num="17"></td><td><pre>    ports:</pre></td></tr><tr><td data-num="18"></td><td><pre>      - <span class="token string">"2183:2181"</span></pre></td></tr><tr><td data-num="19"></td><td><pre>    environment:</pre></td></tr><tr><td data-num="20"></td><td><pre>      ZOO_MY_ID: <span class="token number">2</span></pre></td></tr><tr><td data-num="21"></td><td><pre>      ZOO_SERVERS: <span class="token assign-left variable">server.1</span><span class="token operator">=</span>zoo1:2688:3888 <span class="token assign-left variable">server.2</span><span class="token operator">=</span><span class="token number">0.0</span>.0.0:2689:3888 <span class="token assign-left variable">server.3</span><span class="token operator">=</span>zoo3:2690:3888</pre></td></tr><tr><td data-num="22"></td><td><pre></pre></td></tr><tr><td data-num="23"></td><td><pre>  zoo3:</pre></td></tr><tr><td data-num="24"></td><td><pre>    image: zookeeper:3.5</pre></td></tr><tr><td data-num="25"></td><td><pre>    restart: always</pre></td></tr><tr><td data-num="26"></td><td><pre>    container_name: zoo3</pre></td></tr><tr><td data-num="27"></td><td><pre>    ports:</pre></td></tr><tr><td data-num="28"></td><td><pre>      - <span class="token string">"2184:2181"</span></pre></td></tr><tr><td data-num="29"></td><td><pre>    environment:</pre></td></tr><tr><td data-num="30"></td><td><pre>      ZOO_MY_ID: <span class="token number">3</span></pre></td></tr><tr><td data-num="31"></td><td><pre>      ZOO_SERVERS: <span class="token assign-left variable">server.1</span><span class="token operator">=</span>zoo1:2688:3888 <span class="token assign-left variable">server.2</span><span class="token operator">=</span>zoo2:2689:3888 <span class="token assign-left variable">server.3</span><span class="token operator">=</span><span class="token number">0.0</span>.0.0:2690:3888</pre></td></tr></table></figure><p><strong>2、创建镜像</strong></p><ul><li>要在创建的 docker-compose.yml 文件中使用命令</li></ul><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">docker-compose</span> up <span class="token parameter variable">-d</span></pre></td></tr></table></figure><p><strong>3、进入容器</strong></p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-it</span> zoo1 /bin/bash</pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">### 查看 zoo1 的状态</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token builtin class-name">cd</span> bin</pre></td></tr><tr><td data-num="5"></td><td><pre>./zkServer.sh status</pre></td></tr></table></figure><ul><li>如果出现，以下情况：</li></ul><pre><code>ZooKeeper JMX enabled by default
Using config: /conf/zoo.cfg
Client port not found in static config file. Looking in dynamic config file.
grep: : No such file or directory
Client port not found in the server configs
Client port not found. Looking for secureClientPort in the static config.
Unable to find either secure or unsecure client port in any configs. Terminating.
</code></pre><p>​	通过阅读我们知道他在 conf 中的 zoo.cfg 文件中缺少 **clientPort ** 我们只需要自行添加即可</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">### 修改之前我们先装一下 vim</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token function">apt-get</span> update</pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token function">apt-get</span> <span class="token function">install</span> <span class="token parameter variable">-y</span> <span class="token function">vim</span> </pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment">### 修改 zoo.fcg 文件</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token function">vim</span> /conf/zoo.fcg</pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token assign-left variable">clientPort</span><span class="token operator">=</span><span class="token number">2181</span></pre></td></tr></table></figure><ul><li><p>完事之后<strong>重启</strong> zoo1</p><p><img data-src="/2022/10/15/tools/Zookeeper-tool/1645780920291.png" width="1645780920291"></p><p>成功！！</p></li></ul><h6 id="4-查看所有zookeeper的状态"><a class="anchor" href="#4-查看所有zookeeper的状态">#</a> 4、查看所有 zookeeper 的状态</h6><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-it</span> zoo3 <span class="token function">bash</span> ./bin/zkServer.sh status</pre></td></tr></table></figure><h6 id="5-进去客户端"><a class="anchor" href="#5-进去客户端">#</a> 5、进去客户端</h6><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-it</span> zoo3 zkCli.sh</pre></td></tr></table></figure><div id="gitalk-container"></div><script src="https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js"></script><link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css"><script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script><script>var gitalkConfig={clientID:"eda74f740080fa01d0b5",clientSecret:"c994dd2162a1dadaefbf078fcab49361438a7aca",repo:"comments001",owner:"onlymarryu",admin:["onlymarryu"],distractionFreeMode:!0,proxy:"https://winter-rain-5b30.wudu-bk.workers.dev/https://github.com/login/oauth/access_token"};gitalkConfig.id=md5(location.pathname);var gitalk=new Gitalk(gitalkConfig);gitalk.render("gitalk-container")</script></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">更新于</span> <time title="修改时间：2022-10-15 13:33:13" itemprop="dateModified" datetime="2022-10-15T13:33:13+08:00">2022-10-15</time> </span><span id="2022/10/15/tools/Zookeeper-tool/" class="item leancloud_visitors" data-flag-title="Zookeeper" title="阅读次数"><span class="icon"><i class="ic i-eye"></i> </span><span class="text">阅读次数</span> <span class="leancloud-visitors-count"></span> <span class="text">次</span></span></div><div class="reward"><button><i class="ic i-heartbeat"></i> 赞赏</button><p>请我喝[茶]~(￣▽￣)~*</p><div id="qr"><div><img data-src="/images/wechatpay.png" alt="雾都 微信支付"><p>微信支付</p></div><div><img data-src="/images/alipay.png" alt="雾都 支付宝"><p>支付宝</p></div><div><img data-src="/images/paypal.png" alt="雾都 贝宝"><p>贝宝</p></div></div></div><div id="copyright"><ul><li class="author"><strong>本文作者： </strong>雾都 <i class="ic i-at"><em>@</em></i>记录 “美食” 每刻</li><li class="link"><strong>本文链接：</strong> <a href="http://example.com/2022/10/15/tools/Zookeeper-tool/" title="Zookeeper">http://example.com/2022/10/15/tools/Zookeeper-tool/</a></li><li class="license"><strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/2022/10/15/tools/XShell-tool/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;tva1.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1gipevgoki5j20zk0m84qp.jpg" title="XShell"><span class="type">上一篇</span> <span class="category"><i class="ic i-flag"></i> 工具软件安装</span><h3>XShell</h3></a></div><div class="item right"><a href="/2022/10/15/tools/tools-All/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;tva1.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1gicm0fdw5cj20zk0m8hdt.jpg" title="所有工具安装合集"><span class="type">下一篇</span> <span class="category"><i class="ic i-flag"></i> 工具软件安装</span><h3>所有工具安装合集</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#zookeeper-linux%E5%AE%89%E8%A3%85"><span class="toc-number">1.</span> <span class="toc-text">Zookeeper-linux 安装</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1"><span class="toc-number">1.1.</span> <span class="toc-text">——1</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-zookeeper%E7%AE%80%E4%BB%8B"><span class="toc-number">1.1.1.</span> <span class="toc-text">1 Zookeeper 简介</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-%E5%AE%89%E8%A3%85"><span class="toc-number">1.1.2.</span> <span class="toc-text">2 安装</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#21-%E4%B8%8A%E4%BC%A0%E5%8E%8B%E7%BC%A9%E6%96%87%E4%BB%B6"><span class="toc-number">1.1.2.1.</span> <span class="toc-text">2.1 上传压缩文件</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#22-%E8%A7%A3%E5%8E%8B"><span class="toc-number">1.1.3.</span> <span class="toc-text">2.2 解压</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#23-%E6%96%B0%E5%BB%BAdata%E7%9B%AE%E5%BD%95"><span class="toc-number">1.1.4.</span> <span class="toc-text">2.3 新建 data 目录</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#24-%E4%BF%AE%E6%94%B9%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">1.1.5.</span> <span class="toc-text">2.4 修改配置文件</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#25-%E5%90%AF%E5%8A%A8zookeeper"><span class="toc-number">1.1.6.</span> <span class="toc-text">2.5 启动 zookeeper</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2"><span class="toc-number">1.2.</span> <span class="toc-text">——2</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-zookeeper%E7%AE%80%E4%BB%8B-2"><span class="toc-number">1.2.1.</span> <span class="toc-text">1 Zookeeper 简介</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-%E5%AE%89%E8%A3%85-2"><span class="toc-number">1.2.2.</span> <span class="toc-text">2 安装</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#21-%E6%8B%89%E5%8F%96%E9%95%9C%E5%83%8F"><span class="toc-number">1.2.2.1.</span> <span class="toc-text">2.1 拉取镜像</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#22-%E5%88%9B%E5%BB%BA%E5%B9%B6%E5%90%AF%E5%8A%A8%E5%AE%B9%E5%99%A8"><span class="toc-number">1.2.2.2.</span> <span class="toc-text">2.2 创建并启动容器</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#23-%E4%BF%AE%E6%94%B9%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">1.2.2.3.</span> <span class="toc-text">2.3 修改配置文件</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#zookeeper%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BA"><span class="toc-number">2.</span> <span class="toc-text">Zookeeper 集群搭建</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2"><span class="toc-number">2.1.</span> <span class="toc-text">——1</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2"><span class="toc-number">2.2.</span> <span class="toc-text">——2</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#4-%E6%9F%A5%E7%9C%8B%E6%89%80%E6%9C%89zookeeper%E7%9A%84%E7%8A%B6%E6%80%81"><span class="toc-number">2.2.0.1.</span> <span class="toc-text">4、查看所有 zookeeper 的状态</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#5-%E8%BF%9B%E5%8E%BB%E5%AE%A2%E6%88%B7%E7%AB%AF"><span class="toc-number">2.2.0.2.</span> <span class="toc-text">5、进去客户端</span></a></li></ol></li></ol></li></ol></div><div class="related panel pjax" data-title="系列文章"><ul><li><a href="/2022/10/15/tools/Solr-tool/" rel="bookmark" title="Solr">Solr</a></li><li><a href="/2022/10/15/tools/CentOS-7-tool/" rel="bookmark" title="CentOS-7安装">CentOS-7安装</a></li><li><a href="/2022/10/15/tools/Maven-tool/" rel="bookmark" title="Maven-tool">Maven-tool</a></li><li><a href="/2022/10/15/tools/docker-tool/" rel="bookmark" title="docker安装">docker安装</a></li><li><a href="/2022/10/15/tools/Erlang-tool/" rel="bookmark" title="Erlang">Erlang</a></li><li><a href="/2022/10/15/tools/HAProxy-tool/" rel="bookmark" title="HAProxy安装">HAProxy安装</a></li><li><a href="/2022/10/15/tools/HDFS-tool/" rel="bookmark" title="HDFS安装">HDFS安装</a></li><li><a href="/2022/10/15/tools/JRebel-tool/" rel="bookmark" title="JRebel安装">JRebel安装</a></li><li><a href="/2022/10/15/tools/Kafka-tool/" rel="bookmark" title="Kafka">Kafka</a></li><li><a href="/2022/10/15/tools/Keepalived-tool/" rel="bookmark" title="Keepalived">Keepalived</a></li><li><a href="/2022/10/15/tools/MyCat-tool/" rel="bookmark" title="MyCat">MyCat</a></li><li><a href="/2022/10/15/tools/MySQL-tool/" rel="bookmark" title="MySQL">MySQL</a></li><li><a href="/2022/10/15/tools/Nacos-tool/" rel="bookmark" title="Nacos">Nacos</a></li><li><a href="/2022/10/15/tools/Nginx-tool/" rel="bookmark" title="Nginx">Nginx</a></li><li><a href="/2022/10/15/tools/OpenSSL-tool/" rel="bookmark" title="OpenSSL">OpenSSL</a></li><li><a href="/2022/10/15/tools/python-tool/" rel="bookmark" title="python">python</a></li><li><a href="/2022/10/15/tools/RabbitMQ-tool/" rel="bookmark" title="RabbitMQ">RabbitMQ</a></li><li><a href="/2022/10/15/tools/redis-tool/" rel="bookmark" title="redis">redis</a></li><li><a href="/2022/10/15/tools/Tomcat-tool/" rel="bookmark" title="Tomcat">Tomcat</a></li><li><a href="/2022/10/15/tools/XShell-tool/" rel="bookmark" title="XShell">XShell</a></li><li class="active"><a href="/2022/10/15/tools/Zookeeper-tool/" rel="bookmark" title="Zookeeper">Zookeeper</a></li><li><a href="/2022/10/15/tools/tools-All/" rel="bookmark" title="所有工具安装合集">所有工具安装合集</a></li></ul></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="雾都" data-src="/images/avatar.jpg"><p class="name" itemprop="name">雾都</p><div class="description" itemprop="description">记录 “美食” 每刻</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">56</span> <span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">38</span> <span class="name">分类</span></a></div><div class="item tags"><a href="/tags/"><span class="count">20</span> <span class="name">标签</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL29ubHltYXJyeXU=" title="https:&#x2F;&#x2F;github.com&#x2F;onlymarryu"><i class="ic i-github"></i></span> <span class="exturl item CSDN" data-url="aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0JraG9sZT9zcG09MTAwMC4yMTE1LjMwMDEuNTM0Mw==" title="https:&#x2F;&#x2F;blog.csdn.net&#x2F;Bkhole?spm&#x3D;1000.2115.3001.5343"><i class="ic i-CSDN"></i></span> <span class="exturl item fengye" data-url="aHR0cHM6Ly9jbG91ZC5meW5vdGUuY29tL2VkaXQ/bmlkPTExMzc5NiZpZD0xNTY3NTI4MDE2MzQ1NTYzMTM2JnQ9MTY2NTgxNjM0NTU4Nw==" title="https:&#x2F;&#x2F;cloud.fynote.com&#x2F;edit?nid&#x3D;113796&amp;id&#x3D;1567528016345563136&amp;t&#x3D;1665816345587"><i class="ic i-fengye"></i></span> <span class="exturl item yuque" data-url="aHR0cHM6Ly93d3cueXVxdWUuY29tL2Rhc2hib2FyZC9yZWNlbnQ=" title="https:&#x2F;&#x2F;www.yuque.com&#x2F;dashboard&#x2F;recent"><i class="ic i-yuque"></i></span> <span class="exturl item music" data-url="aHR0cHM6Ly9tdXNpYy4xNjMuY29tLyMvbXkvbS9tdXNpYy9wbGF5bGlzdD9pZD0zMTY2MDYwNzkw" title="https:&#x2F;&#x2F;music.163.com&#x2F;#&#x2F;my&#x2F;m&#x2F;music&#x2F;playlist?id&#x3D;3166060790"><i class="ic i-cloud-music"></i></span></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a></li><li class="item"><a href="/friends/" rel="section"><i class="ic i-heart"></i>friends</a></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/2022/10/15/tools/XShell-tool/" rel="prev" title="上一篇"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/2022/10/15/tools/tools-All/" rel="next" title="下一篇"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>随机文章</h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/JavaSE/" title="分类于 JavaSE">JavaSE</a> <i class="ic i-angle-right"></i> <a href="/categories/JavaSE/%E6%95%B0%E7%BB%84/" title="分类于 数组">数组</a></div><span><a href="/2022/10/07/Java/%E7%AC%AC6%E7%AB%A0_%E6%95%B0%E7%BB%84/" title="第6章_数组">第6章_数组</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Spring/" title="分类于 Spring">Spring</a> <i class="ic i-angle-right"></i> <a href="/categories/Spring/SpringSecurity/" title="分类于 SpringSecurity">SpringSecurity</a></div><span><a href="/2022/10/07/Spring_Family/SpringSecurity/" title="SpringSecurity">SpringSecurity</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%B7%A5%E5%85%B7%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/" title="分类于 工具软件安装">工具软件安装</a></div><span><a href="/2022/10/15/tools/CentOS-7-tool/" title="CentOS-7安装">CentOS-7安装</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Mybatis/" title="分类于 Mybatis">Mybatis</a></div><span><a href="/2022/10/07/ORM/Mybatis/" title="Mybatis">Mybatis</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/JavaSE/" title="分类于 JavaSE">JavaSE</a> <i class="ic i-angle-right"></i> <a href="/categories/JavaSE/%E5%B8%B8%E7%94%A8%E7%B1%BB/" title="分类于 常用类">常用类</a></div><span><a href="/2022/10/07/Java/%E7%AC%AC10%E7%AB%A0_%E5%B8%B8%E7%94%A8%E7%B1%BB/" title="第10章_常用类">第10章_常用类</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/JavaSE/" title="分类于 JavaSE">JavaSE</a> <i class="ic i-angle-right"></i> <a href="/categories/JavaSE/%E5%BC%82%E5%B8%B8/" title="分类于 异常">异常</a></div><span><a href="/2022/10/07/Java/%E7%AC%AC9%E7%AB%A0_%E5%BC%82%E5%B8%B8/" title="第9章_异常">第9章_异常</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/JavaSE/" title="分类于 JavaSE">JavaSE</a> <i class="ic i-angle-right"></i> <a href="/categories/JavaSE/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/" title="分类于 数据类型">数据类型</a></div><span><a href="/2022/10/07/Java/%E7%AC%AC2%E7%AB%A0_%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/" title="第2章_数据类型">第2章_数据类型</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%B7%A5%E5%85%B7%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/" title="分类于 工具软件安装">工具软件安装</a></div><span><a href="/2022/10/15/tools/XShell-tool/" title="XShell">XShell</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%B7%A5%E5%85%B7%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/" title="分类于 工具软件安装">工具软件安装</a></div><span><a href="/2022/10/15/tools/Erlang-tool/" title="Erlang">Erlang</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/JavaSE/" title="分类于 JavaSE">JavaSE</a> <i class="ic i-angle-right"></i> <a href="/categories/JavaSE/JAVA%E7%AE%80%E4%BB%8B/" title="分类于 JAVA 简介">JAVA 简介</a></div><span><a href="/2022/10/07/Java/%E7%AC%AC1%E7%AB%A0%E5%88%9D%E8%AF%86JAVA/" title="第1章初识JAVA">第1章初识JAVA</a></span></li></ul></div><div><h2>最新评论</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2010 – <span itemprop="copyrightYear">2022</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">雾都 @ 雾都博客</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="站点总字数">734k 字</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="站点阅读时长">11:07</span></div><div class="powered-by">基于 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"2022/10/15/tools/Zookeeper-tool/",favicon:{show:"（●´3｀●）やれやれだぜ",hide:"(´Д｀)大変だ！"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},valine:!0,audio:!0,fancybox:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script></body></html><!-- rebuild by hrmmi -->