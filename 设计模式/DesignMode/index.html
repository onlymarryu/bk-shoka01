<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="è®°å½•â€œç¾é£Ÿâ€æ¯åˆ»" href="http://yoursite.com/rss.xml"><link rel="alternate" type="application/atom+xml" title="è®°å½•â€œç¾é£Ÿâ€æ¯åˆ»" href="http://yoursite.com/atom.xml"><link rel="alternate" type="application/json" title="è®°å½•â€œç¾é£Ÿâ€æ¯åˆ»" href="http://yoursite.com/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="keywords" content="è®¾è®¡æ¨¡å¼"><link rel="canonical" href="http://yoursite.com/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/DesignMode/"><title>è®¾è®¡æ¨¡å¼ - è®¾è®¡æ¨¡å¼ | é›¾éƒ½åšå®¢ = è®°å½• â€œç¾é£Ÿâ€ æ¯åˆ»</title><meta name="generator" content="Hexo 6.3.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">è®¾è®¡æ¨¡å¼</h1><div class="meta"><span class="item" title="åˆ›å»ºæ—¶é—´ï¼š2022-04-21 00:00:00"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">å‘è¡¨äº</span> <time itemprop="dateCreated datePublished" datetime="2022-04-21T00:00:00+08:00">2022-04-21</time> </span><span class="item" title="æœ¬æ–‡å­—æ•°"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">æœ¬æ–‡å­—æ•°</span> <span>21k</span> <span class="text">å­—</span> </span><span class="item" title="é˜…è¯»æ—¶é•¿"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">é˜…è¯»æ—¶é•¿</span> <span>19 åˆ†é’Ÿ</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="åˆ‡æ¢å¯¼èˆªæ "><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">é›¾éƒ½åšå®¢</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://tva1.sinaimg.cn/large/6833939bly1giclhnx9glj20zk0m8npd.jpg"></li><li class="item" data-background-image="https://tva1.sinaimg.cn/large/6833939bly1giph47e9vtj20zk0m8x6l.jpg"></li><li class="item" data-background-image="https://tva1.sinaimg.cn/large/6833939bly1giclhfehz7j20zk0m8u0x.jpg"></li><li class="item" data-background-image="https://tva1.sinaimg.cn/large/6833939bly1gipeudstjqj20zk0m8k3r.jpg"></li><li class="item" data-background-image="https://tva1.sinaimg.cn/large/6833939bly1gicis081o9j20zk0m8dmr.jpg"></li><li class="item" data-background-image="https://tva1.sinaimg.cn/large/6833939bly1giclhpw3lwj20zk0m8gvw.jpg"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">é¦–é¡µ</a></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" itemprop="item" rel="index" title="åˆ†ç±»äº è®¾è®¡æ¨¡å¼"><span itemprop="name">è®¾è®¡æ¨¡å¼</span></a><meta itemprop="position" content="1"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="http://yoursite.com/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/DesignMode/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="é›¾éƒ½"><meta itemprop="description" content=", è®°å½• â€œç¾é£Ÿâ€ æ¯åˆ»"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="è®°å½• â€œç¾é£Ÿâ€ æ¯åˆ»"></span><div class="body md" itemprop="articleBody"><p>valine:<br>placeholder: â€œ1. æé—®å‰è¯·å…ˆä»”ç»†é˜…è¯»æœ¬æ–‡æ¡£âš¡\n2. é¡µé¢æ˜¾ç¤ºé—®é¢˜ğŸ’¥ï¼Œè¯·æä¾›æ§åˆ¶å°æˆªå›¾ğŸ“¸æˆ–è€…æ‚¨çš„æµ‹è¯•ç½‘å€\n3. å…¶ä»–ä»»ä½•æŠ¥é”™ğŸ’£ï¼Œè¯·æä¾›è¯¦ç»†æè¿°å’Œæˆªå›¾ğŸ“¸ï¼Œç¥é£Ÿç”¨æ„‰å¿«ğŸ’ªâ€</p><h1 id="è°ˆè°ˆä½ å¯¹è®¾è®¡æ¨¡å¼çš„ç†è§£"><a href="#è°ˆè°ˆä½ å¯¹è®¾è®¡æ¨¡å¼çš„ç†è§£" class="headerlink" title="è°ˆè°ˆä½ å¯¹è®¾è®¡æ¨¡å¼çš„ç†è§£"></a>è°ˆè°ˆä½ å¯¹è®¾è®¡æ¨¡å¼çš„ç†è§£</h1><p>1.é¦–å…ˆè°ˆè®¾è®¡æ¨¡å¼çš„ä½œç”¨ï¼šç»éªŒçš„ä¼ æ‰¿ï¼Œæé«˜äº†è½¯ä»¶å¤ç”¨çš„æ°´å¹³ï¼Œæœ€ç»ˆè¾¾åˆ°æé«˜è½¯ä»¶å¼€å‘æ•ˆç‡</p><p><strong>äº”å¤§åŸåˆ™</strong></p><table><thead><tr><th>è®¾è®¡åŸåˆ™</th><th align="left">ç®€å•è¯´æ˜</th></tr></thead><tbody><tr><td>å•ä¸€èŒè´£</td><td align="left">ä¸€ä¸ªç±»åªè´Ÿè´£ä¸€é¡¹èŒè´£</td></tr><tr><td>é‡Œæ°æ›¿æ¢åŸåˆ™</td><td align="left">å­ç±»å¯ä»¥æ‰©å±•çˆ¶ç±»çš„åŠŸèƒ½ï¼Œä½†ä¸èƒ½æ”¹å˜çˆ¶ç±»åŸæœ‰çš„åŠŸèƒ½</td></tr><tr><td>ä¾èµ–å€’ç½®åŸåˆ™</td><td align="left">è¦ä¾èµ–äºæŠ½è±¡ï¼Œä¸è¦ä¾èµ–äºå…·ä½“ï¼Œæ ¸å¿ƒæ€æƒ³æ˜¯<strong>é¢å‘æ¥å£ç¼–ç¨‹</strong></td></tr><tr><td>æ¥å£éš”ç¦»åŸåˆ™</td><td align="left">å»ºç«‹å•ä¸€æ¥å£ï¼Œä¸è¦å»ºç«‹åºå¤§è‡ƒè‚¿çš„æ¥å£ï¼Œå°½é‡ç»†åŒ–æ¥å£ï¼Œæ¥å£ä¸­çš„æ–¹æ³•å°½é‡å°‘</td></tr><tr><td>è¿ªç±³ç‰¹æ³•åˆ™ ï¼ˆæœ€å°‘çŸ¥é“åŸåˆ™ï¼‰</td><td align="left">ä¸€ä¸ªå¯¹è±¡åº”è¯¥å¯¹å…¶ä»–å¯¹è±¡ä¿æŒæœ€å°‘çš„äº†è§£</td></tr><tr><td>å¼€é—­åŸåˆ™</td><td align="left">å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­</td></tr></tbody></table><p>2.è®¾è®¡æ¨¡å¼çš„åˆ†ç±»</p><p><img data-src="https://fynotefile.oss-cn-zhangjiakou.aliyuncs.com/fynote/1462/1648123011000/2014caaf469649d1a3c84a582ef7319b.png" alt="image.png"></p><p>3.åˆ›å»ºå‹æ¨¡å¼ï¼šéƒ½æ˜¯ç”¨æ¥å¸®åŠ©æˆ‘ä»¬åˆ›å»ºå¯¹è±¡çš„ï¼</p><p><img data-src="https://fynotefile.oss-cn-zhangjiakou.aliyuncs.com/fynote/1462/1648123011000/c6b87746e9884c22b56ca99bc265c496.png" alt="image.png"></p><p>4.ç»“æ„æ€§æ¨¡å¼:å…³æ³¨å¯¹è±¡å’Œç±»çš„ç»„ç»‡</p><p><img data-src="https://fynotefile.oss-cn-zhangjiakou.aliyuncs.com/fynote/1462/1648123011000/6b8dffa88b924af6ba3664386d6a9f0a.png" alt="image.png"></p><p>5.è¡Œä¸ºå‹æ¨¡å¼:å…³æ³¨ç³»ç»Ÿä¸­å¯¹è±¡ä¹‹é—´çš„ç›¸äº’äº¤æ¢ï¼Œç ”ç©¶ç³»ç»Ÿåœ¨è¿è¡Œæ—¶å¯¹è±¡ä¹‹é—´çš„ç›¸äº’é€šä¿¡å’Œåä½œï¼Œè¿›ä¸€æ­¥æ˜ç¡®å¯¹è±¡çš„èŒè´£ï¼Œå…±æœ‰11ä¸­æ¨¡å¼</p><p><img data-src="https://fynotefile.oss-cn-zhangjiakou.aliyuncs.com/fynote/1462/1648123011000/9bfe35ab4a494cc4ae84a20ee9e30a5c.png" alt="image.png"></p><h1 id="ä¸€ã€åˆ›å»ºå‹æ¨¡å¼"><a href="#ä¸€ã€åˆ›å»ºå‹æ¨¡å¼" class="headerlink" title="ä¸€ã€åˆ›å»ºå‹æ¨¡å¼"></a>ä¸€ã€åˆ›å»ºå‹æ¨¡å¼</h1><h2 id="1-å•ä¾‹æ¨¡å¼"><a href="#1-å•ä¾‹æ¨¡å¼" class="headerlink" title="1.å•ä¾‹æ¨¡å¼"></a>1.å•ä¾‹æ¨¡å¼</h2><p>ä½œç”¨ï¼šå•ä¾‹æ¨¡å¼çš„æ ¸å¿ƒæ˜¯<strong>ä¿è¯ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œå¹¶ä¸”æä¾›ä¸€ä¸ªè®¿é—®å®ä¾‹çš„å…¨å±€è®¿é—®ç‚¹ã€‚</strong></p><table><thead><tr><th>å®ç°æ–¹å¼</th><th align="left">ä¼˜ç¼ºç‚¹</th></tr></thead><tbody><tr><td>é¥¿æ±‰å¼</td><td align="left">çº¿ç¨‹å®‰å…¨ï¼Œè°ƒç”¨æ•ˆç‡é«˜ ï¼Œä½†æ˜¯ä¸èƒ½å»¶è¿ŸåŠ è½½</td></tr><tr><td>æ‡’æ±‰å¼</td><td align="left">çº¿ç¨‹å®‰å…¨ï¼Œè°ƒç”¨æ•ˆç‡ä¸é«˜ï¼Œèƒ½å»¶è¿ŸåŠ è½½</td></tr><tr><td>åŒé‡æ£€æµ‹é”å¼</td><td align="left">åœ¨æ‡’æ±‰å¼çš„åŸºç¡€ä¸Šè§£å†³å¹¶å‘é—®é¢˜</td></tr><tr><td>é™æ€å†…éƒ¨ç±»å¼</td><td align="left">çº¿ç¨‹å®‰å…¨ï¼Œèµ„æºåˆ©ç”¨ç‡é«˜ï¼Œå¯ä»¥å»¶æ—¶åŠ è½½</td></tr><tr><td>æšä¸¾å•ä¾‹</td><td align="left">çº¿ç¨‹å®‰å…¨ï¼Œè°ƒç”¨æ•ˆç‡é«˜ï¼Œä½†æ˜¯ä¸èƒ½å»¶è¿ŸåŠ è½½</td></tr></tbody></table><h3 id="é¥¿æ±‰å¼"><a href="#é¥¿æ±‰å¼" class="headerlink" title="é¥¿æ±‰å¼"></a>é¥¿æ±‰å¼</h3><p>ä¹Ÿå°±æ˜¯ç±»åŠ è½½çš„æ—¶å€™ç«‹å³å®ä¾‹åŒ–å¯¹è±¡ï¼Œå®ç°çš„æ­¥éª¤æ˜¯å…ˆç§æœ‰åŒ–æ„é€ æ–¹æ³•ï¼Œå¯¹å¤–æä¾›å”¯ä¸€çš„é™æ€å…¥å£æ–¹æ³•ï¼Œå®ç°å¦‚ä¸‹</p><pre><code class="java">/**
 * å•ä¾‹æ¨¡å¼ï¼šé¥¿æ±‰å¼
 *
 */
public class SingletonInstance1 &#123;
    // å£°æ˜æ­¤ç±»å‹çš„å˜é‡ï¼Œå¹¶å®ä¾‹åŒ–ï¼Œå½“è¯¥ç±»è¢«åŠ è½½çš„æ—¶å€™å°±å®Œæˆäº†å®ä¾‹åŒ–å¹¶ä¿å­˜åœ¨äº†å†…å­˜ä¸­
    private final static SingletonInstance1 instance = new SingletonInstance1();

    // ç§æœ‰åŒ–æ‰€æœ‰çš„æ„é€ æ–¹æ³•,é˜²æ­¢ç›´æ¥é€šè¿‡newå…³é”®å­—å®ä¾‹åŒ–
    private SingletonInstance1()&#123;&#125;
    // å¯¹å¤–æä¾›ä¸€ä¸ªè·å–å®ä¾‹çš„é™æ€æ–¹æ³•
    public static SingletonInstance1 getInstance()&#123;
        return instance;
    &#125;
&#125;
</code></pre><p>é¥¿æ±‰å¼å•ä¾‹æ¨¡å¼ä»£ç ä¸­ï¼Œstaticå˜é‡ä¼šåœ¨ç±»è£…è½½æ—¶åˆå§‹åŒ–ï¼Œæ­¤æ—¶ä¹Ÿä¸ä¼šæ¶‰åŠå¤šä¸ªçº¿ç¨‹å¯¹è±¡è®¿é—®è¯¥å¯¹è±¡çš„é—®é¢˜ã€‚è™šæ‹Ÿæœºä¿è¯åªä¼šè£…è½½ä¸€æ¬¡è¯¥ç±»ï¼Œè‚¯å®šä¸ä¼šå‘ç”Ÿå¹¶å‘è®¿é—®çš„é—®é¢˜ã€‚å› æ­¤ï¼Œå¯ä»¥çœç•¥synchronizedå…³é”®å­—</p><p>é—®é¢˜ï¼šå¦‚æœåªæ˜¯åŠ è½½æœ¬ç±»ï¼Œè€Œä¸æ˜¯è¦è°ƒç”¨getInstance()ï¼Œç”šè‡³æ°¸è¿œæ²¡æœ‰è°ƒç”¨ï¼Œåˆ™ä¼šé€ æˆèµ„æºæµªè´¹ï¼</p><pre><code class="java">/**
 * å•ä¾‹æ¨¡å¼ï¼šé¥¿æ±‰å¼
 *
 */
public class SingletonInstance1 &#123;
    private byte[] b1 = new byte[1024*1024];
    private byte[] b2 = new byte[1024*1024];
    private byte[] b3 = new byte[1024*1024];
    // å£°æ˜æ­¤ç±»å‹çš„å˜é‡ï¼Œå¹¶å®ä¾‹åŒ–ï¼Œå½“è¯¥ç±»è¢«åŠ è½½çš„æ—¶å€™å°±å®Œæˆäº†å®ä¾‹åŒ–å¹¶ä¿å­˜åœ¨äº†å†…å­˜ä¸­
    private final static SingletonInstance1 instance = new SingletonInstance1();

    // ç§æœ‰åŒ–æ‰€æœ‰çš„æ„é€ æ–¹æ³•,é˜²æ­¢ç›´æ¥é€šè¿‡newå…³é”®å­—å®ä¾‹åŒ–
    private SingletonInstance1()&#123;&#125;
    // å¯¹å¤–æä¾›ä¸€ä¸ªè·å–å®ä¾‹çš„é™æ€æ–¹æ³•
    public static SingletonInstance1 getInstance()&#123;
        return instance;
    &#125;
&#125;
</code></pre><h3 id="æ‡’æ±‰å¼"><a href="#æ‡’æ±‰å¼" class="headerlink" title="æ‡’æ±‰å¼"></a>æ‡’æ±‰å¼</h3><pre><code class="java">/**
 * å•ä¾‹æ¨¡å¼ï¼šæ‡’æ±‰å¼
 *
 */
public class SingletonInstance2 &#123;
    // å£°æ˜æ­¤ç±»å‹çš„å˜é‡,ä½†æ²¡æœ‰å®ä¾‹åŒ–
    private static SingletonInstance2 instance = null;

    // ç§æœ‰åŒ–æ‰€æœ‰çš„æ„é€ æ–¹æ³•,é˜²æ­¢ç›´æ¥é€šè¿‡newå…³é”®å­—å®ä¾‹åŒ–
    private SingletonInstance2()&#123;&#125;
    // å¯¹å¤–æä¾›ä¸€ä¸ªè·å–å®ä¾‹çš„é™æ€æ–¹æ³•ï¼Œä¸ºäº†æ•°æ®å®‰å…¨æ·»åŠ synchronizedå…³é”®å­—
    public static synchronized SingletonInstance2 getInstance()&#123;
        if(instance == null)&#123;
            // å½“instanceä¸ä¸ºç©ºçš„æ—¶å€™æ‰å®ä¾‹åŒ–
            instance = new SingletonInstance2();
        &#125;
        return instance;
    &#125;
&#125;
</code></pre><p>&amp;emsp;&amp;emsp;æ­¤ç§æ–¹å¼åœ¨ç±»åŠ è½½åå¦‚æœæˆ‘ä»¬ä¸€ç›´æ²¡æœ‰è°ƒç”¨getInstanceæ–¹æ³•ï¼Œé‚£ä¹ˆå°±ä¸ä¼šå®ä¾‹åŒ–å¯¹è±¡ã€‚å®ç°äº†å»¶è¿ŸåŠ è½½ï¼Œä½†æ˜¯å› ä¸ºåœ¨æ–¹æ³•ä¸Šæ·»åŠ äº†synchronizedå…³é”®å­—ï¼Œæ¯æ¬¡è°ƒç”¨getInstanceæ–¹æ³•éƒ½ä¼šåŒæ­¥ï¼Œæ‰€ä»¥å¯¹æ€§èƒ½çš„å½±å“æ¯”è¾ƒå¤§ã€‚</p><h3 id="åŒé‡æ£€æµ‹é”"><a href="#åŒé‡æ£€æµ‹é”" class="headerlink" title="åŒé‡æ£€æµ‹é”"></a>åŒé‡æ£€æµ‹é”</h3><pre><code class="java">/**
 * å•ä¾‹æ¨¡å¼ï¼šæ‡’æ±‰å¼
 * åŒé‡æ£€æµ‹æœºåˆ¶
 *
 */
public class SingletonInstance3 &#123;
    // å£°æ˜æ­¤ç±»å‹çš„å˜é‡,ä½†æ²¡æœ‰å®ä¾‹åŒ–
    private static volatile  SingletonInstance3 instance = null;

    // ç§æœ‰åŒ–æ‰€æœ‰çš„æ„é€ æ–¹æ³•,é˜²æ­¢ç›´æ¥é€šè¿‡newå…³é”®å­—å®ä¾‹åŒ–
    private SingletonInstance3()&#123;&#125;
    // å¯¹å¤–æä¾›ä¸€ä¸ªè·å–å®ä¾‹çš„é™æ€æ–¹æ³•ï¼Œ
    public static  SingletonInstance3 getInstance()&#123;
        if(instance == null)&#123;
            synchronized(SingletonInstance3.class)&#123;
                if(instance == null)&#123;
                    // 1.åˆ†é…å†…å­˜ç©ºé—´  2. æ‰§è¡Œæ„é€ æ–¹æ³•ï¼Œå®ä¾‹åŒ–å¯¹è±¡ 3.æŠŠè¿™ä¸ªå¯¹è±¡èµ‹å€¼ç»™è¿™ä¸ªç©ºé—´
                    // å¦‚æœä¸åŠ volatile ä¼šæ‰§è¡Œé‡æ’åº 1 3 2 
                    instance = new SingletonInstance3();
                &#125;
            &#125;
        &#125;
        return instance;
    &#125;
&#125;
</code></pre><p>ä¸åŠ volatileæœ‰æŒ‡ä»¤é‡æ’åºçš„é—®é¢˜ã€‚æ·»åŠ åå¯ä»¥è§£å†³ã€‚</p><h3 id="é™æ€å†…éƒ¨ç±»"><a href="#é™æ€å†…éƒ¨ç±»" class="headerlink" title="é™æ€å†…éƒ¨ç±»"></a>é™æ€å†…éƒ¨ç±»</h3><pre><code class="java">/**
 * é™æ€å†…éƒ¨ç±»å®ç°æ–¹å¼
 *
 */
public class SingletonInstance4 &#123;
    // é™æ€å†…éƒ¨ç±»
    public static class SingletonClassInstance&#123;
        // å£°æ˜å¤–éƒ¨ç±»å‹çš„é™æ€å¸¸é‡
        public static final SingletonInstance4 instance = new SingletonInstance4();
    &#125;
    // ç§æœ‰åŒ–æ„é€ æ–¹æ³•
    private SingletonInstance4()&#123;&#125;

    // å¯¹å¤–æä¾›çš„å”¯ä¸€è·å–å®ä¾‹çš„æ–¹æ³•
    public static SingletonInstance4 getInstance()&#123;
        return SingletonClassInstance.instance;
    &#125;
&#125;
</code></pre><h3 id="æšä¸¾å•ä¾‹"><a href="#æšä¸¾å•ä¾‹" class="headerlink" title="æšä¸¾å•ä¾‹"></a>æšä¸¾å•ä¾‹</h3><pre><code class="java">/**
 * å•ä¾‹æ¨¡å¼ï¼šæšä¸¾æ–¹å¼å®ç°
 *
 */
public enum SingletonInstance5 &#123;

    // å®šä¹‰ä¸€ä¸ªæšä¸¾å…ƒç´ ï¼Œåˆ™è¿™ä¸ªå…ƒç´ å°±ä»£è¡¨äº†SingletonInstance5çš„å®ä¾‹
    INSTANCE;

    public void singletonOperation()&#123;
        // åŠŸèƒ½å¤„ç†
    &#125;
&#125;
</code></pre><h2 id="2-æ€ä¹ˆè§£å†³åå°„çˆ†ç ´å•ä¾‹"><a href="#2-æ€ä¹ˆè§£å†³åå°„çˆ†ç ´å•ä¾‹" class="headerlink" title="2.æ€ä¹ˆè§£å†³åå°„çˆ†ç ´å•ä¾‹"></a>2.æ€ä¹ˆè§£å†³åå°„çˆ†ç ´å•ä¾‹</h2><p>&amp;emsp;&amp;emsp;åœ¨å•ä¾‹ä¸­æˆ‘ä»¬å®šä¹‰çš„ç§æœ‰çš„æ„é€ å™¨ï¼Œä½†æ˜¯æˆ‘ä»¬çŸ¥é“åå°„æ˜¯å¯ä»¥æ“ä½œç§æœ‰çš„å±æ€§å’Œæ–¹æ³•çš„ï¼Œè¿™æ—¶æˆ‘ä»¬åº”è¯¥æ€ä¹ˆå¤„ç†ï¼Ÿ</p><pre><code class="java">public static void main(String[] args) throws Exception, IllegalAccessException &#123;
    SingletonInstance1 s1 = SingletonInstance1.getInstance();
    // åå°„æ–¹å¼è·å–å®ä¾‹
    Class c1 = SingletonInstance1.class;
    Constructor constructor = c1.getDeclaredConstructor(null);
    constructor.setAccessible(true);
    SingletonInstance1 s2 = (SingletonInstance1)constructor.newInstance(null);
    System.out.println(s1);
    System.out.println(s2);
&#125;
</code></pre><p>è¾“å‡ºç»“æœ</p><pre><code class="txt">com.dpb.single.SingletonInstance1@15db9742
com.dpb.single.SingletonInstance1@6d06d69c
</code></pre><p>äº§ç”Ÿäº†ä¸¤ä¸ªå¯¹è±¡ï¼Œå’Œå•ä¾‹çš„è®¾è®¡åˆè¡·è¿èƒŒäº†ã€‚<br>è§£å†³çš„æ–¹å¼æ˜¯åœ¨æ— å‚æ„é€ æ–¹æ³•ä¸­æ‰‹åŠ¨æŠ›å‡ºå¼‚å¸¸æ§åˆ¶,æˆ–è€…å£°æ˜ä¸€ä¸ªå…¨å±€å˜é‡æ¥æ§åˆ¶ã€‚</p><pre><code class="java">// ç§æœ‰åŒ–æ‰€æœ‰çš„æ„é€ æ–¹æ³•,é˜²æ­¢ç›´æ¥é€šè¿‡newå…³é”®å­—å®ä¾‹åŒ–
private SingletonInstance2()&#123;
    if(instance != null)&#123;
        // åªèƒ½æœ‰ä¸€ä¸ªå®ä¾‹å­˜åœ¨ï¼Œå¦‚æœå†æ¬¡è°ƒç”¨è¯¥æ„é€ æ–¹æ³•å°±æŠ›å‡ºå¼‚å¸¸ï¼Œé˜²æ­¢åå°„æ–¹å¼å®ä¾‹åŒ–
        throw new RuntimeException(&quot;å•ä¾‹æ¨¡å¼åªèƒ½åˆ›å»ºä¸€ä¸ªå¯¹è±¡&quot;);
    &#125;
&#125;
</code></pre><p>ä¸Šé¢è¿™ç§æ–¹å¼æˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡ååºåˆ—åŒ–çš„æ–¹å¼æ¥ç ´è§£</p><pre><code class="java">public static void main(String[] args) throws Exception, IllegalAccessException &#123;
    SingletonInstance2 s1 = SingletonInstance2.getInstance();
    // å°†å®ä¾‹å¯¹è±¡åºåˆ—åŒ–åˆ°æ–‡ä»¶ä¸­
    ObjectOutputStream oos = new ObjectOutputStream(
            new FileOutputStream(&quot;c:/tools/a.txt&quot;));
    oos.writeObject(s1);
    oos.flush();
    oos.close();
    // å°†å®ä¾‹ä»æ–‡ä»¶ä¸­ååºåˆ—åŒ–å‡ºæ¥
    ObjectInputStream ois = new ObjectInputStream(
            new FileInputStream(&quot;c:/tools/a.txt&quot;));
    SingletonInstance2 s2 = (SingletonInstance2) ois.readObject();
    ois.close();
    System.out.println(s1);
    System.out.println(s2);
&#125;
</code></pre><p>æˆ‘ä»¬åªéœ€è¦åœ¨å•ä¾‹ç±»ä¸­é‡å†™readResolveæ–¹æ³•å¹¶åœ¨è¯¥æ–¹æ³•ä¸­è¿”å›å•ä¾‹å¯¹è±¡å³å¯ï¼Œå¦‚ä¸‹:</p><pre><code class="java">package com.dpb.single;

import java.io.ObjectStreamException;
import java.io.Serializable;

/**
 * å•ä¾‹æ¨¡å¼ï¼šæ‡’æ±‰å¼
 *
 */
public class SingletonInstance2 implements Serializable&#123;

    // å£°æ˜æ­¤ç±»å‹çš„å˜é‡,ä½†æ²¡æœ‰å®ä¾‹åŒ–
    private static SingletonInstance2 instance = null;

    // ç§æœ‰åŒ–æ‰€æœ‰çš„æ„é€ æ–¹æ³•,é˜²æ­¢ç›´æ¥é€šè¿‡newå…³é”®å­—å®ä¾‹åŒ–
    private SingletonInstance2()&#123;
        if(instance != null)&#123;
            // åªèƒ½æœ‰ä¸€ä¸ªå®ä¾‹å­˜åœ¨ï¼Œå¦‚æœå†æ¬¡è°ƒç”¨è¯¥æ„é€ æ–¹æ³•å°±æŠ›å‡ºå¼‚å¸¸ï¼Œé˜²æ­¢åå°„æ–¹å¼å®ä¾‹åŒ–
            throw new RuntimeException(&quot;å•ä¾‹æ¨¡å¼åªèƒ½åˆ›å»ºä¸€ä¸ªå¯¹è±¡&quot;);
        &#125;
    &#125;
    // å¯¹å¤–æä¾›ä¸€ä¸ªè·å–å®ä¾‹çš„é™æ€æ–¹æ³•ï¼Œä¸ºäº†æ•°æ®å®‰å…¨æ·»åŠ synchronizedå…³é”®å­—
    public static synchronized SingletonInstance2 getInstance()&#123;
        if(instance == null)&#123;
            // å½“instanceä¸ä¸ºç©ºçš„æ—¶å€™æ‰å®ä¾‹åŒ–
            instance = new SingletonInstance2();
        &#125;
        return instance;
    &#125;
    // é‡å†™è¯¥æ–¹æ³•ï¼Œé˜²æ­¢åºåˆ—åŒ–å’Œååºåˆ—åŒ–è·å–å®ä¾‹
    private Object readResolve() throws ObjectStreamException&#123;
        return instance;
    &#125;
&#125;
</code></pre><p>è¯´æ˜:readResolveæ–¹æ³•æ˜¯åŸºäºå›è°ƒçš„ï¼Œååºåˆ—åŒ–æ—¶ï¼Œå¦‚æœå®šä¹‰äº†readResolve()åˆ™ç›´æ¥è¿”å›æ­¤æ–¹æ³•æŒ‡å®šçš„å¯¹è±¡ï¼Œè€Œä¸éœ€è¦åœ¨åˆ›å»ºæ–°çš„å¯¹è±¡ï¼</p><h2 id="3-è¯´è¯´ä½ åœ¨å“ªäº›æ¡†æ¶ä¸­çœ‹åˆ°äº†å•ä¾‹çš„è®¾è®¡"><a href="#3-è¯´è¯´ä½ åœ¨å“ªäº›æ¡†æ¶ä¸­çœ‹åˆ°äº†å•ä¾‹çš„è®¾è®¡" class="headerlink" title="3.è¯´è¯´ä½ åœ¨å“ªäº›æ¡†æ¶ä¸­çœ‹åˆ°äº†å•ä¾‹çš„è®¾è®¡"></a>3.è¯´è¯´ä½ åœ¨å“ªäº›æ¡†æ¶ä¸­çœ‹åˆ°äº†å•ä¾‹çš„è®¾è®¡</h2><p>1.Springä¸­çš„Beanå¯¹è±¡ï¼Œé»˜è®¤æ˜¯å•ä¾‹æ¨¡å¼</p><p>2.ç›¸å…³çš„å·¥å‚å¯¹è±¡éƒ½æ˜¯å•ä¾‹ï¼Œæ¯”å¦‚ï¼šMyBatisä¸­çš„SqlSessionFactoryï¼ŒSpringä¸­çš„BeanFactory</p><p>3.ä¿å­˜ç›¸å…³é…ç½®ä¿¡æ¯çš„éƒ½æ˜¯å•ä¾‹ï¼Œæ¯”å¦‚ï¼šMyBatisä¸­çš„Configurationå¯¹è±¡ï¼ŒSpringBootä¸­çš„å„ä¸ªXXXAutoConfigurationå¯¹è±¡ç­‰</p><p>4.åº”ç”¨ç¨‹åºçš„æ—¥å¿—åº”ç”¨ï¼Œä¸€èˆ¬éƒ½ä¼šé€šè¿‡å•ä¾‹æ¥å®ç°</p><p>5.æ•°æ®åº“è¿æ¥æ± çš„è®¾è®¡ä¹Ÿæ˜¯å•ä¾‹æ¨¡å¼</p><h2 id="4-å·¥å‚æ¨¡å¼"><a href="#4-å·¥å‚æ¨¡å¼" class="headerlink" title="4.å·¥å‚æ¨¡å¼"></a>4.å·¥å‚æ¨¡å¼</h2><p>&amp;emsp;&amp;emsp;å·¥å‚æ¨¡å¼çš„ä½œç”¨æ˜¯å¸®åŠ©æˆ‘ä»¬åˆ›å»ºå¯¹è±¡ï¼Œæˆ‘ä»¬ä¸ç”¨è‡ªå·±æ¥åˆ›å»ºï¼Œæ ¹æ®éœ€è¦åˆ›å»ºçš„å¯¹è±¡çš„å¤æ‚åº¦æˆ‘ä»¬å¯ä»¥æŠŠå·¥å‚æ¨¡å¼åˆ†ä¸ºç®€å•å·¥å‚ï¼Œå·¥å‚æ–¹æ³•å’ŒæŠ½è±¡å·¥å‚ã€‚</p><p><img data-src="https://fynotefile.oss-cn-zhangjiakou.aliyuncs.com/fynote/1462/1648123011000/95f501de57d3451faf9228414dc6f75f.png" alt="image.png"></p><h3 id="4-1-ç®€å•å·¥å‚"><a href="#4-1-ç®€å•å·¥å‚" class="headerlink" title="4.1 ç®€å•å·¥å‚"></a>4.1 ç®€å•å·¥å‚</h3><p>&amp;emsp;&amp;emsp;ç®€å•å·¥å‚æ¨¡å¼åˆç§°ä¸ºé™æ€å·¥å‚æ–¹æ³•ï¼Œä»–å¯ä»¥æ ¹æ®ä¸åŒçš„å‚æ•°è€Œè¿”å›ä¸åŒçš„å®ä¾‹ï¼Œç®€å•å·¥å‚æ¨¡å¼ä¸“é—¨å®šä¹‰ä¸€ä¸ªç±»æ¥è´Ÿè´£åˆ›å»ºå…¶ä»–ç±»çš„å®ä¾‹ï¼Œè¢«åˆ›å»ºçš„å®ä¾‹é€šå¸¸éƒ½å…·æœ‰å…±åŒçš„çˆ¶ç±»ã€‚</p><p>JDKä¸­çš„ç®€å•å·¥å‚åº”ç”¨ï¼šDataFormat</p><p><img data-src="https://fynotefile.oss-cn-zhangjiakou.aliyuncs.com/fynote/1462/1648123011000/4fdddcfbf8784080a3706158f6945e9a.png" alt="image.png"></p><p>è‡ªå·±å†™ä¸€ä¸ªç®€å•å·¥å‚çš„æ¡ˆä¾‹</p><p><img data-src="https://fynotefile.oss-cn-zhangjiakou.aliyuncs.com/fynote/1462/1648123011000/de2237eb14fe491fbd38c5a815fa7c27.png" alt="image.png"></p><pre><code class="java">/**
 * ç®€å•å·¥å‚
 */
public class SimpleFactory &#123;

    public static void main(String[] args) &#123;
        // æ ¹æ®å¯¹åº”çš„ç±»å‹è¿”å›ç›¸å…³äº§å“
        CarFactory.createCar(&quot;å¥¥è¿ª&quot;).run();
        CarFactory.createCar(&quot;Byd&quot;).run();
    &#125;
&#125;

// å®šä¹‰å…¬å…±çš„æ¥å£
interface Car&#123;
    void run();
&#125;

class Audi implements Car&#123;
    @Override
    public void run() &#123;
        System.out.println(&quot;å¥¥è¿ªåœ¨è·‘...&quot;);
    &#125;
&#125;

class Byd implements Car&#123;
    @Override
    public void run() &#123;
        System.out.println(&quot;Bydåœ¨è·‘...&quot;);
    &#125;
&#125;

// åˆ›å»ºå¯¹åº”çš„ç®€å•å·¥å‚ç±»
class CarFactory&#123;
    public static Car createCar(String type)&#123;
        if(&quot;å¥¥è¿ª&quot;.equals(type))&#123;
            return new Audi();
        &#125;else if(&quot;Byd&quot;.equals(type))&#123;
            return new Byd();
        &#125;else&#123;
            throw new RuntimeException(&quot;è¯¥äº§å“ä¸èƒ½ç”Ÿäº§&quot;);
        &#125;
    &#125;
&#125;
</code></pre><p>æˆ‘ä»¬å¯ä»¥å‘ç°ç®€å•å·¥å‚å¯¹äºæ–°å¢äº§å“æ˜¯æ— èƒ½ä¸ºåŠ›çš„ï¼ä¸ä¿®æ”¹åŸæœ‰ä»£ç æ ¹æœ¬å°±æ²¡åŠæ³•æ‰©å±•!!!</p><h3 id="4-2-å·¥å‚æ–¹æ³•"><a href="#4-2-å·¥å‚æ–¹æ³•" class="headerlink" title="4.2 å·¥å‚æ–¹æ³•"></a>4.2 å·¥å‚æ–¹æ³•</h3><p>&amp;emsp;&amp;emsp;é’ˆå¯¹äºç®€å•å·¥å‚çš„çŸ­æ¿ï¼Œå¼•å‡ºäº†å·¥å‚æ–¹æ³•æ¨¡å¼ï¼Œå®šä¹‰ä¸€ä¸ªç”¨æˆ·åˆ›å»ºå¯¹è±¡çš„æ¥å£ï¼Œè®©å­ç±»å†³å®šå®ä¾‹åŒ–å“ªä¸ªç±»ï¼Œå·¥å‚æ–¹æ³•ä½¿ä¸€ä¸ªç±»çš„å®ä¾‹åŒ–å»¶è¿Ÿåˆ°äº†å…¶å­ç±»ä¸­ã€‚</p><p><img data-src="https://fynotefile.oss-cn-zhangjiakou.aliyuncs.com/fynote/1462/1648123011000/cedbded5fc4543eb80dd3663bbe814c7.png" alt="image.png"></p><p>ä»£ç å®ç°ï¼š</p><pre><code class="java">/**
 * å·¥å‚æ–¹æ³•æ¨¡å¼
 */
public class FactoryMethod &#123;

    public static void main(String[] args) &#123;
        new AudiCarFactory().createCar().run();
        new BydCarFactory().createCar().run();
    &#125;


    public static interface  Car&#123;
        public void run();
    &#125;

    public static class Byd implements Car&#123;
        @Override
        public void run() &#123;
            System.out.println(&quot;æ¯”äºšè¿ª...&quot;);
        &#125;
    &#125;

    public static class Audi implements Car&#123;
        @Override
        public void run() &#123;
            System.out.println(&quot;å¥¥è¿ª...&quot;);
        &#125;
    &#125;

    public static interface CarFactory&#123;
        public Car createCar();
    &#125;

    // æ‰©å±•çš„å·¥å‚
    public static class AudiCarFactory implements CarFactory&#123;
        @Override
        public Car createCar() &#123;
            return new Audi();
        &#125;
    &#125;

    public static class BydCarFactory implements CarFactory&#123;
        @Override
        public Car createCar() &#123;
            return new Byd();
        &#125;
    &#125;
&#125;
</code></pre><p>ç®€å•å·¥å‚å’Œå·¥å‚æ–¹æ³•æ¨¡å¼çš„å¯¹æ¯”</p><ol><li>ç®€å•å·¥å‚åªæœ‰ä¸€ä¸ªå·¥å‚ï¼Œè€Œå·¥å‚æ–¹æ³•æœ‰å¤šä¸ªå·¥å‚</li><li>ç®€å•å·¥å‚ä¸æ”¯æŒæ‰©å±•ï¼Œè€Œå·¥å‚æ–¹æ³•æ”¯æŒæ‰©å±•ï¼Œæ‰©å±•çš„æ–¹å¼å°±æ˜¯æ·»åŠ å¯¹åº”çš„å·¥å‚ç±»å³å¯</li><li>ç®€å•å·¥å‚ä»£ç å¤æ‚åº¦ä½ï¼Œå·¥å‚æ–¹æ³•ä»£ç å¤æ‚åº¦é«˜</li><li>â€¦</li></ol><h3 id="4-3-æŠ½è±¡å·¥å‚"><a href="#4-3-æŠ½è±¡å·¥å‚" class="headerlink" title="4.3 æŠ½è±¡å·¥å‚"></a>4.3 æŠ½è±¡å·¥å‚</h3><p>&amp;emsp;&amp;emsp;ä¸Šé¢çš„ä¸¤ç§æ–¹å¼å®ç°çš„å·¥å‚éƒ½æ˜¯ç”Ÿäº§åŒä¸€å¤§ç±»çš„äº§å“ï¼Œå¦‚æœè¦å®ç°ç”Ÿäº§ä¸åŒç±»å‹çš„äº§å“è¿™æ—¶æˆ‘ä»¬å°±å¯ä»¥ç”¨æŠ½è±¡å·¥å‚æ¨¡å¼æ¥å®ç°ã€‚</p><p><img data-src="https://fynotefile.oss-cn-zhangjiakou.aliyuncs.com/fynote/1462/1648123011000/185ba2bc37394c47ae8f62390d019829.png" alt="image.png"></p><p>ä»£ç å®ç°ï¼š</p><pre><code class="java">/**
 * æŠ½è±¡å·¥å‚ï¼šå¤šä¸ªäº§å“æ—
 */
public class AbstractFactory &#123;

    public static void main(String[] args) &#123;
        Car car = new LuxuryEngineCarFacory().createCar();
        Engine engine = new LuxuryEngineCarFacory().createEngine();
        car.run();
        engine.run();
    &#125;

    // æŠ½è±¡å·¥å‚
    public static interface AbstarctComponentFactory&#123;
        Car createCar();
        Engine createEngine();
    &#125;

    public static class LuxuryEngineCarFacory implements AbstarctComponentFactory&#123;
        @Override
        public Engine createEngine() &#123;
            return new LuxuryEngineFactory().createEngine();
        &#125;

        @Override
        public Car createCar() &#123;
            return new BydCarFactory().createCar();
        &#125;
    &#125;

    public static class LowEngineCarFacory implements AbstarctComponentFactory&#123;
        @Override
        public Car createCar() &#123;
            return new AudiCarFactory().createCar();
        &#125;

        @Override
        public Engine createEngine() &#123;
            return new LowEngineFactory().createEngine();
        &#125;
    &#125;

    // æ±½è½¦äº§å“æ—
    public static interface  Car&#123;
        public void run();
    &#125;

    public static class Byd implements Car &#123;
        @Override
        public void run() &#123;
            System.out.println(&quot;æ¯”äºšè¿ª...&quot;);
        &#125;
    &#125;

    public static class Audi implements Car &#123;
        @Override
        public void run() &#123;
            System.out.println(&quot;å¥¥è¿ª...&quot;);
        &#125;
    &#125;

    public static interface CarFactory&#123;
        public Car createCar();
    &#125;

    // æ‰©å±•çš„å·¥å‚
    public static class AudiCarFactory implements CarFactory &#123;
        @Override
        public Car createCar() &#123;
            return new Audi();
        &#125;
    &#125;

    public static class BydCarFactory implements  CarFactory&#123;
        @Override
        public Car createCar() &#123;
            return new Byd();
        &#125;
    &#125;

    // å‘åŠ¨æœºäº§å“æ—
    public static interface Engine&#123;
        public void run();
    &#125;

    public static class LuxuryEngine implements Engine&#123;
        @Override
        public void run() &#123;
            System.out.println(&quot;è±ªåç‰ˆå‘åŠ¨æœº...&quot;);
        &#125;
    &#125;

    public static class LowEngine implements Engine&#123;
        @Override
        public void run() &#123;
            System.out.println(&quot;ä½é…ç‰ˆå‘åŠ¨æœº...&quot;);
        &#125;
    &#125;

    public static interface EngineFactory&#123;
        public Engine createEngine();
    &#125;

    public static class LuxuryEngineFactory implements EngineFactory&#123;
        @Override
        public Engine createEngine() &#123;
            return new LuxuryEngine();
        &#125;
    &#125;

    public static class LowEngineFactory implements EngineFactory&#123;
        @Override
        public Engine createEngine() &#123;
            return new LowEngine();
        &#125;
    &#125;
&#125;
</code></pre><p>ä¸‰è€…çš„å¯¹æ¯”ï¼š</p><ol><li>ç®€å•å·¥å‚æ¨¡å¼(é™æ€å·¥å‚æ¨¡å¼) ï¼šè™½ç„¶æŸç§ç¨‹åº¦ä¸ç¬¦åˆè®¾è®¡åŸåˆ™ï¼Œä½†å®é™…ä½¿ç”¨æœ€å¤šã€‚</li><li>å·¥å‚æ–¹æ³•æ¨¡å¼ï¼šä¸ä¿®æ”¹å·²æœ‰ç±»çš„å‰æä¸‹ï¼Œé€šè¿‡å¢åŠ æ–°çš„å·¥å‚ç±»å®ç°æ‰©å±•ã€‚</li><li>æŠ½è±¡å·¥å‚æ¨¡å¼ï¼šä¸å¯ä»¥å¢åŠ äº§å“ï¼Œå¯ä»¥å¢åŠ äº§å“æ—ï¼</li></ol><h2 id="5-å»ºé€ è€…æ¨¡å¼"><a href="#5-å»ºé€ è€…æ¨¡å¼" class="headerlink" title="5.å»ºé€ è€…æ¨¡å¼"></a>5.å»ºé€ è€…æ¨¡å¼</h2><p>&amp;emsp;&amp;emsp;å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬æ‰€éœ€è¦çš„å¯¹è±¡æ„å»ºæ—¶éå¸¸å¤æ‚ï¼Œä¸”æœ‰å¾ˆå¤šæ­¥éª¤éœ€è¦å¤„ç†æ—¶ï¼Œè¿™æ—¶å»ºé€ è€…æ¨¡å¼å°±å¾ˆé€‚åˆã€‚æ¯”å¦‚MyBatisä¸­çš„SqlSessionFactoryå¯¹è±¡çš„åˆ›å»ºï¼Œæˆ‘ä»¬ä¸å…‰è¦åˆ›å»ºSqlSessionFactoryæœ¬èº«çš„å¯¹è±¡ï¼Œè¿˜æœ‰å®ŒæˆMyBatisçš„å…¨å±€é…ç½®æ–‡ä»¶å’Œæ˜ å°„æ–‡ä»¶çš„åŠ è½½è§£ææ“ä½œï¼Œä¹‹åæŠŠè§£æå‡ºæ¥çš„ä¿¡æ¯ç»‘å®šåœ¨SqlSessionFactoryå¯¹è±¡ä¸­ï¼Œ</p><p><img data-src="https://fynotefile.oss-cn-zhangjiakou.aliyuncs.com/fynote/1462/1648123011000/21221aa599f9428083bc92d81ac151d2.png" alt="image.png"></p><p>ç›´æ¥å‚è€ƒMyBatisçš„ä»£ç å³å¯</p><p><img data-src="https://fynotefile.oss-cn-zhangjiakou.aliyuncs.com/fynote/1462/1648123011000/6d7aec1477204d9397cf5b59a1f2ad65.png" alt="image.png"></p><p>æ‰€ä»¥å»ºé€ è€…æ¨¡å¼çš„ä½œç”¨å°±æ˜¯å¸®åŠ©æˆ‘ä»¬è§£å†³äº†å¤æ‚å¯¹è±¡çš„åˆ›å»º</p><p>å»ºé€ è€…æ¨¡å¼å’Œå·¥å‚æ¨¡å¼çš„åŒºåˆ«ï¼š</p><ul><li>å…³æ³¨çš„ç»´åº¦æ˜¯ä¸ä¸€æ ·çš„</li><li>å·¥å‚æ¨¡å¼åˆ›å»ºå¯¹è±¡ new å‡ºæ¥</li><li>å»ºé€ è€…æ¨¡å¼å…³æ³¨çš„æ˜¯å¯¹è±¡åˆ›å»ºçš„æœ¬èº«</li></ul><h2 id="6-åŸå‹æ¨¡å¼"><a href="#6-åŸå‹æ¨¡å¼" class="headerlink" title="6.åŸå‹æ¨¡å¼"></a>6.åŸå‹æ¨¡å¼</h2><p>&amp;emsp;&amp;emsp;åœ¨javaä¸­æˆ‘ä»¬çŸ¥é“é€šè¿‡newå…³é”®å­—åˆ›å»ºçš„å¯¹è±¡æ˜¯éå¸¸ç¹ççš„(ç±»åŠ è½½åˆ¤æ–­ï¼Œå†…å­˜åˆ†é…ï¼Œåˆå§‹åŒ–ç­‰)ï¼Œåœ¨æˆ‘ä»¬éœ€è¦å¤§é‡å¯¹è±¡çš„æƒ…å†µä¸‹ï¼ŒåŸå‹æ¨¡å¼å°±æ˜¯æˆ‘ä»¬å¯ä»¥è€ƒè™‘å®ç°çš„æ–¹å¼ã€‚<br>&amp;emsp;&amp;emsp;åŸå‹æ¨¡å¼æˆ‘ä»¬ä¹Ÿç§°ä¸ºå…‹éš†æ¨¡å¼ï¼Œå³ä¸€ä¸ªæŸä¸ªå¯¹è±¡ä¸ºåŸå‹å…‹éš†å‡ºæ¥ä¸€ä¸ªä¸€æ¨¡ä¸€æ ·çš„å¯¹è±¡ï¼Œè¯¥å¯¹è±¡çš„å±æ€§å’ŒåŸå‹å¯¹è±¡ä¸€æ¨¡ä¸€æ ·ã€‚è€Œä¸”å¯¹äºåŸå‹å¯¹è±¡æ²¡æœ‰ä»»ä½•å½±å“ã€‚åŸå‹æ¨¡å¼çš„å…‹éš†æ–¹å¼æœ‰ä¸¤ç§ï¼šæµ…å…‹éš†å’Œæ·±åº¦å…‹éš†.</p><table><thead><tr><th>åŸå‹æ¨¡å¼</th><th align="left">è¯´æ˜</th></tr></thead><tbody><tr><td>æµ…å…‹éš†</td><td align="left">åªæ˜¯æ‹·è´æœ¬å¯¹è±¡,å…¶å¯¹è±¡å†…éƒ¨çš„æ•°ç»„ã€å¼•ç”¨å¯¹è±¡ç­‰éƒ½ä¸æ‹·è´ï¼Œ&#96;&#96;è¿˜æ˜¯æŒ‡å‘åŸç”Ÿå¯¹è±¡çš„å†…éƒ¨å…ƒç´ åœ°å€</td></tr><tr><td>æ·±åº¦å…‹éš†</td><td align="left">æ·±å¤åˆ¶æŠŠè¦å¤åˆ¶çš„å¯¹è±¡æ‰€å¼•ç”¨çš„å¯¹è±¡éƒ½å¤åˆ¶äº†ä¸€é</td></tr></tbody></table><h3 id="6-1-æµ…å…‹éš†"><a href="#6-1-æµ…å…‹éš†" class="headerlink" title="6.1 æµ…å…‹éš†"></a>6.1 æµ…å…‹éš†</h3><p>&amp;emsp;&amp;emsp;è¢«å¤åˆ¶å¯¹è±¡çš„æ‰€æœ‰å˜é‡éƒ½å«æœ‰ä¸åŸæ¥çš„å¯¹è±¡ç›¸åŒçš„å€¼ï¼Œè€Œæ‰€æœ‰çš„å¯¹å…¶ä»–å¯¹è±¡çš„å¼•ç”¨ä»ç„¶æŒ‡å‘åŸæ¥çš„å¯¹è±¡ã€‚æ¢è¨€ä¹‹ï¼Œæµ…å¤åˆ¶ä»…ä»…å¤åˆ¶æ‰€è€ƒè™‘çš„å¯¹è±¡ï¼Œè€Œä¸å¤åˆ¶å®ƒæ‰€å¼•ç”¨çš„å¯¹è±¡ã€‚ Objectç±»æä¾›çš„æ–¹æ³•clone&#x3D;åªæ˜¯æ‹·è´æœ¬å¯¹è±¡&#x3D; ï¼Œ &#x3D;å…¶å¯¹è±¡å†…éƒ¨çš„æ•°ç»„ã€å¼•ç”¨å¯¹è±¡ç­‰éƒ½ä¸æ‹·è´&#x3D; ï¼Œè¿˜æ˜¯æŒ‡å‘åŸç”Ÿå¯¹è±¡çš„å†…éƒ¨å…ƒç´ åœ°å€.</p><p>&amp;emsp;&amp;emsp;è¢«å…‹éš†çš„å¯¹è±¡å¿…é¡»Cloneable,Serializableè¿™ä¸¤ä¸ªæ¥å£;</p><pre><code class="java">package com.bobo.prototype;

import java.io.Serializable;
import java.util.Date;

public class User implements Cloneable, Serializable &#123;

    private String name;

    private Date birth;

    private int age;

    /**
     * å®ç°å…‹éš†çš„æ–¹æ³•
     * @return
     * @throws CloneNotSupportedException
     */
    @Override
    protected Object clone() throws CloneNotSupportedException &#123;
        return super.clone();
    &#125;

    public String getName() &#123;
        return name;
    &#125;

    public void setName(String name) &#123;
        this.name = name;
    &#125;

    public Date getBirth() &#123;
        return birth;
    &#125;

    public void setBirth(Date birth) &#123;
        this.birth = birth;
    &#125;

    public int getAge() &#123;
        return age;
    &#125;

    public void setAge(int age) &#123;
        this.age = age;
    &#125;

    public static void main(String[] args) throws Exception &#123;
        // åˆ›å»ºä¸€ä¸ªæ™®é€šå¯¹è±¡
        Date date =  new Date(666666);
        User user = new User();
        user.setName(&quot;æ³¢æ³¢çƒ¤é¸­&quot;);
        user.setAge(18);
        user.setBirth(date);
        System.out.println(&quot;åŸå‹å¯¹è±¡çš„å±æ€§ï¼š&quot; + user);
        // å…‹éš†å¯¹è±¡
        User cloneUser = (User) user.clone();
        System.out.println(&quot;å…‹éš†çš„å¯¹è±¡çš„å±æ€§ï¼š&quot; + cloneUser);
        // ä¿®æ”¹åŸå‹å¯¹è±¡çš„å±æ€§
        date.setTime(12345677);
        // ä¿®æ”¹å…‹éš†å¯¹è±¡çš„å±æ€§
        cloneUser.setName(&quot;æ³¢å“¥&quot;);
        System.out.println(&quot;åŸå‹å¯¹è±¡çš„å±æ€§ï¼š&quot; + user);
        System.out.println(&quot;å…‹éš†çš„å¯¹è±¡çš„å±æ€§ï¼š&quot; + cloneUser);
    &#125;

    @Override
    public String toString() &#123;
        return &quot;User&#123;&quot; +
                &quot;name=&#39;&quot; + name + &#39;\&#39;&#39; +
                &quot;, birth=&quot; + birth +
                &quot;, age=&quot; + age +
                &#39;&#125;&#39;;
    &#125;
&#125;
</code></pre><p>è¾“å‡ºç»“æœ</p><p><img data-src="https://fynotefile.oss-cn-zhangjiakou.aliyuncs.com/fynote/1462/1648123011000/6443e2d851514225a9253ca8d26de73f.png" alt="image.png"></p><p>æµ…å…‹éš†çš„é—®é¢˜:è™½ç„¶äº§ç”Ÿäº†ä¸¤ä¸ªå®Œå…¨ä¸åŒçš„å¯¹è±¡ï¼Œä½†æ˜¯è¢«å¤åˆ¶çš„å¯¹è±¡çš„æ‰€æœ‰å˜é‡éƒ½å«æœ‰ä¸åŸæ¥çš„å¯¹è±¡ç›¸åŒçš„å€¼ï¼Œè€Œæ‰€æœ‰çš„å¯¹å…¶ä»–å¯¹è±¡çš„å¼•ç”¨éƒ½ä»ç„¶æŒ‡å‘åŸæ¥çš„å¯¹è±¡ã€‚<img data-src="https://fynotefile.oss-cn-zhangjiakou.aliyuncs.com/fynote/1462/1648123011000/05ad80babac04b43956010b8244cd85b.png" alt="image.png"></p><h3 id="6-2-æ·±åº¦å…‹éš†"><a href="#6-2-æ·±åº¦å…‹éš†" class="headerlink" title="6.2 æ·±åº¦å…‹éš†"></a>6.2 æ·±åº¦å…‹éš†</h3><p>&amp;emsp;&amp;emsp;è¢«å¤åˆ¶å¯¹è±¡çš„æ‰€æœ‰å˜é‡éƒ½å«æœ‰ä¸åŸæ¥çš„å¯¹è±¡ç›¸åŒçš„å€¼ï¼Œé™¤å»é‚£äº›å¼•ç”¨å…¶ä»–å¯¹è±¡çš„å˜é‡ã€‚é‚£äº›å¼•ç”¨å…¶ä»–å¯¹è±¡çš„å˜é‡å°†æŒ‡å‘è¢«å¤åˆ¶è¿‡çš„æ–°å¯¹è±¡ï¼Œè€Œä¸å†æ˜¯åŸæœ‰çš„é‚£äº›è¢«å¼•ç”¨çš„å¯¹è±¡ã€‚æ¢è¨€ä¹‹ï¼Œæ·±å¤åˆ¶æŠŠè¦å¤åˆ¶çš„å¯¹è±¡æ‰€å¼•ç”¨çš„å¯¹è±¡éƒ½å¤åˆ¶äº†ä¸€éã€‚<br>å®ç°çš„æ•ˆæœæ˜¯:</p><p><img data-src="https://fynotefile.oss-cn-zhangjiakou.aliyuncs.com/fynote/1462/1648123011000/6fdf967a6fc74e8690b75e3bb3640b7c.png" alt="image.png"></p><p>æ·±åº¦å…‹éš†(deep clone)æœ‰ä¸¤ç§å®ç°æ–¹å¼ï¼Œç¬¬ä¸€ç§æ˜¯åœ¨æµ…å…‹éš†çš„åŸºç¡€ä¸Šå®ç°ï¼Œç¬¬äºŒç§æ˜¯é€šè¿‡åºåˆ—åŒ–å’Œååºåˆ—åŒ–å®ç°ï¼Œæˆ‘ä»¬åˆ†åˆ«æ¥ä»‹ç»</p><p>æ–¹å¼ä¸€ï¼šåœ¨æµ…å…‹éš†çš„åŸºç¡€ä¸Šå®ç°</p><pre><code class="java">    /**
     * å®ç°å…‹éš†çš„æ–¹æ³•
     * @return
     * @throws CloneNotSupportedException
     */
    @Override
    protected Object clone() throws CloneNotSupportedException &#123;
        User user = (User) super.clone();
        // å®ç°æ·±åº¦å…‹éš†
        user.birth = (Date) this.birth.clone();
        return user;
    &#125;
</code></pre><p><img data-src="https://fynotefile.oss-cn-zhangjiakou.aliyuncs.com/fynote/1462/1648123011000/1ba148deb0244a4dbfef33a8f1b3bcbd.png" alt="image.png"></p><p>æ–¹å¼äºŒï¼šåºåˆ—åŒ–å’Œååºåˆ—åŒ–</p><table><thead><tr><th>åç§°</th><th align="left">è¯´æ˜</th></tr></thead><tbody><tr><td>åºåˆ—åŒ–</td><td align="left">æŠŠå¯¹è±¡è½¬æ¢ä¸ºå­—èŠ‚åºåˆ—çš„è¿‡ç¨‹ã€‚</td></tr><tr><td>ååºåˆ—åŒ–</td><td align="left">æŠŠå­—èŠ‚åºåˆ—æ¢å¤ä¸ºå¯¹è±¡çš„è¿‡ç¨‹ã€‚</td></tr></tbody></table><pre><code class="java">public static void main(String[] args) throws CloneNotSupportedException, Exception &#123;
    Date date =  new Date(1231231231231l);
    User user = new User();
    user.setName(&quot;æ³¢æ³¢çƒ¤é¸­&quot;);
    user.setAge(18);
    user.setBirth(date);
    System.out.println(&quot;-----åŸå‹å¯¹è±¡çš„å±æ€§------&quot;);
    System.out.println(user);

    //ä½¿ç”¨åºåˆ—åŒ–å’Œååºåˆ—åŒ–å®ç°æ·±å¤åˆ¶
    ByteArrayOutputStream bos = new ByteArrayOutputStream();
    ObjectOutputStream    oos = new ObjectOutputStream(bos);
    oos.writeObject(user);
    byte[] bytes = bos.toByteArray();

    ByteArrayInputStream  bis = new ByteArrayInputStream(bytes);
    ObjectInputStream	  ois = new ObjectInputStream(bis);

    //å…‹éš†å¥½çš„å¯¹è±¡ï¼
    User user1 = (User) ois.readObject();   

    // ä¿®æ”¹åŸå‹å¯¹è±¡çš„å€¼
    date.setTime(221321321321321l);
    System.out.println(user.getBirth());

    System.out.println(&quot;------å…‹éš†å¯¹è±¡çš„å±æ€§-------&quot;);
    System.out.println(user1);
&#125;
</code></pre><h2 id="7-è°ˆè°ˆä½ å¯¹åˆ›å»ºå‹æ¨¡å¼çš„ç†è§£"><a href="#7-è°ˆè°ˆä½ å¯¹åˆ›å»ºå‹æ¨¡å¼çš„ç†è§£" class="headerlink" title="7.è°ˆè°ˆä½ å¯¹åˆ›å»ºå‹æ¨¡å¼çš„ç†è§£"></a>7.è°ˆè°ˆä½ å¯¹åˆ›å»ºå‹æ¨¡å¼çš„ç†è§£</h2><p>&amp;emsp;&amp;emsp;Javaçš„23ç§è®¾è®¡æ¨¡å¼åˆ†ä¸º3ç±»ï¼Œåˆ†åˆ«æ˜¯</p><p><img data-src="https://fynotefile.oss-cn-zhangjiakou.aliyuncs.com/fynote/fyfile/1462/1651200196055/e7bfebaff043483eae41837038342d60.png" alt="image.png"></p><p>è€Œåˆ›å»ºå‹æ¨¡å¼ä¸­æœ‰åŒ…å«çš„å¦‚ä¸‹çš„ç›¸å…³æ¨¡å¼ï¼š</p><p><img data-src="https://fynotefile.oss-cn-zhangjiakou.aliyuncs.com/fynote/fyfile/1462/1651200196055/370c67f33136431c8c3b4ab9f9e46445.png" alt="image.png"></p><p>è€Œæ¯ä¸ªè®¾è®¡æ¨¡å¼çš„ä½œç”¨å¦‚ä¸‹ï¼š</p><p><img data-src="https://fynotefile.oss-cn-zhangjiakou.aliyuncs.com/fynote/fyfile/1462/1651200196055/19e2c33ad56e4b2cb22b3447fcf0e6a5.png" alt="image.png"></p><h1 id="äºŒã€ç»“æ„æ€§æ¨¡å¼"><a href="#äºŒã€ç»“æ„æ€§æ¨¡å¼" class="headerlink" title="äºŒã€ç»“æ„æ€§æ¨¡å¼"></a>äºŒã€ç»“æ„æ€§æ¨¡å¼</h1><h2 id="1-ä»£ç†æ¨¡å¼"><a href="#1-ä»£ç†æ¨¡å¼" class="headerlink" title="1.ä»£ç†æ¨¡å¼"></a>1.ä»£ç†æ¨¡å¼</h2><h3 id="1-1-ä»£ç†æ¨¡å¼çš„ä½œç”¨"><a href="#1-1-ä»£ç†æ¨¡å¼çš„ä½œç”¨" class="headerlink" title="1.1 ä»£ç†æ¨¡å¼çš„ä½œç”¨"></a>1.1 ä»£ç†æ¨¡å¼çš„ä½œç”¨</h3><p>&amp;emsp;&amp;emsp;ä»£ç†æ¨¡å¼çš„ä½œç”¨æ˜¯é€šè¿‡ä»£ç†å¯¹è±¡æ¥å¢å¼ºç›®æ ‡å¯¹è±¡çš„åŠŸèƒ½ã€‚åˆ©ç”¨çš„æ˜¯AOPæ¨ªåˆ‡çš„æ€æƒ³ã€‚</p><h3 id="1-2-ä»£ç†æ¨¡å¼çš„å®ç°æ–¹å¼"><a href="#1-2-ä»£ç†æ¨¡å¼çš„å®ç°æ–¹å¼" class="headerlink" title="1.2 ä»£ç†æ¨¡å¼çš„å®ç°æ–¹å¼"></a>1.2 ä»£ç†æ¨¡å¼çš„å®ç°æ–¹å¼</h3><p>&amp;emsp;&amp;emsp;ä»£ç†æ¨¡å¼çš„å®ç°æ–¹å¼æœ‰ä¸‰ç§ï¼šé™æ€ä»£ç†ï¼ŒåŠ¨æ€ä»£ç†(JDKåŠ¨æ€ä»£ç†å’ŒCGLIBåŠ¨æ€ä»£ç†)</p><p><img data-src="https://fynotefile.oss-cn-zhangjiakou.aliyuncs.com/fynote/fyfile/1462/1651200196055/ff3031b921b948338282ee57ee510c84.png" alt="image.png"></p><h4 id="1-2-1-é™æ€ä»£ç†"><a href="#1-2-1-é™æ€ä»£ç†" class="headerlink" title="1.2.1 é™æ€ä»£ç†"></a>1.2.1 é™æ€ä»£ç†</h4><p>æˆ‘ä»¬å…ˆå£°æ˜æ¥å£å’Œç›®æ ‡å®ç°ç±»</p><pre><code class="java">/**
 * å®šä¹‰å…¬å…±æ¥å£
 */
public interface SomeService &#123;
    String doSome();
&#125;
</code></pre><p>ç›®æ ‡ç±»</p><pre><code class="java">/**
 * ç›®æ ‡å¯¹è±¡ target
 */
public class SomeServiceImpl implements SomeService &#123;
    @Override
    public String doSome() &#123;
        System.out.println(&quot;ç›®æ ‡å¯¹è±¡ï¼šdoSome()&quot; );
        return &quot;hello ...&quot;;
    &#125;
&#125;
</code></pre><p>ç„¶ååˆ›å»ºå¯¹åº”çš„ä»£ç†ç±»</p><pre><code class="java">/**
 * ä»£ç†ç±»
 *     å¢å¼ºå®ç°ç±»
 *     å’Œå®ç°ç±»å®ç°åŒä¸€ä¸ªæ¥å£
 */
public class SomeProxy implements SomeService&#123;

    private SomeService target;

    public SomeProxy(SomeService target)&#123;
        this.target = target;
    &#125;

    /**
     * å¢å¼ºçš„æ–¹æ³•
     * @return
     */
    @Override
    public String doSome() &#123;
        System.out.println(&quot;ç›®æ ‡æ–¹æ³•æ‰§è¡Œä¹‹å‰...&quot;);
        String s = target.doSome();
        System.out.println(&quot;ç›®æ ‡æ–¹æ³•æ‰§è¡Œä¹‹å...&quot;);
        return s.toUpperCase();
    &#125;
&#125;
</code></pre><p>ç„¶åæµ‹è¯•å®ç°</p><pre><code class="java">public class MainTest &#123;
    public static void main(String[] args) &#123;
        SomeService some = new SomeServiceImpl();
        SomeProxy proxy = new SomeProxy(some);
        System.out.println(proxy.doSome());
    &#125;
&#125;
</code></pre><p>å¯¹åº”çš„è¾“å‡ºç»“æœ</p><pre><code class="java">ç›®æ ‡æ–¹æ³•æ‰§è¡Œä¹‹å‰...
ç›®æ ‡å¯¹è±¡ï¼šdoSome()
ç›®æ ‡æ–¹æ³•æ‰§è¡Œä¹‹å...
HELLO ...
</code></pre><p>å¯ä»¥çœ‹åˆ°ä»£ç†å¯¹è±¡å®ç°äº†ç›®æ ‡å¯¹è±¡çš„è°ƒç”¨ï¼ŒåŒæ—¶å¢å¼ºäº†ç›®æ ‡å¯¹è±¡çš„åŠŸèƒ½ã€‚</p><h4 id="1-2-2-JDKåŠ¨æ€ä»£ç†"><a href="#1-2-2-JDKåŠ¨æ€ä»£ç†" class="headerlink" title="1.2.2 JDKåŠ¨æ€ä»£ç†"></a>1.2.2 JDKåŠ¨æ€ä»£ç†</h4><p>&amp;emsp;&amp;emsp;ä¸Šé¢çš„é™æ€ä»£ç†æˆ‘ä»¬éœ€è¦æ‰‹åŠ¨çš„åˆ›å»ºä¸€ä¸ªå¯¹åº”çš„ä»£ç†æ¥å®ç°ï¼Œä¸æ˜¯å¤ªçµæ´»ï¼Œé’ˆå¯¹ç›®æ ‡å¯¹è±¡æœ‰å®ç°ç›¸å…³æ¥å£çš„æƒ…å†µï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨JDKåŠ¨æ€ä»£ç†ã€‚</p><pre><code class="java">public class JdkDynamicProxy &#123;

    /**
     * JDKåŠ¨æ€ä»£ç†ï¼šç›®æ ‡å¯¹è±¡å¿…é¡»å®ç°ç›¸å…³çš„æ¥å£
     * @param args
     */
    public static void main(String[] args) &#123;
        SomeService target = new SomeServiceImpl();
        SomeService proxy = (SomeService) Proxy.newProxyInstance(JdkDynamicProxy.class.getClassLoader(), // ç±»åŠ è½½å™¨
                target.getClass().getInterfaces() // ç›®æ ‡å¯¹è±¡å®ç°çš„ç›¸å…³æ¥å£
                , new InvocationHandler() &#123; // ä»£ç†å¯¹è±¡çš„å›è°ƒæ–¹æ³•
                    @Override
                    public Object invoke(Object proxy, Method method, Object[] args) throws Throwable &#123;
                        System.out.println(&quot;before...&quot;);
                        Object invoke = method.invoke(target, args);
                        System.out.println(&quot;end...&quot;);
                        if (invoke != null) &#123;
                            return invoke.toString().toUpperCase();
                        &#125;
                        return null;
                    &#125;
                &#125;);
        // é€šè¿‡ä»£ç†å¯¹è±¡æ¥æ‰§è¡Œ
        System.out.println(&quot;proxy.doSome() = &quot; + proxy.doSome());

    &#125;
&#125;
</code></pre><p>è¾“å‡ºç»“æ„</p><pre><code>before...
ç›®æ ‡å¯¹è±¡ï¼šdoSome()
end...
proxy.doSome() = HELLO ...
</code></pre><h4 id="1-2-3-CGLIBåŠ¨æ€ä»£ç†"><a href="#1-2-3-CGLIBåŠ¨æ€ä»£ç†" class="headerlink" title="1.2.3 CGLIBåŠ¨æ€ä»£ç†"></a>1.2.3 CGLIBåŠ¨æ€ä»£ç†</h4><p>&amp;emsp;&amp;emsp;å¦‚æœç›®æ ‡å¯¹è±¡å®ç°äº†å¯¹åº”çš„æ¥å£æˆ‘ä»¬å¯ä»¥é€šè¿‡JDKåŠ¨æ€ä»£ç†çš„æ–¹å¼æ¥å®ç°ï¼Œä½†å¦‚æœç›®æ ‡å¯¹è±¡æ²¡æœ‰å®ç°ä»»ä½•çš„æ¥å£ï¼Œè¿™æ—¶æˆ‘ä»¬åªèƒ½é€šè¿‡CGLIBåŠ¨æ€ä»£ç†æ¥å®ç°äº†ï¼Œè¿™æ—¶æˆ‘ä»¬éœ€è¦å•ç‹¬å¼•å…¥cglibçš„ä¾èµ–</p><pre><code class="java">public class CGLIBDynamicProxy &#123;

    /**
     * CGLIBåŠ¨æ€ä»£ç†
     * @param args
     */
    public static void main(String[] args) &#123;
        SomeService target = new SomeServiceImpl();
        SomeServiceImpl proxy = new MethodInterceptor() &#123;

            /**
             * åˆ›å»º CGLIB ä»£ç†å¯¹è±¡çš„æ–¹æ³•
             * @return
             */
            public SomeServiceImpl createProxy() &#123;
                // åˆ›å»ºå¢å¼ºå™¨
                Enhancer e = new Enhancer();
                // æŒ‡å®šçˆ¶ç±»
                e.setSuperclass(target.getClass());
                // æŒ‡å®šå›è°ƒæ¥å£å¯¹è±¡
                e.setCallback(this);
                // åˆ›å»ºCGLIBä»£ç†å¯¹è±¡
                return (SomeServiceImpl) e.create();
            &#125;

            /**
             * æ‹¦æˆªå›è°ƒçš„æ–¹æ³•
             */
            @Override
            public Object intercept(Object o, Method method, Object[] objects, MethodProxy methodProxy) throws Throwable &#123;
                System.out.println(&quot;cglib -- befor&quot; );
                Object res = method.invoke(target, args);
                System.out.println(&quot;cglib -- end&quot;);
                return res.toString().toUpperCase();
            &#125;
        &#125;.createProxy();
        System.out.println(&quot;proxy.doSome() = &quot; + proxy.doSome());
    &#125;
&#125;
</code></pre><p>è¾“å‡ºçš„ç»“æœ</p><pre><code>cglib -- befor
ç›®æ ‡å¯¹è±¡ï¼šdoSome()
cglib -- end
proxy.doSome() = HELLO ...
</code></pre><h2 id="2-é€‚é…å™¨æ¨¡å¼"><a href="#2-é€‚é…å™¨æ¨¡å¼" class="headerlink" title="2.é€‚é…å™¨æ¨¡å¼"></a>2.é€‚é…å™¨æ¨¡å¼</h2><h3 id="2-1-é€‚é…å™¨çš„ä½œç”¨"><a href="#2-1-é€‚é…å™¨çš„ä½œç”¨" class="headerlink" title="2.1 é€‚é…å™¨çš„ä½œç”¨"></a>2.1 é€‚é…å™¨çš„ä½œç”¨</h3><p>&amp;emsp;&amp;emsp;é€‚é…å™¨æ¨¡å¼çš„ä½œç”¨æ˜¯æŠŠä¸¤ä¸ªä¸å…¼å®¹çš„å¯¹è±¡é€šè¿‡é€‚é…å™¨èƒ½å¤Ÿè¿æ¥èµ·æ¥å·¥ä½œã€‚</p><p><img data-src="https://fynotefile.oss-cn-zhangjiakou.aliyuncs.com/fynote/fyfile/1462/1651200196055/4f1b8160dfaf4de6816c2d7bc7c79ed3.png" alt="image.png"></p><h3 id="2-2-å…·ä½“æ¡ˆä¾‹åˆ†æ"><a href="#2-2-å…·ä½“æ¡ˆä¾‹åˆ†æ" class="headerlink" title="2.2 å…·ä½“æ¡ˆä¾‹åˆ†æ"></a>2.2 å…·ä½“æ¡ˆä¾‹åˆ†æ</h3><p>&amp;emsp;&amp;emsp;ä»¥MyBatisä¸­çš„æ—¥å¿—æ¨¡å—ä¸ºä¾‹æ¥ä»‹ç»ã€‚å¸¸è§çš„æ—¥å¿—æ¡†æ¶æœ‰log4j,log4j2,slf4j,logbakç­‰ï¼Œä½†æ˜¯æ¯ç§æ—¥å¿—æ¡†æ¶ä¸­çš„æ—¥å¿—çº§åˆ«éƒ½æœ‰å·®å¼‚ã€‚</p><p>log4j2çš„æ¥å£ï¼š</p><p><img data-src="https://fynotefile.oss-cn-zhangjiakou.aliyuncs.com/fynote/fyfile/1462/1651200196055/97882ce34e7c45b38a242335fee35136.png" alt="image.png"></p><p>slf4jçš„æ¥å£</p><p><img data-src="https://fynotefile.oss-cn-zhangjiakou.aliyuncs.com/fynote/fyfile/1462/1651200196055/2e0b96e4f72b4d4cb1da9ef190e06f7e.png" alt="image.png"></p><p>ä¹Ÿå°±æ˜¯å¯ä»¥çœ‹åˆ°ä¸åŒçš„æ—¥å¿—æ¡†æ¶é‡Œé¢æ‰€å®šä¹‰çš„æ—¥å¿—çº§åˆ«å’Œå¯¹åº”çš„æ–¹æ³•éƒ½æœ‰åŒºåˆ«ï¼Œé‚£ä¹ˆæˆ‘ä»¬çš„æ¡†æ¶æ€ä¹ˆæ¥ç»Ÿä¸€ä½¿ç”¨è¿™äº›æ—¥å¿—æ¡†æ¶å‘¢ï¼Ÿåœ¨MyBatisä¸­é€šè¿‡å®šä¹‰äº†ä¸€ä¸ªæ—¥å¿—æ¥å£ï¼Œå®šä¹‰äº†æ—¥å¿—å…·æœ‰çš„çº§åˆ«å’Œæ–¹æ³•ã€‚</p><p><img data-src="https://fynotefile.oss-cn-zhangjiakou.aliyuncs.com/fynote/fyfile/1462/1651200196055/13b885d6a2e742c8902a41cca65a77f3.png" alt="image.png"></p><p>é‚£è¿™æ—¶å€™æˆ‘ä»¬å°±å‘ç°å…·ä½“çš„æ—¥å¿—æ¡†æ¶å’Œè¿™ä¸ªæ¥å£å…¶å®æ˜¯æ²¡æœ‰åŠæ³•ç›´æ¥æ¥ä½¿ç”¨çš„ã€‚</p><p><img data-src="https://fynotefile.oss-cn-zhangjiakou.aliyuncs.com/fynote/fyfile/1462/1651200196055/5394d7aab0b9407bb44e7a43b5a46c35.png" alt="image.png"></p><p>è¿™æ—¶æˆ‘ä»¬å°±éœ€è¦é€šè¿‡å¯¹åº”çš„é€‚é…å™¨æ¥å¤„ç†è¿™ç§æƒ…å†µï¼Œä»¥Slf4Jä¸ºä¾‹ã€‚</p><p><img data-src="https://fynotefile.oss-cn-zhangjiakou.aliyuncs.com/fynote/fyfile/1462/1651200196055/cc1a1999be144995bbdfd0d52af15aa1.png" alt="image.png"></p><h2 id="3-è£…é¥°è€…æ¨¡å¼"><a href="#3-è£…é¥°è€…æ¨¡å¼" class="headerlink" title="3.è£…é¥°è€…æ¨¡å¼"></a>3.è£…é¥°è€…æ¨¡å¼</h2><h3 id="3-1-è£…é¥°è€…æ¨¡å¼çš„ä½œç”¨"><a href="#3-1-è£…é¥°è€…æ¨¡å¼çš„ä½œç”¨" class="headerlink" title="3.1 è£…é¥°è€…æ¨¡å¼çš„ä½œç”¨"></a>3.1 è£…é¥°è€…æ¨¡å¼çš„ä½œç”¨</h3><p>&amp;emsp;&amp;emsp;è£…é¥°è€…æ¨¡å¼åˆç§°ä¸ºåŒ…è£…æ¨¡å¼(<span class="exturl" data-url="aHR0cHM6Ly9zby5jc2RuLm5ldC9zby9zZWFyY2g/cT1XcmFwcGVyJnNwbT0xMDAxLjIxMDEuMzAwMS43MDIw">Wrapper</span>),ä½œç”¨æ˜¯ç”¨æ¥åŠ¨æ€çš„ä¸ºä¸€ä¸ªå¯¹è±¡å¢åŠ æ–°çš„åŠŸèƒ½ã€‚è£…é¥°æ¨¡å¼æ˜¯ä¸€ç§ç”¨äºä»£æ›¿ç»§æ‰¿çš„æŠ€æœ¯ï¼Œ æ— é¡»é€šè¿‡ç»§æ‰¿å¢åŠ å­ç±»å°±èƒ½æ‰©å±•å¯¹è±¡çš„æ–°åŠŸèƒ½ ã€‚ä½¿ç”¨å¯¹è±¡çš„å…³è”å…³ç³»ä»£æ›¿ç»§æ‰¿å…³ç³»ï¼Œæ›´åŠ çµæ´»ï¼ŒåŒæ—¶é¿å…ç±»å‹ä½“ç³»çš„å¿«é€Ÿè†¨èƒ€ã€‚</p><p><img data-src="https://fynotefile.oss-cn-zhangjiakou.aliyuncs.com/fynote/fyfile/1462/1651200196055/3d6542b45adc4fc1954b5a32e0cefe0b.png" alt="image.png"></p><h3 id="3-2-è£…é¥°è€…æ¨¡å¼çš„åº”ç”¨"><a href="#3-2-è£…é¥°è€…æ¨¡å¼çš„åº”ç”¨" class="headerlink" title="3.2 è£…é¥°è€…æ¨¡å¼çš„åº”ç”¨"></a>3.2 è£…é¥°è€…æ¨¡å¼çš„åº”ç”¨</h3><p>&amp;emsp;&amp;emsp;è£…é¥°è€…æ¨¡å¼çš„åº”ç”¨åœºæ™¯è¿˜æ˜¯éå¸¸å¤šçš„ï¼Œæ¯”å¦‚</p><ul><li>IOæµä¸­çš„FileInputStreamï¼ŒFileOutputStreamç­‰</li><li>Springä¸­çš„å„ç§Wrapper</li><li>MyBatisä¸­çš„ç¼“å­˜è®¾è®¡</li></ul><p>æˆ‘ä»¬ä»¥MyBatisä¸­çš„ç¼“å­˜å®ä¾‹ä¸ºä¾‹æ¥çœ‹çœ‹å…¶å…·ä½“çš„å®ç°ã€‚</p><p>é¦–å…ˆæ˜¯Cacheæ¥å£</p><p><img data-src="https://fynotefile.oss-cn-zhangjiakou.aliyuncs.com/fynote/fyfile/1462/1651200196055/4fd123c411d44b9b9be4b6fc042cd1a0.png" alt="image.png"></p><p>ç„¶åæ˜¯PerpetualCacheå®ç°ï¼šä»…ä»…å®ç°äº†æ•°æ®åŸºäºå†…å­˜çš„è¯»å†™æ“ä½œã€‚åŠŸèƒ½å•ä¸€ã€‚</p><p><img data-src="https://fynotefile.oss-cn-zhangjiakou.aliyuncs.com/fynote/fyfile/1462/1651200196055/64a1d022065f46d5ad8f05fa0a884130.png" alt="image.png"></p><p>è£…é¥°ç±»ï¼šç„¶ååœ¨MyBatisä¸­ç»™æˆ‘ä»¬æä¾›äº†å¾ˆå¤šçš„è£…é¥°ç±»ã€‚</p><p><img data-src="https://fynotefile.oss-cn-zhangjiakou.aliyuncs.com/fynote/fyfile/1462/1651200196055/b6a6d87b24bb40d08c86267957622a18.png" alt="image.png"></p><p>æ¯ä¸ªè£…é¥°ç±»éƒ½æœ‰è‡ªå·±çš„ä½œç”¨</p><ul><li>BlockingCacheï¼šé˜»å¡çš„</li><li>LruCache:æ ¹æ®Lruè§„åˆ™æ¥æ·˜æ±°ç¼“å­˜æ•°æ®</li><li>FifoCacheï¼šæ ¹æ®FIFOè§„åˆ™æ¥æ·˜æ±°ç¼“å­˜æ•°æ®</li><li>â€¦.</li></ul><p>æºç ä¸­çš„è£…é¥°ï¼š</p><p><img data-src="https://fynotefile.oss-cn-zhangjiakou.aliyuncs.com/fynote/fyfile/1462/1651200196055/15cfb22ba61c4fc9a3c0ee7db595d8b7.png" alt="image.png"></p><p><img data-src="https://fynotefile.oss-cn-zhangjiakou.aliyuncs.com/fynote/fyfile/1462/1651200196055/7379277ae49d422cbfe571f0852af446.png" alt="image.png"></p><table><thead><tr><th>æ¯”è¾ƒ</th><th align="left">è¯´æ˜</th></tr></thead><tbody><tr><td>ä¼˜ç‚¹</td><td align="left">1. æ‰©å±•å¯¹è±¡åŠŸèƒ½ï¼Œæ¯”ç»§æ‰¿çµæ´»ï¼Œä¸ä¼šå¯¼è‡´ç±»ä¸ªæ•°æ€¥å‰§å¢åŠ &amp;#x3c;br &#x2F;&gt;2. å¯ä»¥å¯¹ä¸€ä¸ªå¯¹è±¡è¿›è¡Œå¤šæ¬¡è£…é¥°,åˆ›é€ å‡ºä¸åŒè¡Œä¸ºçš„ç»„åˆ,å¾—åˆ°åŠŸèƒ½æ›´åŠ å¼ºå¤§çš„å¯¹è±¡&amp;#x3c;br &#x2F;&gt;3. å…·ä½“æ„å»ºç±»å’Œå…·ä½“è£…é¥°ç±»å¯ä»¥ç‹¬ç«‹å˜åŒ–,&amp;#x3c;br &#x2F;&gt;ç”¨æˆ·å¯ä»¥æ ¹æ®éœ€è¦è‡ªå·±å¢åŠ æ–°çš„å…·ä½“æ„ä»¶å­ç±»å’Œå…·ä½“è£…é¥°å­ç±»ã€‚</td></tr><tr><td>ç¼ºç‚¹</td><td align="left">1. äº§ç”Ÿå¾ˆå¤šå°å¯¹è±¡ã€‚å¤§é‡å°å¯¹è±¡å æ®å†…å­˜ï¼Œä¸€å®šç¨‹åº¦ä¸Šå½±å“æ€§èƒ½ã€‚&amp;#x3c;br &#x2F;&gt;2. è£…é¥°æ¨¡å¼æ˜“äºå‡ºé”™ï¼Œè°ƒè¯•æ’æŸ¥æ¯”è¾ƒéº»çƒ¦ã€‚</td></tr></tbody></table><h2 id="4-ç»„åˆæ¨¡å¼"><a href="#4-ç»„åˆæ¨¡å¼" class="headerlink" title="4.ç»„åˆæ¨¡å¼"></a>4.ç»„åˆæ¨¡å¼</h2><h3 id="4-1-ç»„åˆæ¨¡å¼çš„ä½œç”¨"><a href="#4-1-ç»„åˆæ¨¡å¼çš„ä½œç”¨" class="headerlink" title="4.1 ç»„åˆæ¨¡å¼çš„ä½œç”¨"></a>4.1 ç»„åˆæ¨¡å¼çš„ä½œç”¨</h3><p>&amp;emsp;&amp;emsp;å…¶å®è§£å†³çš„æ˜¯å¯¹è±¡ä¸å¯¹è±¡ä¹‹é—´çš„åŒ…å«å…³ç³»ã€‚ä¹Ÿå°±æ˜¯ éƒ¨åˆ†-æ•´ä½“ çš„å±‚æ¬¡ç»“æ„ã€‚</p><h3 id="4-2-ç»„åˆæ¨¡å¼çš„åº”ç”¨"><a href="#4-2-ç»„åˆæ¨¡å¼çš„åº”ç”¨" class="headerlink" title="4.2 ç»„åˆæ¨¡å¼çš„åº”ç”¨"></a>4.2 ç»„åˆæ¨¡å¼çš„åº”ç”¨</h3><p>&amp;emsp;&amp;emsp;ç»„åˆæ¨¡å¼åœ¨é…ç½®æ–‡ä»¶çš„åŠ è½½è§£æä¸­å…¶å®ä¼šç”¨çš„ç›¸å¯¹æ¯”è¾ƒå¤šã€‚ä»¥SpringSecurityçš„é…ç½®æ–‡ä»¶ä¸ºä¾‹</p><p><img data-src="https://fynotefile.oss-cn-zhangjiakou.aliyuncs.com/fynote/fyfile/1462/1651200196055/451caf5510724dbdb8781edc504a3108.png" alt="image.png"></p><p>ä¸Šé¢æ˜¯å…·ä½“çš„å®šä¹‰</p><p><img data-src="https://fynotefile.oss-cn-zhangjiakou.aliyuncs.com/fynote/fyfile/1462/1651200196055/225305de9e79499b9858fdf0954bee43.png" alt="image.png"></p><p>åº”ç”¨</p><p><img data-src="https://fynotefile.oss-cn-zhangjiakou.aliyuncs.com/fynote/fyfile/1462/1651200196055/f27879a6ed534ecda344e3c8033e8b66.png" alt="image.png"></p><h2 id="5-é—¨é¢æ¨¡å¼"><a href="#5-é—¨é¢æ¨¡å¼" class="headerlink" title="5.é—¨é¢æ¨¡å¼"></a>5.é—¨é¢æ¨¡å¼</h2><p>&amp;emsp;&amp;emsp;é—¨é¢æ¨¡å¼ä¹Ÿç§°ä¸ºå¤–è§‚æ¨¡å¼ï¼Œä»–éšè—äº†ç³»ç»Ÿçš„å¤æ‚æ€§ï¼Œå¹¶å‘å®¢æˆ·ç«¯æä¾›äº†ä¸€ä¸ªå¯ä»¥è®¿é—®ç³»ç»Ÿçš„æ¥å£ã€‚è¿™ç§ç±»å‹çš„è®¾è®¡æ¨¡å¼å±äºç»“æ„æ€§æ¨¡å¼ã€‚ä¸ºå­ç³»ç»Ÿä¸­çš„ä¸€ç»„æ¥å£æä¾›äº†ä¸€ä¸ªç»Ÿä¸€çš„è®¿é—®æ¥å£ï¼Œè¿™ä¸ªæ¥å£ä½¿å¾—å­ç³»ç»Ÿæ›´å®¹æ˜“è¢«è®¿é—®æˆ–è€…ä½¿ç”¨ã€‚</p><p><img data-src="https://fynotefile.oss-cn-zhangjiakou.aliyuncs.com/fynote/fyfile/1462/1651200196055/d7cbb356c586445cbae588a9c6944c48.png" alt="image.png"></p><p>&amp;emsp;&amp;emsp;å…·ä½“çš„ä¾‹å­æ¯”å¦‚ï¼šMyBatisä¸­çš„SqlSessionæ¥å£ï¼Œå¯¹å¤–æä¾›äº†æ•°æ®åº“æ“ä½œçš„ç›¸å…³åŠŸèƒ½ï¼Œå…·ä½“çš„å®ç°ç»†èŠ‚å¯¹è°ƒç”¨è€…æ˜¯éšè—çš„ï¼Œè¿™ç§æ¨¡å¼åœ¨å®é™…é¡¹ç›®å’Œæ¡†æ¶ä¸­å¾ˆé¢‘ç¹</p><h2 id="6-æ¡¥æ¥æ¨¡å¼"><a href="#6-æ¡¥æ¥æ¨¡å¼" class="headerlink" title="6.æ¡¥æ¥æ¨¡å¼"></a>6.æ¡¥æ¥æ¨¡å¼</h2><p>&amp;emsp;&amp;emsp;æ¡¥æ¥æ¨¡å¼çš„å‡ºç°æ˜¯æ›¿ä»£æ‰å¤šå±‚ç»§æ‰¿çš„é—®é¢˜ã€‚æé«˜äº†ç³»ç»Ÿçš„æ‰©å±•æ€§ã€‚</p><p><img data-src="https://fynotefile.oss-cn-zhangjiakou.aliyuncs.com/fynote/fyfile/1462/1651200196055/689902586ed3400e808b3cdaf88a93de.png" alt="image.png"></p><p>å…·ä½“çš„åº”ç”¨æ¯”å¦‚JDBCä¸­çš„DriverManagerå…¶å®æœ‰ç”¨åˆ°æ¡¥æ¥æ¨¡å¼ï¼Œä¸åŒçš„æ•°æ®åº“å‚å•†å¯¹åº”ä¸åŒçš„é©±åŠ¨å’Œè¿æ¥</p><h2 id="7-äº«å…ƒæ¨¡å¼"><a href="#7-äº«å…ƒæ¨¡å¼" class="headerlink" title="7.äº«å…ƒæ¨¡å¼"></a>7.äº«å…ƒæ¨¡å¼</h2><p>&amp;emsp;&amp;emsp;è¿™ä¸ªé—®é¢˜ç›¸å¯¹æ¥è¯´æ¯”è¾ƒå†·é—¨ï¼Œç”¨åˆ°çš„ä¹Ÿæ¯”è¾ƒå°‘ï¼Œä¸»è¦æ˜¯é’ˆå¯¹å†…å­˜è¿™å—çš„èŠ‚çœå¤„ç†ï¼Œå¦‚æœæœ‰å¾ˆå¤šä¸ªå®Œå…¨ç›¸åŒæˆ–ç›¸ä¼¼çš„å¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡äº«å…ƒæ¨¡å¼ï¼ŒèŠ‚çœå†…å­˜.</p><p>äº«å…ƒæ¨¡å¼ä»¥å…±äº«çš„æ–¹å¼é«˜æ•ˆåœ°æ”¯æŒå¤§é‡ç»†ç²’åº¦å¯¹è±¡çš„é‡ç”¨ã€‚</p><p>äº«å…ƒå¯¹è±¡èƒ½åšåˆ°å…±äº«çš„å…³é”®æ˜¯åŒºåˆ†äº†å†…éƒ¨çŠ¶æ€å’Œå¤–éƒ¨çŠ¶æ€ã€‚<br>â€¢ <strong>å†…éƒ¨çŠ¶æ€</strong> ï¼šå¯ä»¥å…±äº«ï¼Œä¸ä¼šéšç¯å¢ƒå˜åŒ–è€Œæ”¹å˜<br>â€¢ <strong>å¤–éƒ¨çŠ¶æ€</strong> ï¼šä¸å¯ä»¥å…±äº«ï¼Œä¼šéšç¯å¢ƒå˜åŒ–è€Œæ”¹å˜</p><p>æ¯”å¦‚ä»¥å›´æ£‹ä¸ºä¾‹:</p><p><img data-src="https://fynotefile.oss-cn-zhangjiakou.aliyuncs.com/fynote/fyfile/1462/1651200196055/ed27059ad63b4d408568033cd3d18998.png" alt="image.png"></p><p><img data-src="https://fynotefile.oss-cn-zhangjiakou.aliyuncs.com/fynote/fyfile/1462/1651200196055/d2cd6a9f545e4f09af78a4e4f3c09677.png" alt="image.png"></p><h1 id="ä¸‰ã€è¡Œä¸ºå‹æ¨¡å¼"><a href="#ä¸‰ã€è¡Œä¸ºå‹æ¨¡å¼" class="headerlink" title="ä¸‰ã€è¡Œä¸ºå‹æ¨¡å¼"></a>ä¸‰ã€è¡Œä¸ºå‹æ¨¡å¼</h1><p>&amp;emsp;&amp;emsp;è¡Œä¸ºå‹æ¨¡å¼å…³æ³¨çš„æ˜¯å¯¹è±¡ä¹‹é—´çš„é€šä¿¡ï¼Œä¹Ÿå°±æ˜¯æè¿°å¤šä¸ªç±»æˆ–è€…å¯¹è±¡ä¹‹é—´ï¼Œé€šè¿‡åä½œå…±åŒå®Œæˆä¸€ä¸ªä»»åŠ¡ã€‚ä¸»è¦æ¶‰åŠçš„æ˜¯ <strong>å¯¹è±¡</strong> å’Œ <strong>ç®—æ³•</strong>ä¹‹é—´èŒè´£çš„åˆ†é…ã€‚</p><p>è¡Œä¸ºå‹æ¨¡å¼åˆ†ä¸ºä¸¤ç±»ï¼š</p><ul><li>ç±»è¡Œä¸ºæ¨¡å¼ï¼š é€šè¿‡ç»§æ‰¿æœºåˆ¶æ¥åœ¨ç±»é—´åˆ†æ´¾è¡Œä¸ºã€‚ ä¸»è¦æ˜¯é€šè¿‡å¤šæ€æ¥åˆ†é…çˆ¶ç±»å’Œå­ç±»çš„èŒè´£</li><li>å¯¹è±¡è¡Œä¸ºæ¨¡å¼ï¼š é€šè¿‡ç»„åˆæˆ–èšåˆï¼Œåœ¨å¯¹è±¡é—´åˆ†æ´¾è¡Œä¸ºã€‚é€šè¿‡å¯¹è±¡å…³è”ç­‰æ–¹å¼æ¥åˆ†é…ç±»çš„èŒè´£ã€‚</li></ul><p><img data-src="https://fynotefile.oss-cn-zhangjiakou.aliyuncs.com/fynote/fyfile/1462/1651992608037/44e5adf5c4a2487584f3b072b4a19d8a.png" alt="image.png"></p><h2 id="1-è§£é‡Šå™¨æ¨¡å¼"><a href="#1-è§£é‡Šå™¨æ¨¡å¼" class="headerlink" title="1.è§£é‡Šå™¨æ¨¡å¼"></a>1.è§£é‡Šå™¨æ¨¡å¼</h2><h3 id="1-1-è§£é‡Šå™¨æ¨¡å¼çš„ä½œç”¨"><a href="#1-1-è§£é‡Šå™¨æ¨¡å¼çš„ä½œç”¨" class="headerlink" title="1.1 è§£é‡Šå™¨æ¨¡å¼çš„ä½œç”¨"></a>1.1 è§£é‡Šå™¨æ¨¡å¼çš„ä½œç”¨</h3><p>&amp;emsp;&amp;emsp;è§£é‡Šå™¨æ¨¡å¼åœ¨ä¸šåŠ¡å¼€å‘é¢æ˜¯å¾ˆå°‘æ¥è§¦åˆ°çš„ã€‚ä¸»è¦çš„ä½œç”¨æ˜¯å®šä¹‰çš„è§£é‡Šå™¨æ¥è§£æå„ç§è¡¨è¾¾å¼ï¼Œæ¯”å¦‚SQLè¯­å¥ï¼ŒSPELè¡¨è¾¾å¼ï¼Œæƒé™æ³¨è§£ä¸­çš„è¡¨è¾¾å¼ hasAnyRole(â€˜ROLE_ADMINâ€™)ç­‰ã€‚</p><h3 id="1-2-è§£é‡Šå™¨çš„åº”ç”¨"><a href="#1-2-è§£é‡Šå™¨çš„åº”ç”¨" class="headerlink" title="1.2 è§£é‡Šå™¨çš„åº”ç”¨"></a>1.2 è§£é‡Šå™¨çš„åº”ç”¨</h3><p>&amp;emsp;&amp;emsp;æ¯”è¾ƒå¸¸è§çš„åº”ç”¨æ¯”å¦‚Springä¸­çš„é’ˆå¯¹SPELè¡¨è¾¾å¼åšçš„è§£æå¤„ç†</p><pre><code class="java">    public static void main(String[] args) &#123;
        SpelExpressionParser parser = new SpelExpressionParser();
        Expression expression = parser.parseExpression(&quot;500-100*2+60&quot;);
        Object value = expression.getValue();
        System.out.println(&quot;value = &quot; + value);
    &#125;
</code></pre><h2 id="2-æ¨¡æ¿æ¨¡å¼"><a href="#2-æ¨¡æ¿æ¨¡å¼" class="headerlink" title="2.æ¨¡æ¿æ¨¡å¼"></a>2.æ¨¡æ¿æ¨¡å¼</h2><h3 id="2-1-æ¨¡æ¿æ¨¡å¼çš„ä½œç”¨"><a href="#2-1-æ¨¡æ¿æ¨¡å¼çš„ä½œç”¨" class="headerlink" title="2.1 æ¨¡æ¿æ¨¡å¼çš„ä½œç”¨"></a>2.1 æ¨¡æ¿æ¨¡å¼çš„ä½œç”¨</h3><p>&amp;emsp;&amp;emsp;æ¨¡æ¿æ¨¡å¼æ˜¯ä¸€ç§ç›¸å¯¹ç®€å•çš„è®¾è®¡æ¨¡å¼ã€‚ä½œç”¨æ˜¯åœ¨çˆ¶ç±»ä¸­å›ºå®šç¨‹åºçš„æ‰§è¡Œé¡ºåºï¼Œå…·ä½“çš„å®ç°åœ¨å­ç±»ä¸­å®ç°ã€‚æ¯”å¦‚é“¶è¡Œå®šä¹‰æ¯ä¸ªäººå»é“¶è¡Œå¼€æˆ·çš„æµç¨‹ï¼Œ</p><ol><li>å–å·</li><li>å¡«å†™å•å­</li><li>ç­‰å¾…</li><li>åŠç†ä¸šåŠ¡</li><li>ç»“æŸ</li></ol><p>ç„¶åæ¯ä¸ªäººæ¥å¼€æˆ·éƒ½ä¼šèµ°è¿™ä¸ªæµç¨‹ï¼Œåªæ˜¯æ¯ä¸ªäººçš„å…·ä½“æ“ä½œå†…å®¹ä¼šæœ‰åŒºåˆ«</p><h3 id="2-2-æ¨¡æ¿æ¨¡å¼çš„åº”ç”¨"><a href="#2-2-æ¨¡æ¿æ¨¡å¼çš„åº”ç”¨" class="headerlink" title="2.2 æ¨¡æ¿æ¨¡å¼çš„åº”ç”¨"></a>2.2 æ¨¡æ¿æ¨¡å¼çš„åº”ç”¨</h3><p>&amp;emsp;&amp;emsp;æ¨¡æ¿æ¨¡å¼çš„åº”ç”¨å°±æ¯”è¾ƒå¤šå¦‚ä¸‹ï¼š</p><ol><li>Servletä¸­çš„doGetå’ŒdoPostæ–¹æ³•</li><li>Springä¸­çš„JdbcTemplate</li><li>MyBatisä¸­çš„Executorå¤„ç†</li><li>â€¦..</li></ol><h2 id="3-è´£ä»»é“¾æ¨¡å¼"><a href="#3-è´£ä»»é“¾æ¨¡å¼" class="headerlink" title="3.è´£ä»»é“¾æ¨¡å¼"></a>3.è´£ä»»é“¾æ¨¡å¼</h2><h3 id="3-1-è´£ä»»é“¾æ¨¡å¼çš„ä½œç”¨"><a href="#3-1-è´£ä»»é“¾æ¨¡å¼çš„ä½œç”¨" class="headerlink" title="3.1 è´£ä»»é“¾æ¨¡å¼çš„ä½œç”¨"></a>3.1 è´£ä»»é“¾æ¨¡å¼çš„ä½œç”¨</h3><p>&amp;emsp;&amp;emsp;å°†èƒ½å¤Ÿå¤„ç†åŒä¸€ç±»è¯·æ±‚çš„å¯¹è±¡è¿æˆä¸€æ¡é“¾ï¼Œæ‰€æäº¤çš„è¯·æ±‚æ²¿ç€é“¾ä¼ é€’ï¼Œé“¾ä¸Šçš„å¯¹è±¡é€ä¸ªåˆ¤æ–­æ˜¯å¦æœ‰èƒ½åŠ›å¤„ç†è¯¥è¯·æ±‚ï¼Œå¦‚æœèƒ½åˆ™å¤„ç†ï¼Œå¦‚æœä¸èƒ½åˆ™ä¼ é€’ç»™é“¾ä¸Šçš„ä¸‹ä¸€ä¸ªå¯¹è±¡å¤„ç†ã€‚</p><p><img data-src="https://fynotefile.oss-cn-zhangjiakou.aliyuncs.com/fynote/fyfile/1462/1651992608037/4c895e3c35f0466b8832bfaf6d4aa9f2.png" alt="image.png"></p><h3 id="3-2-è´£ä»»é“¾æ¨¡å¼çš„åº”ç”¨"><a href="#3-2-è´£ä»»é“¾æ¨¡å¼çš„åº”ç”¨" class="headerlink" title="3.2 è´£ä»»é“¾æ¨¡å¼çš„åº”ç”¨"></a>3.2 è´£ä»»é“¾æ¨¡å¼çš„åº”ç”¨</h3><p>&amp;emsp;&amp;emsp;è´£ä»»é“¾æ¨¡å¼çš„åº”ç”¨åœºæ™¯æ¯”è¾ƒå¤šï¼Œå¯¹å¤§å®¶æ¥è¯´å°è±¡æ¯”è¾ƒæ·±åˆ»çš„åº”è¯¥æ˜¯SpringSecurityä¸­çš„å¤„ç†è¯·æ±‚çš„è¿‡æ»¤å™¨é“¾äº†ã€‚</p><p><img data-src="https://fynotefile.oss-cn-zhangjiakou.aliyuncs.com/fynote/fyfile/1462/1651992608037/627ec42ef657483289810bcd60d202d4.png" alt="image.png"></p><p>&amp;emsp;&amp;emsp;å¯ä»¥å’Œé¢è¯•å®˜å…·ä½“èŠä¸‹SpringSecurityä¸­çš„è¿™å—è®¾è®¡ã€‚å½“ç„¶è¿˜æœ‰ä¸€äº›å…¶ä»–çš„ä¹Ÿå¯èŠæ¯”å¦‚ï¼š</p><ol><li>Javaä¸­ï¼Œå¼‚å¸¸æœºåˆ¶å°±æ˜¯ä¸€ç§è´£ä»»é“¾æ¨¡å¼ã€‚ä¸€ä¸ªtryå¯ä»¥å¯¹åº”å¤šä¸ªcatchï¼Œå½“ç¬¬ä¸€ä¸ªcatchä¸åŒ¹é…ç±»å‹ï¼Œåˆ™è‡ªåŠ¨è·³åˆ°ç¬¬äºŒä¸ªcatch.</li><li>Javascriptè¯­è¨€ä¸­ï¼Œäº‹ä»¶çš„å†’æ³¡å’Œæ•è·æœºåˆ¶ã€‚Javaè¯­è¨€ä¸­ï¼Œäº‹ä»¶çš„å¤„ç†é‡‡ç”¨è§‚å¯Ÿè€…æ¨¡å¼ã€‚</li><li>SpringMVCä¸­ï¼Œæ‹¦æˆªå™¨çš„è°ƒç”¨ä¹Ÿæ˜¯å…¸å‹çš„è´£ä»»é“¾æ¨¡å¼</li><li>åŒæ ·çš„Servletä¸­çš„è¿‡æ»¤å™¨é“¾åŒæ ·æ˜¯è´£ä»»é“¾æ¨¡å¼çš„å®ç°ã€‚</li></ol><h2 id="4-è§‚å¯Ÿè€…æ¨¡å¼"><a href="#4-è§‚å¯Ÿè€…æ¨¡å¼" class="headerlink" title="4.è§‚å¯Ÿè€…æ¨¡å¼"></a>4.è§‚å¯Ÿè€…æ¨¡å¼</h2><h3 id="4-1-è§‚å¯Ÿè€…æ¨¡å¼çš„ä½œç”¨"><a href="#4-1-è§‚å¯Ÿè€…æ¨¡å¼çš„ä½œç”¨" class="headerlink" title="4.1 è§‚å¯Ÿè€…æ¨¡å¼çš„ä½œç”¨"></a>4.1 è§‚å¯Ÿè€…æ¨¡å¼çš„ä½œç”¨</h3><p>&amp;emsp;&amp;emsp;å»ºç«‹å¯¹è±¡ä¸å¯¹è±¡ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œä¸€ä¸ªå¯¹è±¡å‘ç”Ÿæ”¹å˜æ—¶ï¼Œä¼šè‡ªåŠ¨é€šçŸ¥å…¶ä»–å¯¹è±¡ã€‚è¿™ä¸ªåœºæ™¯ä¸­ï¼Œå‘ç”Ÿæ”¹å˜çš„å¯¹è±¡è¢«ç§°ä¸ºè§‚å¯Ÿç›®æ ‡ï¼Œè¢«é€šçŸ¥çš„å¯¹è±¡ç§°ä¸ºè§‚å¯Ÿè€…ã€‚ä¸€ä¸ªè§‚å¯Ÿç›®æ ‡å¯ä»¥æœ‰å¤šä¸ªè§‚å¯Ÿè€…ï¼Œè€Œè¿™äº›è§‚å¯Ÿè€…ä¹‹é—´å¯ä»¥æ²¡æœ‰è”ç³»ï¼Œå¯ä»¥æ ¹æ®éœ€è¦å¢åŠ æˆ–åˆ é™¤è§‚å¯Ÿè€…ã€‚</p><p><img data-src="https://fynotefile.oss-cn-zhangjiakou.aliyuncs.com/fynote/fyfile/1462/1651992608037/28ad3ed5e28f41a69a490ee02fa0bb25.png" alt="image.png"></p><h3 id="4-2-è§‚å¯Ÿè€…æ¨¡å¼çš„åº”ç”¨"><a href="#4-2-è§‚å¯Ÿè€…æ¨¡å¼çš„åº”ç”¨" class="headerlink" title="4.2 è§‚å¯Ÿè€…æ¨¡å¼çš„åº”ç”¨"></a>4.2 è§‚å¯Ÿè€…æ¨¡å¼çš„åº”ç”¨</h3><p>&amp;emsp;&amp;emsp;è§‚å¯Ÿè€…æ¨¡å¼åœ¨Javaç¼–ç¨‹ä¸­ç”¨åˆ°æœ€å¤šçš„å¯èƒ½å°±æ˜¯äº‹ä»¶æ¨¡å—çš„å¤„ç†ï¼Œå¯ä»¥å’Œé¢è¯•å®˜è¯¦ç»†çš„èŠä¸‹Springçš„äº‹ä»¶ç®¡ç†æœºåˆ¶æˆ–è€…SpringBootçš„äº‹ä»¶å¤„ç†æœºåˆ¶ã€‚æˆ‘ä»¬ä»¥SpringBootçš„äº‹ä»¶æœºåˆ¶ä¸ºä¾‹æ¥è¯´æ˜</p><p><span class="exturl" data-url="aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM4NTI2NTczL2FydGljbGUvZGV0YWlscy8xMjIxNDMyNTg=">https://blog.csdn.net/qq_38526573/article/details/122143258</span> å•ç‹¬é€šè¿‡ä¸€ç¯‡æ–‡ç« æ¥è¯´æ˜äº‹ä»¶çš„æœ¬è´¨ã€‚</p><h2 id="5-ç­–ç•¥æ¨¡å¼"><a href="#5-ç­–ç•¥æ¨¡å¼" class="headerlink" title="5.ç­–ç•¥æ¨¡å¼"></a>5.ç­–ç•¥æ¨¡å¼</h2><h3 id="5-1-ç­–ç•¥æ¨¡å¼çš„ä½œç”¨"><a href="#5-1-ç­–ç•¥æ¨¡å¼çš„ä½œç”¨" class="headerlink" title="5.1 ç­–ç•¥æ¨¡å¼çš„ä½œç”¨"></a>5.1 ç­–ç•¥æ¨¡å¼çš„ä½œç”¨</h3><p>&amp;emsp;&amp;emsp;ç­–ç•¥æ¨¡å¼çš„ä½œç”¨å°±æ˜¯æˆ‘ä»¬æƒ³è¦å®ç°æŸä¸ªç›®çš„ï¼Œå®ç°çš„æ–¹å¼å¯ä»¥æœ‰å¾ˆå¤šç§ï¼Œé‚£ä¹ˆè¿™é‡Œçš„æ¯ä¸€ç§å®ç°æ–¹å¼éƒ½å¯ä»¥ç§°ä¸ºä¸€ç§ç­–ç•¥ã€‚æ¯”å¦‚ï¼š</p><p><img data-src="https://fynotefile.oss-cn-zhangjiakou.aliyuncs.com/fynote/fyfile/1462/1651992608037/22ad4a07e93c4074ac60ae1c7924452a.png" alt="image.png"></p><p>&amp;emsp;&amp;emsp;æˆ‘ä»¬å¯ä»¥å°†æ¯ä¸€ç§äº¤é€šæ–¹å¼éƒ½å°è£…ä¸ºä¸€ä¸ªç‹¬ç«‹çš„ç±»ï¼Œè¿™å°±æ˜¯ä¸€ç§ç­–ç•¥ã€‚ä¸ºäº†ä¿è¯ç­–ç•¥çš„ä¸€è‡´æ€§ï¼Œè¿˜å¯ä»¥ç”¨ä¸€ä¸ªæŠ½è±¡çš„äº¤é€šæ–¹å¼ç±» æ¥ åšäº¤é€šæ–¹å¼çš„å®šä¹‰ã€‚</p><h3 id="5-2-ç­–ç•¥æ¨¡å¼çš„åº”ç”¨"><a href="#5-2-ç­–ç•¥æ¨¡å¼çš„åº”ç”¨" class="headerlink" title="5.2 ç­–ç•¥æ¨¡å¼çš„åº”ç”¨"></a>5.2 ç­–ç•¥æ¨¡å¼çš„åº”ç”¨</h3><p>&amp;emsp;&amp;emsp;ç­–ç•¥æ¨¡å¼åœ¨å®é™…å¼€å‘ä¸­ç”¨åˆ°çš„åŒæ ·ä¼šæ¯”è¾ƒå¤šã€‚</p><ol><li>AOP ä¸­æ ¹æ®ä¸åŒçš„ç­–ç•¥å¯ä»¥é€šè¿‡JDKåŠ¨æ€ä»£ç†æˆ–è€…CGLIBä»£ç†æ¥åˆ›å»ºä»£ç†å¯¹è±¡</li><li>Springæ¡†æ¶ä¸­çš„Resourcesæ¥å£ï¼Œèµ„æºè®¿é—®çš„ç­–ç•¥</li><li>Servletä¸­çš„serviceæ–¹æ³•ï¼Œä¼šæ ¹æ®å®¢æˆ·ç«¯çš„ä¸åŒæäº¤æ–¹å¼æ¥è°ƒç”¨å¯¹åº”çš„doGetæˆ–è€…doPostæ–¹æ³•æ¥å¤„ç†è¯·æ±‚</li><li>Shiroä¸­çš„å¤šRealmè®¤è¯ä¸­ï¼Œæ ¹æ®æˆ‘ä»¬ä¸åŒçš„é…ç½®å¯ä»¥ä½¿ç”¨æ‰€æœ‰Realmè®¤è¯é€šè¿‡æˆ–è€…å…¶ä¸­ä¸€ä¸ªè®¤è¯é€šè¿‡ç­‰</li><li>SpringSecurityä¸­çš„Authenticationå¯¹è±¡çš„å­˜å‚¨æ–¹å¼</li><li>â€¦â€¦.</li></ol><h2 id="6-è¿­ä»£å™¨æ¨¡å¼"><a href="#6-è¿­ä»£å™¨æ¨¡å¼" class="headerlink" title="6.è¿­ä»£å™¨æ¨¡å¼"></a>6.è¿­ä»£å™¨æ¨¡å¼</h2><h3 id="6-1-è¿­ä»£å™¨æ¨¡å¼çš„ä½œç”¨"><a href="#6-1-è¿­ä»£å™¨æ¨¡å¼çš„ä½œç”¨" class="headerlink" title="6.1 è¿­ä»£å™¨æ¨¡å¼çš„ä½œç”¨"></a>6.1 è¿­ä»£å™¨æ¨¡å¼çš„ä½œç”¨</h3><p>åœºæ™¯ï¼šè®¿é—®èšåˆå¯¹è±¡ä¸­çš„å„ä¸ªå…ƒç´ çš„æ—¶å€™ï¼Œæ¯”å¦‚é“¾è¡¨çš„éå†ã€‚æˆ‘ä»¬ä¸€èˆ¬æ˜¯å°†éå†çš„æ–¹æ³•ä¹Ÿæ”¾åœ¨é“¾è¡¨ç±»ä¸­ã€‚ä½†æ˜¯å¦‚æœéœ€è¦ä¿®æ”¹éå†æ–¹æ³•ï¼Œå°±éœ€è¦ä¿®æ”¹é“¾è¡¨ç±»çš„ä»£ç ï¼Œè¿èƒŒäº†å¼€é—­åŸåˆ™ã€‚</p><p>è¿­ä»£å™¨æ¨¡å¼å°±æ˜¯åœ¨å®¢æˆ·è®¿é—®å’Œèšåˆç±»ä¹‹é—´æ’å…¥ä¸€ä¸ªè¿­ä»£å™¨ï¼Œè¿™æ ·å°±å°†<strong>èšåˆå¯¹è±¡</strong> å’Œ <strong>éå†æ–¹æ³•</strong>è§£è€¦äº†ï¼Œå¹¶ä¸”å¯¹å¤–éšè—å…¶å®ç°ç»†èŠ‚ã€‚</p><p><img data-src="https://fynotefile.oss-cn-zhangjiakou.aliyuncs.com/fynote/fyfile/1462/1651992608037/8a9095d4fbe04245b476ca16250ab2eb.png" alt="image.png"></p><h3 id="6-2-è¿­ä»£å™¨æ¨¡å¼çš„åº”ç”¨"><a href="#6-2-è¿­ä»£å™¨æ¨¡å¼çš„åº”ç”¨" class="headerlink" title="6.2 è¿­ä»£å™¨æ¨¡å¼çš„åº”ç”¨"></a>6.2 è¿­ä»£å™¨æ¨¡å¼çš„åº”ç”¨</h3><ol><li>JDKä¸­çš„List&#x2F;Seté›†åˆä¸­çš„è¿­ä»£å™¨</li><li>â€¦â€¦</li></ol><h2 id="7-ä¸­ä»‹è€…æ¨¡å¼"><a href="#7-ä¸­ä»‹è€…æ¨¡å¼" class="headerlink" title="7.ä¸­ä»‹è€…æ¨¡å¼"></a>7.ä¸­ä»‹è€…æ¨¡å¼</h2><h3 id="7-1-ä¸­ä»‹åˆ™æ¨¡å¼çš„ä½œç”¨"><a href="#7-1-ä¸­ä»‹åˆ™æ¨¡å¼çš„ä½œç”¨" class="headerlink" title="7.1 ä¸­ä»‹åˆ™æ¨¡å¼çš„ä½œç”¨"></a>7.1 ä¸­ä»‹åˆ™æ¨¡å¼çš„ä½œç”¨</h3><p>&amp;emsp;&amp;emsp;å¯¹è±¡ä¹‹é—´å…·æœ‰å¾ˆå¼ºçš„å…³è”æ€§ï¼Œè€Œä¸”æœ‰å¤§é‡çš„ç›¸äº’è°ƒç”¨ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œå¦‚æœä¸€ä¸ªå¯¹è±¡å‘ç”Ÿäº†å˜åŒ–ï¼Œå°±éœ€è¦è¿½è¸ªè¯¥å¯¹è±¡å…³è”çš„å…¶ä»–å¯¹è±¡ï¼Œå¹¶è¿›è¡Œç›¸åº”çš„å¤„ç†ï¼Œè¿™å°±å˜å¾—å¾ˆå¤æ‚ã€‚è€Œä¸­ä»‹è€…æ¨¡å¼ï¼Œå°±æ˜¯ç”¨ä¸€ä¸ªä¸­ä»‹è€…å¯¹è±¡æ¥å°è£…ä¸€ç³»åˆ—çš„å¯¹è±¡äº¤äº’ï¼Œä¸­ä»‹è€…ä½¿å„å¯¹è±¡ä¸éœ€è¦æ˜¾å¼çš„ç›¸äº’å¼•ç”¨ï¼Œè¿™å°±ä½¿å¾—ç³»ç»Ÿå˜å¾—ä½è€¦åˆã€‚æ¯”å¦‚ï¼š</p><p><img data-src="https://fynotefile.oss-cn-zhangjiakou.aliyuncs.com/fynote/fyfile/1462/1651992608037/bfe0f0f3fbff44e7ad83bc64c9637758.png" alt="image.png"></p><p>å‡å¦‚æ²¡æœ‰æ€»ç»ç†ã€‚ä¸‹é¢ä¸‰ä¸ªéƒ¨é—¨ï¼šè´¢åŠ¡éƒ¨ã€å¸‚åœºéƒ¨ã€ç ”å‘éƒ¨ã€‚è´¢åŠ¡éƒ¨è¦å‘å·¥èµ„ï¼Œè®©å¤§å®¶æ ¸å¯¹å…¬å¸éœ€è¦è·Ÿå¸‚åœºéƒ¨å’Œç ”å‘éƒ¨éƒ½é€šæ°”ï¼›å¸‚åœºéƒ¨è¦æ¥ä¸ªæ–°é¡¹ç›®ï¼Œéœ€è¦ç ”å‘éƒ¨å¤„ç†æŠ€æœ¯ã€éœ€è¦è´¢åŠ¡éƒ¨å‡ºèµ„é‡‘ã€‚å¸‚åœºéƒ¨è·Ÿå„ä¸ªéƒ¨é—¨æ‰“äº¤é“ã€‚ è™½ç„¶åªæœ‰ä¸‰ä¸ªéƒ¨é—¨ï¼Œä½†æ˜¯å…³ç³»éå¸¸ä¹±ã€‚</p><p><img data-src="https://fynotefile.oss-cn-zhangjiakou.aliyuncs.com/fynote/fyfile/1462/1651992608037/af819fcb665d4aacacc4af386c9b3f8e.png" alt="image.png"></p><p>å®é™…ä¸Šï¼Œå…¬å¸éƒ½æœ‰æ€»ç»ç†ã€‚å„ä¸ªéƒ¨é—¨æœ‰ä»€ä¹ˆäº‹æƒ…éƒ½é€šæŠ¥åˆ°æ€»ç»ç†è¿™é‡Œï¼Œæ€»ç»ç†å†é€šçŸ¥å„ä¸ªç›¸å…³éƒ¨é—¨ã€‚</p><h3 id="7-2-ä¸­ä»‹åˆ™æ¨¡å¼çš„åº”ç”¨"><a href="#7-2-ä¸­ä»‹åˆ™æ¨¡å¼çš„åº”ç”¨" class="headerlink" title="7.2 ä¸­ä»‹åˆ™æ¨¡å¼çš„åº”ç”¨"></a>7.2 ä¸­ä»‹åˆ™æ¨¡å¼çš„åº”ç”¨</h3><ol><li>MVCæ¨¡å¼ä¸­çš„Cï¼Œæ§åˆ¶å™¨å°±æ˜¯ä¸€ä¸ªä¸­ä»‹è€…å¯¹è±¡ï¼ŒMå’ŒVéƒ½å’ŒCæ‰“äº¤é“</li><li>ä»£ç†å¯¹è±¡ä¸­çš„invokeæ–¹æ³•ï¼Œå®¢æˆ·ç«¯å’Œç›®æ ‡å¯¹è±¡éƒ½æ˜¯é€šè¿‡invokeæ¥æ‰“äº¤åˆ°çš„ã€‚</li><li>â€¦..</li></ol><h2 id="8-çŠ¶æ€æ¨¡å¼"><a href="#8-çŠ¶æ€æ¨¡å¼" class="headerlink" title="8.çŠ¶æ€æ¨¡å¼"></a>8.çŠ¶æ€æ¨¡å¼</h2><p>åœºæ™¯ï¼š å¦‚æœä¸€ä¸ªå¯¹è±¡çš„è¡Œä¸ºä¼šæ ¹æ® å…¶æŸä¸ªå±æ€§çš„å˜åŒ–è€Œä¸åŒï¼Œé‚£è¿™ä¸ªå±æ€§å°±å¯ä»¥è¢«ç§°ä¸ºè¯¥å¯¹è±¡çš„çŠ¶æ€ã€‚è¿™æ ·çš„å¯¹è±¡ä¹Ÿè¢«ç§°ä¸ºæœ‰çŠ¶æ€å¯¹è±¡ï¼ˆstatefulï¼‰ã€‚å¦‚æœè¿™æ ·çš„å¯¹è±¡å› ä¸ºæŸäº›äº‹ä»¶ï¼Œå…¶å†…éƒ¨çŠ¶æ€å‘ç”Ÿäº†æ”¹å˜ï¼Œé‚£ä¹ˆç³»ç»Ÿçš„è¡Œä¸ºä¹Ÿè¦éšä¹‹å‘ç”Ÿå˜åŒ–çš„è¯ï¼Œå°±å¯ä»¥ä½¿ç”¨çŠ¶æ€æ¨¡å¼ã€‚</p><h2 id="9-å‘½ä»¤æ¨¡å¼"><a href="#9-å‘½ä»¤æ¨¡å¼" class="headerlink" title="9.å‘½ä»¤æ¨¡å¼"></a>9.å‘½ä»¤æ¨¡å¼</h2><p>åœºæ™¯ï¼šè¯·æ±‚çš„å‘é€è€…å’Œæ¥æ”¶è€…ä¹‹é—´è§£è€¦ï¼Œè®©å¯¹è±¡ä¹‹é—´çš„è°ƒç”¨å…³ç³»æ›´åŠ çµæ´»ã€‚å‘é€è€…å’Œæ¥æ”¶è€…ä¹‹é—´æ²¡æœ‰ç›´æ¥çš„å¼•ç”¨å…³ç³»ï¼Œå‘é€è¯·æ±‚çš„å¯¹è±¡åªéœ€è¦çŸ¥é“å¦‚ä½•å‘é€ï¼Œè€Œä¸å¿…å…³å¿ƒå¦‚ä½•å®Œæˆè¯·æ±‚ã€‚</p><h2 id="10-å¤‡å¿˜å½•æ¨¡å¼"><a href="#10-å¤‡å¿˜å½•æ¨¡å¼" class="headerlink" title="10.å¤‡å¿˜å½•æ¨¡å¼"></a>10.å¤‡å¿˜å½•æ¨¡å¼</h2><p>åœºæ™¯ï¼šè®°å½•ä¸€ä¸ªå¯¹è±¡çš„å†…éƒ¨çŠ¶æ€ï¼Œå½“ç”¨æˆ·åæ‚”æ—¶èƒ½æ’¤é”€å½“å‰çš„æ“ä½œï¼Œæ˜¯æ•°æ®æ¢å¤åˆ°å®ƒåŸæ¥çš„çŠ¶æ€ã€‚æ¯”å¦‚æˆ‘ä»¬ç¼–ç¨‹çš„æ—¶å€™ï¼Œctrl+z å°±æ˜¯æ’¤é”€å½“å‰æ“ä½œï¼Œæ¢å¤åˆ°ä¿®æ”¹å‰çš„çŠ¶æ€ã€‚åˆå«å¿«ç…§æ¨¡å¼ã€‚</p><h2 id="11-è®¿é—®è€…æ¨¡å¼"><a href="#11-è®¿é—®è€…æ¨¡å¼" class="headerlink" title="11.è®¿é—®è€…æ¨¡å¼"></a>11.è®¿é—®è€…æ¨¡å¼</h2><p>åœºæ™¯ï¼šæœ‰äº›é›†åˆå¯¹è±¡ä¸­ä¼šæœ‰å¤šç§ä¸åŒçš„å…ƒç´ ï¼Œæ¯ç§å…ƒç´ éƒ½æœ‰ä¸åŒçš„è®¿é—®è€… å’Œ å¤„ç†æ–¹å¼ã€‚è¿™ç§è¢«å¤„ç†çš„æ•°æ®å…ƒç´ ç›¸å¯¹ç¨³å®šï¼Œä½†æ˜¯å¤„ç†æ–¹å¼æ¯”è¾ƒå¤šæ ·çš„æƒ…å†µï¼Œå¯ä»¥ç”¨è®¿é—®è€…æ¨¡å¼æ¥å¤„ç†ã€‚</p><p>è®¿é—®è€…æ¨¡å¼å°†æ•°æ®ç»“æ„ä¸­çš„å„å…ƒç´ çš„æ“ä½œåˆ†ç¦»å‡ºæ¥ï¼Œå°è£…æˆç‹¬ç«‹çš„ç±»ï¼Œä½¿å…¶åœ¨ä¸æ”¹å˜æ•°æ®ç»“æ„çš„å‰æä¸‹ï¼Œå¯ä»¥æ·»åŠ ä½œç”¨äºè¿™äº›å…ƒç´ çš„æ–°æ“ä½œã€‚ä¸ºæ•°æ®ç»“æ„ä¸­çš„æ¯ä¸ªå…ƒç´ æä¾›å¤šç§è®¿é—®æ–¹å¼ã€‚</p><div id="gitalk-container"></div><script src="https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js"></script><link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css"><script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script><script>var gitalkConfig={clientID:"6db178ba46c8af8f6a6f",clientSecret:"90f730e5956024596558df00975cd8eae28cae3d",repo:"bk-comment01",owner:"onlymarryu",admin:["onlymarryu"],distractionFreeMode:!1,language:"zh-CN",proxy:"https://gitalk-comments.netlify.app/github_access_token",perPage:15};gitalkConfig.id=md5(location.pathname);var gitalk=new Gitalk(gitalkConfig);gitalk.render("gitalk-container")</script><div class="tags"><a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" rel="tag"><i class="ic i-tag"></i> è®¾è®¡æ¨¡å¼</a></div></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">æ›´æ–°äº</span> <time title="ä¿®æ”¹æ—¶é—´ï¼š2022-10-28 22:01:56" itemprop="dateModified" datetime="2022-10-28T22:01:56+08:00">2022-10-28</time></span></div><div class="reward"><button><i class="ic i-heartbeat"></i> èµèµ</button><p>è¯·æˆ‘å–[èŒ¶]~(ï¿£â–½ï¿£)~*</p><div id="qr"><div><img data-src="/images/wechatpay.png" alt="é›¾éƒ½ å¾®ä¿¡æ”¯ä»˜"><p>å¾®ä¿¡æ”¯ä»˜</p></div><div><img data-src="/images/alipay.png" alt="é›¾éƒ½ æ”¯ä»˜å®"><p>æ”¯ä»˜å®</p></div><div><img data-src="/images/paypal.png" alt="é›¾éƒ½ è´å®"><p>è´å®</p></div></div></div><div id="copyright"><ul><li class="author"><strong>æœ¬æ–‡ä½œè€…ï¼š </strong>é›¾éƒ½ <i class="ic i-at"><em>@</em></i>è®°å½• â€œç¾é£Ÿâ€ æ¯åˆ»</li><li class="link"><strong>æœ¬æ–‡é“¾æ¥ï¼š</strong> <a href="http://yoursite.com/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/DesignMode/" title="è®¾è®¡æ¨¡å¼">http://yoursite.com/è®¾è®¡æ¨¡å¼/DesignMode/</a></li><li class="license"><strong>ç‰ˆæƒå£°æ˜ï¼š </strong>æœ¬ç«™æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/Spring_Family/SpringSecurity/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;tva1.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1gicljitigmj20zk0m87fp.jpg" title="SpringSecurity"><span class="type">ä¸Šä¸€ç¯‡</span> <span class="category"><i class="ic i-flag"></i> Spring å…¨å®¶æ¡¶</span><h3>SpringSecurity</h3></a></div><div class="item right"><a href="/DataBase/MySQL/MySQL_Super/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;tva1.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1gicit31ffoj20zk0m8naf.jpg" title="MySQLè°ƒä¼˜"><span class="type">ä¸‹ä¸€ç¯‡</span> <span class="category"><i class="ic i-flag"></i> MySQL</span><h3>MySQLè°ƒä¼˜</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="æ–‡ç« ç›®å½•"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%B0%88%E8%B0%88%E4%BD%A0%E5%AF%B9%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E7%9A%84%E7%90%86%E8%A7%A3"><span class="toc-number">1.</span> <span class="toc-text">è°ˆè°ˆä½ å¯¹è®¾è®¡æ¨¡å¼çš„ç†è§£</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E5%88%9B%E5%BB%BA%E5%9E%8B%E6%A8%A1%E5%BC%8F"><span class="toc-number">2.</span> <span class="toc-text">ä¸€ã€åˆ›å»ºå‹æ¨¡å¼</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F"><span class="toc-number">2.1.</span> <span class="toc-text">1.å•ä¾‹æ¨¡å¼</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A5%BF%E6%B1%89%E5%BC%8F"><span class="toc-number">2.1.1.</span> <span class="toc-text">é¥¿æ±‰å¼</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%87%92%E6%B1%89%E5%BC%8F"><span class="toc-number">2.1.2.</span> <span class="toc-text">æ‡’æ±‰å¼</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%8C%E9%87%8D%E6%A3%80%E6%B5%8B%E9%94%81"><span class="toc-number">2.1.3.</span> <span class="toc-text">åŒé‡æ£€æµ‹é”</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E5%86%85%E9%83%A8%E7%B1%BB"><span class="toc-number">2.1.4.</span> <span class="toc-text">é™æ€å†…éƒ¨ç±»</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9E%9A%E4%B8%BE%E5%8D%95%E4%BE%8B"><span class="toc-number">2.1.5.</span> <span class="toc-text">æšä¸¾å•ä¾‹</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E6%80%8E%E4%B9%88%E8%A7%A3%E5%86%B3%E5%8F%8D%E5%B0%84%E7%88%86%E7%A0%B4%E5%8D%95%E4%BE%8B"><span class="toc-number">2.2.</span> <span class="toc-text">2.æ€ä¹ˆè§£å†³åå°„çˆ†ç ´å•ä¾‹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E8%AF%B4%E8%AF%B4%E4%BD%A0%E5%9C%A8%E5%93%AA%E4%BA%9B%E6%A1%86%E6%9E%B6%E4%B8%AD%E7%9C%8B%E5%88%B0%E4%BA%86%E5%8D%95%E4%BE%8B%E7%9A%84%E8%AE%BE%E8%AE%A1"><span class="toc-number">2.3.</span> <span class="toc-text">3.è¯´è¯´ä½ åœ¨å“ªäº›æ¡†æ¶ä¸­çœ‹åˆ°äº†å•ä¾‹çš„è®¾è®¡</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F"><span class="toc-number">2.4.</span> <span class="toc-text">4.å·¥å‚æ¨¡å¼</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-%E7%AE%80%E5%8D%95%E5%B7%A5%E5%8E%82"><span class="toc-number">2.4.1.</span> <span class="toc-text">4.1 ç®€å•å·¥å‚</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95"><span class="toc-number">2.4.2.</span> <span class="toc-text">4.2 å·¥å‚æ–¹æ³•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82"><span class="toc-number">2.4.3.</span> <span class="toc-text">4.3 æŠ½è±¡å·¥å‚</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-%E5%BB%BA%E9%80%A0%E8%80%85%E6%A8%A1%E5%BC%8F"><span class="toc-number">2.5.</span> <span class="toc-text">5.å»ºé€ è€…æ¨¡å¼</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8F"><span class="toc-number">2.6.</span> <span class="toc-text">6.åŸå‹æ¨¡å¼</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-%E6%B5%85%E5%85%8B%E9%9A%86"><span class="toc-number">2.6.1.</span> <span class="toc-text">6.1 æµ…å…‹éš†</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-%E6%B7%B1%E5%BA%A6%E5%85%8B%E9%9A%86"><span class="toc-number">2.6.2.</span> <span class="toc-text">6.2 æ·±åº¦å…‹éš†</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-%E8%B0%88%E8%B0%88%E4%BD%A0%E5%AF%B9%E5%88%9B%E5%BB%BA%E5%9E%8B%E6%A8%A1%E5%BC%8F%E7%9A%84%E7%90%86%E8%A7%A3"><span class="toc-number">2.7.</span> <span class="toc-text">7.è°ˆè°ˆä½ å¯¹åˆ›å»ºå‹æ¨¡å¼çš„ç†è§£</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E7%BB%93%E6%9E%84%E6%80%A7%E6%A8%A1%E5%BC%8F"><span class="toc-number">3.</span> <span class="toc-text">äºŒã€ç»“æ„æ€§æ¨¡å¼</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F"><span class="toc-number">3.1.</span> <span class="toc-text">1.ä»£ç†æ¨¡å¼</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-number">3.1.1.</span> <span class="toc-text">1.1 ä»£ç†æ¨¡å¼çš„ä½œç”¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F"><span class="toc-number">3.1.2.</span> <span class="toc-text">1.2 ä»£ç†æ¨¡å¼çš„å®ç°æ–¹å¼</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-1-%E9%9D%99%E6%80%81%E4%BB%A3%E7%90%86"><span class="toc-number">3.1.2.1.</span> <span class="toc-text">1.2.1 é™æ€ä»£ç†</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-2-JDK%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86"><span class="toc-number">3.1.2.2.</span> <span class="toc-text">1.2.2 JDKåŠ¨æ€ä»£ç†</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-3-CGLIB%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86"><span class="toc-number">3.1.2.3.</span> <span class="toc-text">1.2.3 CGLIBåŠ¨æ€ä»£ç†</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F"><span class="toc-number">3.2.</span> <span class="toc-text">2.é€‚é…å™¨æ¨¡å¼</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E9%80%82%E9%85%8D%E5%99%A8%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-number">3.2.1.</span> <span class="toc-text">2.1 é€‚é…å™¨çš„ä½œç”¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E5%85%B7%E4%BD%93%E6%A1%88%E4%BE%8B%E5%88%86%E6%9E%90"><span class="toc-number">3.2.2.</span> <span class="toc-text">2.2 å…·ä½“æ¡ˆä¾‹åˆ†æ</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E8%A3%85%E9%A5%B0%E8%80%85%E6%A8%A1%E5%BC%8F"><span class="toc-number">3.3.</span> <span class="toc-text">3.è£…é¥°è€…æ¨¡å¼</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E8%A3%85%E9%A5%B0%E8%80%85%E6%A8%A1%E5%BC%8F%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-number">3.3.1.</span> <span class="toc-text">3.1 è£…é¥°è€…æ¨¡å¼çš„ä½œç”¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%E8%A3%85%E9%A5%B0%E8%80%85%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%BA%94%E7%94%A8"><span class="toc-number">3.3.2.</span> <span class="toc-text">3.2 è£…é¥°è€…æ¨¡å¼çš„åº”ç”¨</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8F"><span class="toc-number">3.4.</span> <span class="toc-text">4.ç»„åˆæ¨¡å¼</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8F%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-number">3.4.1.</span> <span class="toc-text">4.1 ç»„åˆæ¨¡å¼çš„ä½œç”¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%BA%94%E7%94%A8"><span class="toc-number">3.4.2.</span> <span class="toc-text">4.2 ç»„åˆæ¨¡å¼çš„åº”ç”¨</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-%E9%97%A8%E9%9D%A2%E6%A8%A1%E5%BC%8F"><span class="toc-number">3.5.</span> <span class="toc-text">5.é—¨é¢æ¨¡å¼</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-%E6%A1%A5%E6%8E%A5%E6%A8%A1%E5%BC%8F"><span class="toc-number">3.6.</span> <span class="toc-text">6.æ¡¥æ¥æ¨¡å¼</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-%E4%BA%AB%E5%85%83%E6%A8%A1%E5%BC%8F"><span class="toc-number">3.7.</span> <span class="toc-text">7.äº«å…ƒæ¨¡å¼</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E8%A1%8C%E4%B8%BA%E5%9E%8B%E6%A8%A1%E5%BC%8F"><span class="toc-number">4.</span> <span class="toc-text">ä¸‰ã€è¡Œä¸ºå‹æ¨¡å¼</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E8%A7%A3%E9%87%8A%E5%99%A8%E6%A8%A1%E5%BC%8F"><span class="toc-number">4.1.</span> <span class="toc-text">1.è§£é‡Šå™¨æ¨¡å¼</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-%E8%A7%A3%E9%87%8A%E5%99%A8%E6%A8%A1%E5%BC%8F%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-number">4.1.1.</span> <span class="toc-text">1.1 è§£é‡Šå™¨æ¨¡å¼çš„ä½œç”¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-%E8%A7%A3%E9%87%8A%E5%99%A8%E7%9A%84%E5%BA%94%E7%94%A8"><span class="toc-number">4.1.2.</span> <span class="toc-text">1.2 è§£é‡Šå™¨çš„åº”ç”¨</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E6%A8%A1%E6%9D%BF%E6%A8%A1%E5%BC%8F"><span class="toc-number">4.2.</span> <span class="toc-text">2.æ¨¡æ¿æ¨¡å¼</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E6%A8%A1%E6%9D%BF%E6%A8%A1%E5%BC%8F%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-number">4.2.1.</span> <span class="toc-text">2.1 æ¨¡æ¿æ¨¡å¼çš„ä½œç”¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E6%A8%A1%E6%9D%BF%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%BA%94%E7%94%A8"><span class="toc-number">4.2.2.</span> <span class="toc-text">2.2 æ¨¡æ¿æ¨¡å¼çš„åº”ç”¨</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E8%B4%A3%E4%BB%BB%E9%93%BE%E6%A8%A1%E5%BC%8F"><span class="toc-number">4.3.</span> <span class="toc-text">3.è´£ä»»é“¾æ¨¡å¼</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E8%B4%A3%E4%BB%BB%E9%93%BE%E6%A8%A1%E5%BC%8F%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-number">4.3.1.</span> <span class="toc-text">3.1 è´£ä»»é“¾æ¨¡å¼çš„ä½œç”¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%E8%B4%A3%E4%BB%BB%E9%93%BE%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%BA%94%E7%94%A8"><span class="toc-number">4.3.2.</span> <span class="toc-text">3.2 è´£ä»»é“¾æ¨¡å¼çš„åº”ç”¨</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F"><span class="toc-number">4.4.</span> <span class="toc-text">4.è§‚å¯Ÿè€…æ¨¡å¼</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-number">4.4.1.</span> <span class="toc-text">4.1 è§‚å¯Ÿè€…æ¨¡å¼çš„ä½œç”¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%BA%94%E7%94%A8"><span class="toc-number">4.4.2.</span> <span class="toc-text">4.2 è§‚å¯Ÿè€…æ¨¡å¼çš„åº”ç”¨</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F"><span class="toc-number">4.5.</span> <span class="toc-text">5.ç­–ç•¥æ¨¡å¼</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-number">4.5.1.</span> <span class="toc-text">5.1 ç­–ç•¥æ¨¡å¼çš„ä½œç”¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%BA%94%E7%94%A8"><span class="toc-number">4.5.2.</span> <span class="toc-text">5.2 ç­–ç•¥æ¨¡å¼çš„åº”ç”¨</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-%E8%BF%AD%E4%BB%A3%E5%99%A8%E6%A8%A1%E5%BC%8F"><span class="toc-number">4.6.</span> <span class="toc-text">6.è¿­ä»£å™¨æ¨¡å¼</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-%E8%BF%AD%E4%BB%A3%E5%99%A8%E6%A8%A1%E5%BC%8F%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-number">4.6.1.</span> <span class="toc-text">6.1 è¿­ä»£å™¨æ¨¡å¼çš„ä½œç”¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-%E8%BF%AD%E4%BB%A3%E5%99%A8%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%BA%94%E7%94%A8"><span class="toc-number">4.6.2.</span> <span class="toc-text">6.2 è¿­ä»£å™¨æ¨¡å¼çš„åº”ç”¨</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-%E4%B8%AD%E4%BB%8B%E8%80%85%E6%A8%A1%E5%BC%8F"><span class="toc-number">4.7.</span> <span class="toc-text">7.ä¸­ä»‹è€…æ¨¡å¼</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1-%E4%B8%AD%E4%BB%8B%E5%88%99%E6%A8%A1%E5%BC%8F%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-number">4.7.1.</span> <span class="toc-text">7.1 ä¸­ä»‹åˆ™æ¨¡å¼çš„ä½œç”¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2-%E4%B8%AD%E4%BB%8B%E5%88%99%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%BA%94%E7%94%A8"><span class="toc-number">4.7.2.</span> <span class="toc-text">7.2 ä¸­ä»‹åˆ™æ¨¡å¼çš„åº”ç”¨</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-%E7%8A%B6%E6%80%81%E6%A8%A1%E5%BC%8F"><span class="toc-number">4.8.</span> <span class="toc-text">8.çŠ¶æ€æ¨¡å¼</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F"><span class="toc-number">4.9.</span> <span class="toc-text">9.å‘½ä»¤æ¨¡å¼</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-%E5%A4%87%E5%BF%98%E5%BD%95%E6%A8%A1%E5%BC%8F"><span class="toc-number">4.10.</span> <span class="toc-text">10.å¤‡å¿˜å½•æ¨¡å¼</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-%E8%AE%BF%E9%97%AE%E8%80%85%E6%A8%A1%E5%BC%8F"><span class="toc-number">4.11.</span> <span class="toc-text">11.è®¿é—®è€…æ¨¡å¼</span></a></li></ol></li></ol></div><div class="related panel pjax" data-title="ç³»åˆ—æ–‡ç« "><ul><li class="active"><a href="/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/DesignMode/" rel="bookmark" title="è®¾è®¡æ¨¡å¼">è®¾è®¡æ¨¡å¼</a></li></ul></div><div class="overview panel" data-title="ç«™ç‚¹æ¦‚è§ˆ"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="é›¾éƒ½" data-src="/images/avatar.jpg"><p class="name" itemprop="name">é›¾éƒ½</p><div class="description" itemprop="description">è®°å½• â€œç¾é£Ÿâ€ æ¯åˆ»</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">57</span> <span class="name">æ–‡ç« </span></a></div><div class="item categories"><a href="/categories/"><span class="count">10</span> <span class="name">åˆ†ç±»</span></a></div><div class="item tags"><a href="/tags/"><span class="count">16</span> <span class="name">æ ‡ç­¾</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL29ubHltYXJyeXU=" title="https:&#x2F;&#x2F;github.com&#x2F;onlymarryu"><i class="ic i-github"></i></span> <span class="exturl item music" data-url="aHR0cHM6Ly9tdXNpYy4xNjMuY29tLyMvbXkvbS9tdXNpYy9wbGF5bGlzdD9pZD0zMTY2MDYwNzkw" title="https:&#x2F;&#x2F;music.163.com&#x2F;#&#x2F;my&#x2F;m&#x2F;music&#x2F;playlist?id&#x3D;3166060790"><i class="ic i-cloud-music"></i></span></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>é¦–é¡µ</a></li><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>æ—¶é—´è½´</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>åˆ†ç±»</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>æ ‡ç­¾</a></li><li class="item"><a href="/friends/" rel="section"><i class="ic i-heart"></i>å‹é“¾</a></li><li class="item"><a href="/about/" rel="section"><i class="ic i-calendar"></i>ç•™è¨€</a></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/Spring_Family/SpringSecurity/" rel="prev" title="ä¸Šä¸€ç¯‡"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/DataBase/MySQL/MySQL_Super/" rel="next" title="ä¸‹ä¸€ç¯‡"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>éšæœºæ–‡ç« </h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/%E5%B7%A5%E5%85%B7%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/" title="åˆ†ç±»äº å·¥å…·è½¯ä»¶å®‰è£…">å·¥å…·è½¯ä»¶å®‰è£…</a></div><span><a href="/tools/Nginx-tool/" title="Nginx">Nginx</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%B7%A5%E5%85%B7%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/" title="åˆ†ç±»äº å·¥å…·è½¯ä»¶å®‰è£…">å·¥å…·è½¯ä»¶å®‰è£…</a></div><span><a href="/tools/Tomcat-tool/" title="Tomcat">Tomcat</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/JavaSE/" title="åˆ†ç±»äº JavaSE">JavaSE</a></div><span><a href="/Java/%E7%AC%AC10%E7%AB%A0_%E5%B8%B8%E7%94%A8%E7%B1%BB/" title="ç¬¬10ç« _å¸¸ç”¨ç±»">ç¬¬10ç« _å¸¸ç”¨ç±»</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/" title="åˆ†ç±»äº æ•°æ®åº“">æ•°æ®åº“</a> <i class="ic i-angle-right"></i> <a href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/" title="åˆ†ç±»äº MySQL">MySQL</a></div><span><a href="/DataBase/MySQL/MySQL_Basic/" title="MySQLåŸºç¡€">MySQLåŸºç¡€</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%B7%A5%E5%85%B7%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/" title="åˆ†ç±»äº å·¥å…·è½¯ä»¶å®‰è£…">å·¥å…·è½¯ä»¶å®‰è£…</a></div><span><a href="/tools/Nacos-tool/" title="Nacos">Nacos</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/" title="åˆ†ç±»äº æ•°æ®åº“">æ•°æ®åº“</a> <i class="ic i-angle-right"></i> <a href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/" title="åˆ†ç±»äº MySQL">MySQL</a></div><span><a href="/DataBase/MySQL/MySQL_Super/" title="MySQLè°ƒä¼˜">MySQLè°ƒä¼˜</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%88%86%E5%B8%83%E5%BC%8F/" title="åˆ†ç±»äº åˆ†å¸ƒå¼">åˆ†å¸ƒå¼</a></div><span><a href="/Distribution/FastDFS/" title="FastDFS">FastDFS</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%B7%A5%E5%85%B7%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/" title="åˆ†ç±»äº å·¥å…·è½¯ä»¶å®‰è£…">å·¥å…·è½¯ä»¶å®‰è£…</a></div><span><a href="/tools/python-tool/" title="python">python</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/JavaSE/" title="åˆ†ç±»äº JavaSE">JavaSE</a></div><span><a href="/Java/%E7%AC%AC2%E7%AB%A0_%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/" title="ç¬¬2ç« _æ•°æ®ç±»å‹">ç¬¬2ç« _æ•°æ®ç±»å‹</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/JavaSE/" title="åˆ†ç±»äº JavaSE">JavaSE</a></div><span><a href="/Java/%E7%AC%AC8%E7%AB%A0_%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/" title="ç¬¬8ç« _é¢å‘å¯¹è±¡">ç¬¬8ç« _é¢å‘å¯¹è±¡</a></span></li></ul></div><div><h2>æœ€æ–°è¯„è®º</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2010 â€“ <span itemprop="copyrightYear">2022</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">é›¾éƒ½ @ é›¾éƒ½åšå®¢</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="ç«™ç‚¹æ€»å­—æ•°">830k å­—</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="ç«™ç‚¹é˜…è¯»æ—¶é•¿">12:34</span></div><div class="powered-by">åŸºäº <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"è®¾è®¡æ¨¡å¼/DesignMode/",favicon:{show:"ï¼ˆâ—Â´3ï½€â—ï¼‰ã‚„ã‚Œã‚„ã‚Œã ãœ",hide:"(Â´Ğ”ï½€)å¤§å¤‰ã ï¼"},search:{placeholder:"æ–‡ç« æœç´¢",empty:"å…³äº ã€Œ ${query} ã€ï¼Œä»€ä¹ˆä¹Ÿæ²¡æœåˆ°",stats:"${time} ms å†…æ‰¾åˆ° ${hits} æ¡ç»“æœ"},valine:!0,fancybox:!0,copyright:'å¤åˆ¶æˆåŠŸï¼Œè½¬è½½è¯·éµå®ˆ <i class="ic i-creative-commons"></i>BY-NC-SA åè®®ã€‚',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script></body></html>