<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="每天进步一点点，就是成功的开始" href="https://eth168.top/rss.xml"><link rel="alternate" type="application/atom+xml" title="每天进步一点点，就是成功的开始" href="https://eth168.top/atom.xml"><link rel="alternate" type="application/json" title="每天进步一点点，就是成功的开始" href="https://eth168.top/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="keywords" content="分布式,中间件"><link rel="canonical" href="https://eth168.top/Distribution/Solr/"><title>Solr - 分布式 | 雾都博客 = 每天进步一点点，就是成功的开始</title><meta name="generator" content="Hexo 6.3.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">Solr</h1><div class="meta"><span class="item" title="创建时间：2022-03-08 00:00:00"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">发表于</span> <time itemprop="dateCreated datePublished" datetime="2022-03-08T00:00:00+08:00">2022-03-08</time> </span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">本文字数</span> <span>15k</span> <span class="text">字</span> </span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">阅读时长</span> <span>13 分钟</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">雾都博客</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://api.yimian.xyz/img?975893"></li><li class="item" data-background-image="https://api.yimian.xyz/img?782967"></li><li class="item" data-background-image="https://api.yimian.xyz/img?655289"></li><li class="item" data-background-image="https://api.yimian.xyz/img?997131"></li><li class="item" data-background-image="https://api.yimian.xyz/img?602884"></li><li class="item" data-background-image="https://api.yimian.xyz/img?344672"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">首页</a></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/%E5%88%86%E5%B8%83%E5%BC%8F/" itemprop="item" rel="index" title="分类于 分布式"><span itemprop="name">分布式</span></a><meta itemprop="position" content="1"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://eth168.top/Distribution/Solr/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="雾都"><meta itemprop="description" content=", 花非花，雾非雾"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="每天进步一点点，就是成功的开始"></span><div class="body md" itemprop="articleBody"><h1 id="solr"><a class="anchor" href="#solr">#</a> Solr</h1><h3 id="主要内容"><a class="anchor" href="#主要内容">#</a> 主要内容</h3><ol><li><p>Solr 简介</p></li><li><p>Solr 搜索原理</p></li><li><p>Solr 单机版安装</p></li><li><p>可视化管理界面</p></li><li><p>新建核心</p></li><li><p>分词</p></li><li><p>Dataimport</p></li><li><p>使用 SolrJ 操作 Solr</p></li><li><p>Spring Data for Apache Solr</p><ol start="10"><li>SolrCloud</li></ol></li></ol><h3 id="学习目标"><a class="anchor" href="#学习目标">#</a> 学习目标</h3><table><thead><tr><th>知识点</th><th>要求</th></tr></thead><tbody><tr><td>Solr 简介</td><td>掌握</td></tr><tr><td>Solr 搜索原理</td><td>掌握</td></tr><tr><td>Solr 单机版安装</td><td>掌握</td></tr><tr><td>可视化管理界面</td><td>掌握</td></tr><tr><td>新建核心</td><td>掌握</td></tr><tr><td>分词</td><td>掌握</td></tr><tr><td>Dataimport</td><td>掌握</td></tr><tr><td>使用 SolrJ 操作 Solr</td><td>掌握</td></tr><tr><td>SolrCloud</td><td>掌握</td></tr><tr><td>Spring Data for Apache Solr</td><td>掌握</td></tr></tbody></table><h3 id="一-solr简介"><a class="anchor" href="#一-solr简介">#</a> 一、Solr 简介</h3><h4 id="1为什么使用solr"><a class="anchor" href="#1为什么使用solr">#</a> 1. 为什么使用 Solr</h4><p>​	在海量数据下，对 MySQL 或 Oracle 进行模糊查询或条件查询的效率是很低的。而搜索功能在绝大多数项目中都是必须的，如何提升搜索效率是很多互联网项目必须要考虑的问题。</p><p>​	既然使用关系型数据库进行搜索效率比较低，最直接的解决方案就是使用专用搜索工具进行搜索，从而提升搜索效率。</p><h4 id="2常见搜索解决方案"><a class="anchor" href="#2常见搜索解决方案">#</a> 2. 常见搜索解决方案</h4><p>​	基于 Apache Lucene（全文检索工具库）实现搜索。但是 Lucene 的使用对于绝大多数的程序员都是 “噩梦级” 的。</p><p>​	基于谷歌 API 实现搜索。</p><p>​	基于百度 API 实现搜索。</p><h4 id="3solr简介"><a class="anchor" href="#3solr简介">#</a> 3.Solr 简介</h4><p>​	Solr 是基于 Apache Lucene 构建的用于搜索和分析的开源解决方案。可提供可扩展索引、搜索功能、高亮显示和文字解析功能。</p><p>​	Solr 本质就是一个 Java web 项目，且内嵌了 Jetty 服务器，所以安装起来非常方便。客户端操作 Solr 的过程和平时我们所写项目一样，就是请求 Solr 中控制器，处理完数据后把结果响应给客户端。</p><h4 id="4正向索引和反向索引"><a class="anchor" href="#4正向索引和反向索引">#</a> 4. 正向索引和反向索引</h4><p>​	只要讨论搜索就不得不提的两个概念：正向索引（forward index）和反向索引 (inverted index)。</p><p>​	正向索引：从文档内容到词组的过程。每次搜索的实收需要搜索所有文档，每个文档比较搜索条件和词组。</p><table><thead><tr><th>文档</th><th>词组</th></tr></thead><tbody><tr><td>I am a chinese</td><td>I,am,a,chinese</td></tr></tbody></table><p>​	反向索引：是正向索引的逆向。建立词组和文档的映射关系。通过找到词组就能找到文档内容。（和新华字典找字很像）</p><table><thead><tr><th>词组</th><th>文档</th></tr></thead><tbody><tr><td>I,am,a,chinese</td><td>I am a chinese</td></tr></tbody></table><h3 id="二-solr搜索原理"><a class="anchor" href="#二-solr搜索原理">#</a> 二、Solr 搜索原理</h3><h4 id="1搜索原理"><a class="anchor" href="#1搜索原理">#</a> 1. 搜索原理</h4><p>​	Solr 能够提升检索效率的主要原因就是分词和索引（反向索引，通过）。</p><p>​	分词：会对搜索条件 / 存储内容进行分词，分成日常所使用的词语。</p><p>​	索引：存储在 Solr 中内容会按照程序员的要求来是否建立索引。如果要求建立索引会把存储内容中关键字（分词）建立索引。</p><img data-src="/Distribution/Solr/solr-01.JPG"><h4 id="2solr中数据存储说明"><a class="anchor" href="#2solr中数据存储说明">#</a> 2.Solr 中数据存储说明</h4><p>​	Solr 为了给内容建立索引，所以 Solr 就必须具备数据存储能力。所有需要被搜索的内容都需要存储在 Solr 中，在开发中需要把数据库中数据添加到 Solr 中进行初始化，每次修改数据库中数据还需要同步 Solr 中的数据。</p><p>​	Solr 中数据存储是存储在 Document 对象中，对象中可以包含的属性和属性类型都定义在 scheme.xml 中。如果需要自定义属性或自定义属性类型都需要修改 scheme.xml 配置文件。从 Solr5 开始 schema.xml 更改名称为 managed-scheme (没有扩展名)</p><h3 id="三-solr单机版安装"><a class="anchor" href="#三-solr单机版安装">#</a> 三、Solr 单机版安装</h3><p>​	Solr 是使用 Java 编写，所以必选先安装 JDK。</p><h4 id="1上传并解压"><a class="anchor" href="#1上传并解压">#</a> 1. 上传并解压</h4><p>​	上传压缩包 solr-7.7.2.tgz 到 /usr/local/tmp 中。</p><p>解压</p><pre><code># cd /usr/local/tmp
# tar zxf solr-7.7.2.tgz
</code></pre><h4 id="2复制到usrlocal中"><a class="anchor" href="#2复制到usrlocal中">#</a> 2. 复制到 /usr/local 中</h4><pre><code># cp -r solr-7.7.2 ../solr
</code></pre><h4 id="3修改启动参数"><a class="anchor" href="#3修改启动参数">#</a> 3. 修改启动参数</h4><p>​	修改启动参数，否则启动时报警告。提示设置 SOLR_ULIMIT_CHECKS=false</p><pre><code># cd /usr/local/solr/bin
# vim solr.in.sh
</code></pre><img data-src="/Distribution/Solr/solr-02.jpg"><h4 id="4启动solr"><a class="anchor" href="#4启动solr">#</a> 4. 启动 Solr</h4><p>​	Solr 内嵌 Jetty，直接启动即可。监听 8983 端口。</p><p>​	solr 默认不推荐 root 账户启动，如果是 root 账户启动需要添加 - force 参数。</p><pre><code># ./solr start -force
</code></pre><h3 id="四-可视化管理界面"><a class="anchor" href="#四-可视化管理界面">#</a> 四、可视化管理界面</h3><p>​	在关闭防火墙的前提下，可以在 windows 的浏览器中访问 Solr。</p><p>​	输入: <span class="exturl" data-url="aHR0cDovLzE5Mi4xNjguOTMuMTA6ODk4Mw==">http://192.168.93.10:8983</span> 就可以访问 Solr 的可视化管理界面。</p><p>​	左侧有 5 个菜单。分别是：</p><p>​	（1）Dashboard：面板显示 Solr 的总体信息。</p><p>​	（2）Logging：日志</p><p>​	（3）Core Admin：Solr 的核心。类似于数据的 Database</p><p>​	（4）Java Perperties：所有 Java 相关属性。</p><p>​	（5）Thread Dump：线程相关信息。</p><p>​	（6）如果有 Core，将显示在此处。</p><img data-src="/Distribution/Solr/solr-03.JPG"><h3 id="五-新建核心"><a class="anchor" href="#五-新建核心">#</a> 五、新建核心</h3><p>​	Solr 安装完成后默认是没有核心的。需要手动配置。</p><p>​	需要在 solr/server/solr 下新建文件夹，并给定配置文件，否则无法建立。</p><img data-src="/Distribution/Solr/solr-04.JPG"><h4 id="1新建目录"><a class="anchor" href="#1新建目录">#</a> 1. 新建目录</h4><p>​	在 /usr/local/solr/server/solr 中新建自定义名称目录。此处示例名称为 testcore。</p><pre><code># cd /usr/local/solr/server/solr
# mkdir testcore
</code></pre><h4 id="2复制配置文件"><a class="anchor" href="#2复制配置文件">#</a> 2. 复制配置文件</h4><p>​	在 configsets 里面包含了_default 和 sample_techproducts_configs。里面都是配置文件示例。_default 属于默认配置，较纯净。sample_techproducts_configs 是带有了一些配置示例。</p><pre><code># cp -r configsets/_default/conf/ testcore/
</code></pre><h4 id="3填写core信息"><a class="anchor" href="#3填写core信息">#</a> 3. 填写 Core 信息</h4><p>​	在可视化管理界面中 Core Admin 中编写信息后点击 Add Core 后，短暂延迟后 testcore 就会创建成功。schema 处不用更改。</p><img data-src="/Distribution/Solr/solr-05.JPG"><h4 id="4出现testcore"><a class="anchor" href="#4出现testcore">#</a> 4. 出现 testcore</h4><p>​	在客户端管理界面中，选择新建的 Core 后，就可以按照自己项目的需求进行操作了。</p><img data-src="/Distribution/Solr/solr-06.jpg"><h3 id="六-分词analysis"><a class="anchor" href="#六-分词analysis">#</a> 六、分词 Analysis</h3><p>​	在 Solr 可视化管理界面中，Core 的管理菜单项中都会有 Analysis。表示根据 Scheme.xml (managed-schema) 中配置要求进行解析。</p><p>​	对英文解析就比较简单了，只要按照空格把英文语句拆分成英文单词即可。</p><img data-src="/Distribution/Solr/solr-07.jpg"><p>​	但是如果条件是中文时，把一句话按照字进行拆分就不是很合理了。正确的方式是按照合理的词组进行拆分。<img data-src="/Distribution/Solr/solr-08.jpg"></p><h4 id="1配置步骤"><a class="anchor" href="#1配置步骤">#</a> 1. 配置步骤</h4><p>​	上传 ik-analyzer.jar 到 webapps 中。</p><p>​	去 https://search.maven.org/search?q=com.github.magese 下载对应版本的 ik-analyzer。可以在资料中直接获取。</p><h5 id="11上传jar到指定目录"><a class="anchor" href="#11上传jar到指定目录">#</a> 1.1 上传 jar 到指定目录</h5><p>​	上传 ik-analyzer-7.7.0.jar 到</p><p>​	/usr/local/solr/server/solr-webapp/webapp/WEB-INF/lib 目录中</p><h5 id="12修改配置文件"><a class="anchor" href="#12修改配置文件">#</a> 1.2 修改配置文件</h5><p>​	修改 /usr/local/solr/server/solr/testcore/conf/managed-schema</p><figure class="highlight sh"><figcaption data-lang="sh"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">vim</span> /usr/local/solr/server/solr/testcore/conf/managed-schema</pre></td></tr></table></figure><p>​	添加下面内容。</p><p>​	排版：Esc 退出编辑状态下：gg=G</p><pre><code>&lt;field name=&quot;myfield&quot; type=&quot;text_ik&quot; indexed=&quot;true&quot; stored=&quot;true&quot; /&gt;
    &lt;fieldType name=&quot;text_ik&quot; class=&quot;solr.TextField&quot;&gt;
            &lt;analyzer type=&quot;index&quot;&gt;
                    &lt;tokenizer class=&quot;org.wltea.analyzer.lucene.IKTokenizerFactory&quot; useSmart=&quot;false&quot; conf=&quot;ik.conf&quot;/&gt;
                    &lt;filter class=&quot;solr.LowerCaseFilterFactory&quot;/&gt;
            &lt;/analyzer&gt;
            &lt;analyzer type=&quot;query&quot;&gt;
                    &lt;tokenizer class=&quot;org.wltea.analyzer.lucene.IKTokenizerFactory&quot; useSmart=&quot;true&quot; conf=&quot;ik.conf&quot;/&gt;
                    &lt;filter class=&quot;solr.LowerCaseFilterFactory&quot;/&gt;
            &lt;/analyzer&gt;
    &lt;/fieldType&gt;
</code></pre><h5 id="13重启"><a class="anchor" href="#13重启">#</a> 1.3 重启</h5><pre><code># cd /usr/local/solr/bin
# ./solr stop -all
# ./solr start -force
</code></pre><h5 id="14验证"><a class="anchor" href="#14验证">#</a> 1.4 验证</h5><p>​	可以在可视化管理界面中找到 myfield 属性进行验证。</p><img data-src="/Distribution/Solr/solr-09.jpg"><h4 id="2managed-schema配置说明"><a class="anchor" href="#2managed-schema配置说明">#</a> 2.managed-schema 配置说明</h4><h5 id="21-fieldtype"><a class="anchor" href="#21-fieldtype">#</a> 2.1&lt; fieldType/&gt;</h5><p>​	表示定义一个属性类型。在 Solr 中属性类型都是自定义的。在上面配置中 name=”text_ik” 为自定义类型。当某个属性取值为 text_ik 时 IK Analyzer 才能生效。</p><h5 id="22-field"><a class="anchor" href="#22-field">#</a> 2.2&lt; field/&gt;</h5><p>​	表示向 Document 中添加一个属性。</p><p>​	常用属性：</p><p>​ name: 属性名</p><p>​ type: 属性类型。所有类型都是 solr 使用<fieldtype>配置的</fieldtype></p><p>​ indexed: 是否建立索引</p><p>​ stored: solr 是否把该属性值响应给搜索用户。</p><p>​ required：该属性是否是必须的。默认 id 是必须的。</p><p>​ multiValued：如果为 true，表示该属性为复合属性，此属性中包含了多个其他的属性。常用在多个列作为搜索条件时，把这些列定义定义成一个新的复合属性，通过搜索一个复合属性就可以实现搜索多个列。当设置为 true 时与 &lt;copyField source=&quot;&quot;dest=&quot;&quot;/&gt; 结合使用</p><h5 id="23-uniquekey"><a class="anchor" href="#23-uniquekey">#</a> 2.3&lt; uniqueKey&gt;</h5><p>​	唯一主键，Solr 中默认定义 id 属性为唯一主键。ID 的值是不允许重复的。</p><h5 id="24-dynamicfield"><a class="anchor" href="#24-dynamicfield">#</a> 2.4&lt; dynamicField&gt;</h5><p>​	名称中允许 * 进行通配。代表满足特定名称要求的一组属性。</p><pre><code>msb_java    
</code></pre><p>​	msb_bigdata</p><p>​	msb_UI</p><p>​ msb_*</p><h3 id="七-dataimport"><a class="anchor" href="#七-dataimport">#</a> 七、Dataimport</h3><p>​	可以使用 Solr 自带的 Dataimport 功能把数据库中数据快速导入到 solr 中.</p><p>​	<strong>必须保证 managed-schema 和数据库中表的列对应。，添加配置</strong></p><h4 id="1修改配置文件"><a class="anchor" href="#1修改配置文件">#</a> 1. 修改配置文件</h4><p>​	修改 solrconfig.xml，添加下面内容</p><pre><code> &lt;!-- 配置数据导入的处理器 --&gt;
  &lt;requestHandler name=&quot;/dataimport&quot; class=&quot;org.apache.solr.handler.dataimport.DataImportHandler&quot;&gt;
    &lt;lst name=&quot;defaults&quot;&gt;
	  &lt;!--  加载data-config.xml  --&gt;
      &lt;str name=&quot;config&quot;&gt;data-config.xml&lt;/str&gt;
     &lt;/lst&gt;
  &lt;/requestHandler&gt;
</code></pre><h4 id="2新建data-configxml"><a class="anchor" href="#2新建data-configxml">#</a> 2. 新建 data-config.xml</h4><p>​	和 solrconfig.xml 同一目录下新建 data-config.xml</p><pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;dataConfig&gt;
        &lt;dataSource type=&quot;JdbcDataSource&quot;   
                driver=&quot;com.mysql.jdbc.Driver&quot;   
                url=&quot;jdbc:mysql://192.168.1.135:3306/mytest&quot;   
                user=&quot;root&quot;   
                password=&quot;root&quot;/&gt;
        &lt;document&gt;
            &lt;entity name=&quot;product&quot; query=&quot;SELECT id,name,price from t_product&quot;&gt;
                &lt;!-- 
                 实现数据库的列和索引库的字段的映射
                 column 指定数据库的列表
                 name  指定索引库的字段名字，必须和schema.xml中定义的一样
                 --&gt;
                 &lt;field column=&quot;id&quot; name=&quot;id&quot;/&gt;
                 &lt;field column=&quot;name&quot; name=&quot;name&quot;/&gt;
				 &lt;field column=&quot;price&quot; name=&quot;price&quot;/&gt;
            &lt;/entity&gt;
         &lt;/document&gt;
&lt;/dataConfig&gt;
</code></pre><h4 id="3添加jar"><a class="anchor" href="#3添加jar">#</a> 3. 添加 jar</h4><p>​	向 solr-webapp 中添加三个 jar。在 dist 中两个还有一个数据库驱动。</p><img data-src="/Distribution/Solr/solr-10.jpg"><h4 id="4操作"><a class="anchor" href="#4操作">#</a> 4. 操作</h4><p>​	重启 solr 后，在可视化管理页面中进行数据导入。</p><p>​	注意：</p><p>​	点击导入按钮后，要记得点击刷新按钮。</p><h3 id="八-菜单项目documents使用办法"><a class="anchor" href="#八-菜单项目documents使用办法">#</a> 八、菜单项目 Documents 使用办法</h3><p>​	以 XML 格式举例</p><h4 id="1新增修改"><a class="anchor" href="#1新增修改">#</a> 1. 新增 / 修改</h4><p>​	当 id 不存在时新增，当 id 存在修改。</p><pre><code>&lt;doc&gt;
&lt;field name=&quot;id&quot;&gt;8&lt;/field&gt;
&lt;field name=&quot;name&quot;&gt;明天更大卖&lt;/field&gt;
&lt;field name=&quot;price&quot;&gt;98&lt;/field&gt;
&lt;/doc&gt;
</code></pre><h4 id="2删除"><a class="anchor" href="#2删除">#</a> 2. 删除</h4><h5 id="21根据主键删除"><a class="anchor" href="#21根据主键删除">#</a> 2.1 根据主键删除</h5><pre><code>&lt;delete&gt;
	&lt;id&gt;8&lt;/id&gt;
&lt;/delete&gt;
&lt;commit/&gt;
</code></pre><h5 id="22根据条件删除"><a class="anchor" href="#22根据条件删除">#</a> 2.2 根据条件删除</h5><pre><code>&lt;delete&gt;
	&lt;query&gt;*:*&lt;/query&gt;
&lt;/delete&gt;
</code></pre><h4 id="3solr可视化界面使用query"><a class="anchor" href="#3solr可视化界面使用query">#</a> 3.solr 可视化界面使用（QUERY）</h4><p><img data-src="C:%5CUsers%5CLenovo%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1645693120964.png" alt="1645693120964"></p><p>参数：</p><p>​	**q：**query，等于。格式 ——&gt; parameter/columns : value	<strong>具有分词时，相当于模糊查询 --like</strong></p><p>​	<strong>fq：</strong>【在 q 的情况下再加条件】（要有分词功能）注意这里的 keyword 是用来检索的字段，他包含 name、address、gender、expert_skill，这几个属性，所以我搜索 “海” 能够查询出来有海字的记录。</p><p>​	**sort：** 排序 。 parameter/columns desc 逆序 /asc</p><p>​	**start,rows：** 从查询结果的 start 开始，显示到 rows 结束【下标】</p><p>​	**fl：** 想显示的属性。</p><p>​	**df：** 不想显示的属性。</p><p>​	**wt：** 返回值类型</p><p>​	**hl：** 高亮</p><pre><code>	*  hl.fl						 value
	*  hl.simple.pre        &lt;font color='red'&gt;
	*  hl.simple.post     &lt;/font&gt;
</code></pre><p>​</p><h3 id="九-使用solrj操作solr"><a class="anchor" href="#九-使用solrj操作solr">#</a> 九、使用 SolrJ 操作 Solr</h3><p>​	SolrJ 是 Solr 提供的 Java 客户端 API。通过 SolrJ 可以实现 Java 程序对 Solr 中数据的操作。</p><p>​	大前提：添加 SolrJ 依赖。依赖版本和 Solr 版本严格对应</p><pre><code>&lt;dependencies&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;org.apache.solr&lt;/groupId&gt;
        	&lt;artifactId&gt;solr-solrj&lt;/artifactId&gt;
        &lt;version&gt;7.7.2&lt;/version&gt;
    &lt;/dependency&gt;
&lt;/dependencies&gt;
</code></pre><h4 id="1新增修改实现"><a class="anchor" href="#1新增修改实现">#</a> 1. 新增 / 修改实现</h4><pre><code>String url = &quot;http://192.168.93.10:8983/solr/testcore&quot;;
HttpSolrClient solrClient =  new HttpSolrClient.Builder(url).build();
SolrInputDocument inputDocument = new SolrInputDocument();
inputDocument.addField(&quot;id&quot;,&quot;3&quot;);
inputDocument.addField(&quot;myfield&quot;,&quot;myfield3&quot;);
solrClient.add(inputDocument);
solrClient.commit();
</code></pre><ul><li>使用 solrj 进行索引的添加<ul><li><ul><li><strong>每个索引的添加必须要 ID</strong><ul><li><strong>添加 key 值要和 schema.xml 文件内的 field 域保持一致</strong></li><li><strong>添加数据后一定要提交数据，不然是不存在数据的</strong></li><li><strong>连接 Solr 的对象需要连接到项目名</strong></li><li><strong>每个 document 是一组 Json 数据对象</strong></li></ul></li></ul></li></ul></li></ul><h4 id="2删除实现"><a class="anchor" href="#2删除实现">#</a> 2. 删除实现</h4><pre><code>String url = &quot;http://192.168.93.10:8983/solr/testcore&quot;;
HttpSolrClient solrClient =  new HttpSolrClient.Builder(url).build();
solrClient.deleteById(&quot;3&quot;);
solrClient.commit();
</code></pre><ul><li><strong>删除</strong></li><li>删除支持两种删除方式<ul><li><ul><li><strong>1. 根据 ID</strong><ul><li>2. 执行查询删除<ul><li><ul><li><strong>查询删除的格式：查询的域：值</strong></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul><h4 id="3查询实现"><a class="anchor" href="#3查询实现">#</a> 3. 查询实现</h4><pre><code>public void testQuery()&#123;
    try &#123;
        String url = &quot;http://192.168.93.10:8983/solr/testcore&quot;;
        HttpSolrClient solrClient = new HttpSolrClient.Builder(url).build();

        //封装了所有查询条件
        SolrQuery params = new SolrQuery();
        params.setQuery(&quot;name:丰富的&quot;);
        //排序
        params.setSort(&quot;price&quot;, SolrQuery.ORDER.desc);
        //分页
        params.setStart(0);
 params.setRows(1);
        //高亮
        params.setHighlight(true);
        params.addHighlightField(&quot;name&quot;);
        params.setHighlightSimplePre(&quot;&lt;span&gt;&quot;);
        params.setHighlightSimplePost(&quot;&lt;/span&gt;&quot;);

        QueryResponse response = solrClient.query(params);
        SolrDocumentList list = response.getResults();
        System.out.println(&quot;总条数：&quot;+list.getNumFound());

        //高亮数据
        Map&lt;String, Map&lt;String, List&lt;String&gt;&gt;&gt; highlighting = response.getHighlighting();

        for(SolrDocument doc :list)&#123;
            System.out.println(doc.get(&quot;id&quot;));
            Map&lt;String, List&lt;String&gt;&gt; map = highlighting.get(doc.get(&quot;id&quot;));
            List&lt;String&gt; HLList = map.get(&quot;name&quot;);
            if(HLList!=null&amp;&amp;HLList.size()&gt;0)&#123;//显示高亮数据
                System.out.println(HLList.get(0));
            &#125;else&#123;
                System.out.println(doc.get(&quot;name&quot;));
            &#125;
            System.out.println(doc.get(&quot;price&quot;));
            System.out.println(&quot;===================&quot;);
        &#125;
        solrClient.close();
    &#125; catch (SolrServerException e) &#123;
        e.printStackTrace();
    &#125; catch (IOException e) &#123;
        e.printStackTrace();
    &#125;
&#125;
</code></pre><p><strong>使用到的对象</strong></p><ul><li>1.SolrQuery 查询对象<ul><li>1.setQuery ()：设置查询的关键字<br>2.set（）: 设置查询的域<br>3.setStart (): 设置开始<br>4.setRows（）：设置结束</li></ul></li></ul><hr><ul><li><p>2.QueryResponse：响应结果集</p><ul><li>1.getNumFound (): 返回查询到的数量<br>2.getResults（）；返回封装的 list 集合</li></ul></li><li><p>3.SolrDocumentList：结果集合</p><ul><li>1.get (): 获取指定域的值</li></ul></li></ul><h3 id="十-spring-data-for-apache-solr"><a class="anchor" href="#十-spring-data-for-apache-solr">#</a> 十、Spring Data for Apache Solr</h3><h4 id="1spring-data简介"><a class="anchor" href="#1spring-data简介">#</a> 1.Spring Data 简介</h4><p>​	Spring Data 是 Spring 的顶级项目。里面包含了 N 多个二级子项目，每个子项目对应一种技术或工具。其目的为了让数据访问更加简单，更加方便的和 Spring 进行整合。</p><p>​	Spring Data 项目如果单独使用是还需要配置 XML 配置文件的，当和 Spring Boot 整合后使用起来非常方便。spring-boot-starter-data-xx 就是对应的启动器。</p><h4 id="2实现步骤"><a class="anchor" href="#2实现步骤">#</a> 2. 实现步骤</h4><h5 id="21添加依赖"><a class="anchor" href="#21添加依赖">#</a> 2.1 添加依赖</h5><pre><code> &lt;dependencies&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-data-solr&lt;/artifactId&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;
</code></pre><h5 id="22编写配置文件"><a class="anchor" href="#22编写配置文件">#</a> 2.2 编写配置文件</h5><pre><code>spring:
  data:
    solr:
      host: http://192.168.9.132:8080/solr
      # zk-host: 192.168.9.132:2181,192.168.9.132:2182,192.168.9.132:2183
</code></pre><h5 id="23编写测试类"><a class="anchor" href="#23编写测试类">#</a> 2.3 编写测试类</h5><pre><code>@RunWith(SpringJUnit4ClassRunner.class)
@SpringBootTest(classes = MyApplication.class)
public class MyTest &#123;
    @Autowired
    private SolrTemplate solrTemplate;

    public void testInsert()&#123;
        SolrInputDocument doc = new SolrInputDocument();
        doc.setField(&quot;id&quot;,&quot;002&quot;);
        doc.setField(&quot;item_title&quot;,&quot;这是一个手机3&quot;);
        UpdateResponse ur = solrTemplate.saveBean(&quot;collection1&quot;, doc);
        if(ur.getStatus()==0)&#123;
            System.out.println(&quot;成功&quot;);
        &#125;else&#123;
            System.out.println(&quot;失败&quot;);
        &#125;
        solrTemplate.commit(&quot;collection1&quot;);
    &#125;

    public void testDelete()&#123;
        UpdateResponse ur = solrTemplate.deleteByIds(&quot;collection1&quot;, &quot;change.me&quot;);
        if(ur.getStatus()==0)&#123;
            System.out.println(&quot;成功&quot;);
        &#125;else&#123;
            System.out.println(&quot;失败&quot;);
        &#125;
        solrTemplate.commit(&quot;collection1&quot;);
    &#125;


    public void query()&#123;
        SimpleQuery query = new SimpleQuery();
        Criteria c = new Criteria(&quot;item_keywords&quot;);
        c.is(&quot;手机&quot;);
        query.addCriteria(c);
        query.setOffset(1L);
        query.setRows(1);
        ScoredPage&lt;DemoPojo&gt; sp = solrTemplate.queryForPage(&quot;collection1&quot;, query, DemoPojo.class);
        System.out.println(sp.getContent());
    &#125;

    @Test
    public void queryHL()&#123;

        List&lt;DemoPojo&gt; listResult = new ArrayList&lt;&gt;();
        SimpleHighlightQuery query = new SimpleHighlightQuery();
        //设置查询条件
        Criteria c = new Criteria(&quot;item_keywords&quot;);
        c.is(&quot;手机&quot;);
        query.addCriteria(c);
        //分页
        query.setOffset(0L);
        query.setRows(10);
        //排序
        Sort sort = new Sort(Sort.Direction.DESC,&quot;id&quot;);
        query.addSort(sort);
        //高亮设置
        HighlightOptions hlo = new HighlightOptions();
        hlo.addField(&quot;item_title item_sell_point&quot;);
        hlo.setSimplePrefix(&quot;&lt;span style='color:red;'&gt;&quot;);
        hlo.setSimplePostfix(&quot;&lt;/span&gt;&quot;);
        query.setHighlightOptions(hlo);
        HighlightPage&lt;DemoPojo&gt; hl = solrTemplate.queryForHighlightPage(&quot;collection1&quot;, query, DemoPojo.class);
//        System.out.println(hl.getContent());
        List&lt;HighlightEntry&lt;DemoPojo&gt;&gt; highlighted = hl.getHighlighted();
        for(HighlightEntry&lt;DemoPojo&gt; hle : highlighted)&#123;
            List&lt;HighlightEntry.Highlight&gt; list = hle.getHighlights();
            DemoPojo dp = hle.getEntity();
            for (HighlightEntry.Highlight h : list)&#123;//一个对象里面可能多个属性是高亮属性
                if(h.getField().getName().equals(&quot;item_title&quot;))&#123;
                    dp.setItem_title( h.getSnipplets().get(0));
                &#125;
            &#125;
            listResult.add(dp);
        &#125;
        System.out.println(listResult);
    &#125;
&#125;
</code></pre><h3 id="十一-使用zookeepr管理solr集群"><a class="anchor" href="#十一-使用zookeepr管理solr集群">#</a> 十一。使用 zookeepr 管理 solr 集群</h3><p>1. 上传压缩包到 /usr/local/tmp 下 并解压。</p><p>2. 在 /usr/local 下新建文件夹 zookeeper</p><pre><code># mkdir /usr/local/zookeeper
</code></pre><p>3. 把解压的所有文件复制到 zookeeper 下， 并命名为 zk1</p><pre><code># cp -r /usr/local/temp/zookeeper-3.4.8 /usr/local/zookeeper/zk1
</code></pre><p>4. 在 zk1 下新建文件夹 data</p><p>5. 在 data 下新建文件 myid, 里面写上 1</p><pre><code># vim myid
</code></pre><p>6. 进入到 zk1/conf 下 把 zoo_sample.cfg 复制一份叫做 zoo.cfg</p><p>7. 编辑 zoo.cfg 内容，设置 dataDIR 为 data 文件夹， 并在文件最下面添加下面内容</p><pre><code>server.1=192.168.93.10:2688:3888
server.2=192.168.93.10:2689:3889
server.3=192.168.93.10:2690:3890
</code></pre><p>7.1 server.1 中的 1 是 myid 的内容</p><p>7.2 2688 2689 2690 是 zookeeper 内部端口</p><p>7.3 3888 3889 3890 是 leader 端口</p><p>8. 把 zk1 复制两份，分部叫做 zk2 zk3 并修改 myid 的值为 2，3 修改 zoo.cfg 中 dataDIR 和 clientPort</p><p>9. 启动三个 zookeeper</p><pre><code># ./zkServer.sh start
</code></pre><p>10. 查看状态</p><pre><code># ./zkServer.sh status
</code></pre><h3 id="十一-使用zookeepr管理solr集群dokcer"><a class="anchor" href="#十一-使用zookeepr管理solr集群dokcer">#</a> 十一。使用 zookeepr 管理 solr 集群 (Dokcer)</h3><h4 id="1-准备docker-composeyml文件"><a class="anchor" href="#1-准备docker-composeyml文件">#</a> <strong>1、准备</strong> docker-compose.yml<strong> 文件</strong></h4><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>version: <span class="token string">'2'</span></pre></td></tr><tr><td data-num="2"></td><td><pre>services:</pre></td></tr><tr><td data-num="3"></td><td><pre>  zoo1:</pre></td></tr><tr><td data-num="4"></td><td><pre>    image: zookeeper:3.5</pre></td></tr><tr><td data-num="5"></td><td><pre>    restart: always</pre></td></tr><tr><td data-num="6"></td><td><pre>    container_name: zoo1</pre></td></tr><tr><td data-num="7"></td><td><pre>    ports:</pre></td></tr><tr><td data-num="8"></td><td><pre>      - <span class="token string">"2181:2181"</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    environment:</pre></td></tr><tr><td data-num="10"></td><td><pre>      ZOO_MY_ID: <span class="token number">1</span></pre></td></tr><tr><td data-num="11"></td><td><pre>      ZOO_SERVERS: <span class="token assign-left variable">server.1</span><span class="token operator">=</span><span class="token number">0.0</span>.0.0:2688:3888 <span class="token assign-left variable">server.2</span><span class="token operator">=</span>zoo2:2689:3888 <span class="token assign-left variable">server.3</span><span class="token operator">=</span>zoo3:2690:3888</pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre>  zoo2:</pre></td></tr><tr><td data-num="14"></td><td><pre>    image: zookeeper:3.5</pre></td></tr><tr><td data-num="15"></td><td><pre>    restart: always</pre></td></tr><tr><td data-num="16"></td><td><pre>    container_name: zoo2</pre></td></tr><tr><td data-num="17"></td><td><pre>    ports:</pre></td></tr><tr><td data-num="18"></td><td><pre>      - <span class="token string">"2182:2181"</span></pre></td></tr><tr><td data-num="19"></td><td><pre>    environment:</pre></td></tr><tr><td data-num="20"></td><td><pre>      ZOO_MY_ID: <span class="token number">2</span></pre></td></tr><tr><td data-num="21"></td><td><pre>      ZOO_SERVERS: <span class="token assign-left variable">server.1</span><span class="token operator">=</span>zoo1:2688:3888 <span class="token assign-left variable">server.2</span><span class="token operator">=</span><span class="token number">0.0</span>.0.0:2689:3888 <span class="token assign-left variable">server.3</span><span class="token operator">=</span>zoo3:2690:3888</pre></td></tr><tr><td data-num="22"></td><td><pre></pre></td></tr><tr><td data-num="23"></td><td><pre>  zoo3:</pre></td></tr><tr><td data-num="24"></td><td><pre>    image: zookeeper:3.5</pre></td></tr><tr><td data-num="25"></td><td><pre>    restart: always</pre></td></tr><tr><td data-num="26"></td><td><pre>    container_name: zoo3</pre></td></tr><tr><td data-num="27"></td><td><pre>    ports:</pre></td></tr><tr><td data-num="28"></td><td><pre>      - <span class="token string">"2183:2181"</span></pre></td></tr><tr><td data-num="29"></td><td><pre>    environment:</pre></td></tr><tr><td data-num="30"></td><td><pre>      ZOO_MY_ID: <span class="token number">3</span></pre></td></tr><tr><td data-num="31"></td><td><pre>      ZOO_SERVERS: <span class="token assign-left variable">server.1</span><span class="token operator">=</span>zoo1:2688:3888 <span class="token assign-left variable">server.2</span><span class="token operator">=</span>zoo2:2689:3888 <span class="token assign-left variable">server.3</span><span class="token operator">=</span><span class="token number">0.0</span>.0.0:2690:3888</pre></td></tr></table></figure><h4 id="2-创建镜像"><a class="anchor" href="#2-创建镜像">#</a> <strong>2、创建镜像</strong></h4><ul><li>要在创建的 docker-compose.yml 文件中使用命令</li></ul><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">docker-compose</span> up <span class="token parameter variable">-d</span></pre></td></tr></table></figure><h4 id="3-进入容器"><a class="anchor" href="#3-进入容器">#</a> <strong>3、进入容器</strong></h4><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-it</span> zoo1 /bin/bash</pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">#查看 zoo1 的状态</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token builtin class-name">cd</span> bin</pre></td></tr><tr><td data-num="5"></td><td><pre>./zkServer.sh status</pre></td></tr></table></figure><ul><li>如果出现，以下情况：</li></ul><pre><code>ZooKeeper JMX enabled by default
Using config: /conf/zoo.cfg
Client port not found in static config file. Looking in dynamic config file.
grep: : No such file or directory
Client port not found in the server configs
Client port not found. Looking for secureClientPort in the static config.
Unable to find either secure or unsecure client port in any configs. Terminating.
</code></pre><p>​	通过阅读我们知道他在 conf 中的 zoo.cfg 文件中缺少 **clientPort ** 我们只需要自行添加即可</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">#修改之前我们先装一下 vim</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token function">apt-get</span> update</pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token function">apt-get</span> <span class="token function">install</span> <span class="token parameter variable">-y</span> <span class="token function">vim</span> </pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment">#修改 zoo.fcg 文件</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token function">vim</span> /conf/zoo.fcg</pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token assign-left variable">clientPort</span><span class="token operator">=</span><span class="token number">2181</span></pre></td></tr></table></figure><ul><li><p>完事之后<strong>重启</strong> zoo1</p><p><img data-src="C:%5CUsers%5CLenovo%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1645780920291.png" alt="1645780920291"></p><p>成功！！</p></li></ul><h4 id="4-查看所有zookeeper的状态"><a class="anchor" href="#4-查看所有zookeeper的状态">#</a> 4、查看所有 zookeeper 的状态</h4><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-it</span> zoo3 <span class="token function">bash</span> ./bin/zkServer.sh status</pre></td></tr></table></figure><h4 id="5-进去客户端"><a class="anchor" href="#5-进去客户端">#</a> 5、进去客户端</h4><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-it</span> zoo3 zkCli.sh</pre></td></tr></table></figure><h3 id="十二-solrcloud"><a class="anchor" href="#十二-solrcloud">#</a> 十二、SolrCloud</h3><p>​	Solr 可以搭建具备容错能力和高可用的 Solr 集群。集群中集群配置、自动负载均衡和查询故障转移、 Zookeeper 集群实现集群协调管理，这些全部功能统称为 SolrCloud。</p><p>​	SolrCloud 是基于 Zookeeper 进行管理的。在 Solr 中已经内置了 Zookeeper 相关内容，当执行集群创建命令会自动创建 Zookeeper 相关内容。这个使用的是 Zookeeper 的集群管理功能实现的。</p><h4 id="1搭建"><a class="anchor" href="#1搭建">#</a> 1. 搭建</h4><h5 id="11创建"><a class="anchor" href="#11创建">#</a> 1.1 创建</h5><p>​	SolrCloud 已经包含在了 Solr 中，可以直接启动 Solr 集群。</p><pre><code> ./solr -e cloud -noprompt -force
</code></pre><p>​	此命令等同于# ./solr -e cloud -force 全部参数为默认值。</p><p>​	运行成功后会在 example 文件夹多出 cloud 文件夹。</p><h5 id="12停止"><a class="anchor" href="#12停止">#</a> 1.2 停止</h5><pre><code> ./solr stop -all
</code></pre><h5 id="13重新运行"><a class="anchor" href="#13重新运行">#</a> 1.3 重新运行</h5><pre><code> ./solr start -c -p 8983 -s ../example/cloud/node1/solr/ -force
 ./solr start -c -p 7574 -z localhost:9983 -s ../example/cloud/node2/solr/ -force
</code></pre><div id="gitalk-container"></div><script src="https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js"></script><link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css"><script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script><script>var gitalkConfig={clientID:"6db178ba46c8af8f6a6f",clientSecret:"90f730e5956024596558df00975cd8eae28cae3d",repo:"bk-comment01",owner:"onlymarryu",admin:["onlymarryu"],distractionFreeMode:!1,language:"zh-CN",proxy:"https://gitalk-comments.netlify.app/github_access_token",perPage:15};gitalkConfig.id=md5(location.pathname);var gitalk=new Gitalk(gitalkConfig);gitalk.render("gitalk-container")</script><div class="tags"><a href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F/" rel="tag"><i class="ic i-tag"></i> 分布式</a> <a href="/tags/%E4%B8%AD%E9%97%B4%E4%BB%B6/" rel="tag"><i class="ic i-tag"></i> 中间件</a></div></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">更新于</span> <time title="修改时间：2022-10-28 22:02:20" itemprop="dateModified" datetime="2022-10-28T22:02:20+08:00">2022-10-28</time></span></div><div class="reward"><button><i class="ic i-heartbeat"></i> 赞赏</button><p>请我喝[茶]~(￣▽￣)~*</p><div id="qr"><div><img data-src="/images/wechatpay.png" alt="雾都 微信支付"><p>微信支付</p></div><div><img data-src="/images/alipay.png" alt="雾都 支付宝"><p>支付宝</p></div><div><img data-src="/images/paypal.png" alt="雾都 贝宝"><p>贝宝</p></div></div></div><div id="copyright"><ul><li class="author"><strong>本文作者： </strong>雾都 <i class="ic i-at"><em>@</em></i>每天进步一点点，就是成功的开始</li><li class="link"><strong>本文链接：</strong> <a href="https://eth168.top/Distribution/Solr/" title="Solr">https://eth168.top/Distribution/Solr/</a></li><li class="license"><strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/Distribution/RabbitMQ/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;api.yimian.xyz&#x2F;img?614908" title="RabbitMQ"><span class="type">上一篇</span> <span class="category"><i class="ic i-flag"></i> 分布式</span><h3>RabbitMQ</h3></a></div><div class="item right"><a href="/Spring_Family/SpringSecurity/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;api.yimian.xyz&#x2F;img?157296" title="SpringSecurity"><span class="type">下一篇</span> <span class="category"><i class="ic i-flag"></i> Spring 全家桶</span><h3>SpringSecurity</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#solr"><span class="toc-number">1.</span> <span class="toc-text">Solr</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BB%E8%A6%81%E5%86%85%E5%AE%B9"><span class="toc-number">1.0.1.</span> <span class="toc-text">主要内容</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%A6%E4%B9%A0%E7%9B%AE%E6%A0%87"><span class="toc-number">1.0.2.</span> <span class="toc-text">学习目标</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80-solr%E7%AE%80%E4%BB%8B"><span class="toc-number">1.0.3.</span> <span class="toc-text">一、Solr 简介</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%E4%B8%BA%E4%BB%80%E4%B9%88%E4%BD%BF%E7%94%A8solr"><span class="toc-number">1.0.3.1.</span> <span class="toc-text">1. 为什么使用 Solr</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%E5%B8%B8%E8%A7%81%E6%90%9C%E7%B4%A2%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"><span class="toc-number">1.0.3.2.</span> <span class="toc-text">2. 常见搜索解决方案</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3solr%E7%AE%80%E4%BB%8B"><span class="toc-number">1.0.3.3.</span> <span class="toc-text">3.Solr 简介</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4%E6%AD%A3%E5%90%91%E7%B4%A2%E5%BC%95%E5%92%8C%E5%8F%8D%E5%90%91%E7%B4%A2%E5%BC%95"><span class="toc-number">1.0.3.4.</span> <span class="toc-text">4. 正向索引和反向索引</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C-solr%E6%90%9C%E7%B4%A2%E5%8E%9F%E7%90%86"><span class="toc-number">1.0.4.</span> <span class="toc-text">二、Solr 搜索原理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%E6%90%9C%E7%B4%A2%E5%8E%9F%E7%90%86"><span class="toc-number">1.0.4.1.</span> <span class="toc-text">1. 搜索原理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2solr%E4%B8%AD%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8%E8%AF%B4%E6%98%8E"><span class="toc-number">1.0.4.2.</span> <span class="toc-text">2.Solr 中数据存储说明</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89-solr%E5%8D%95%E6%9C%BA%E7%89%88%E5%AE%89%E8%A3%85"><span class="toc-number">1.0.5.</span> <span class="toc-text">三、Solr 单机版安装</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%E4%B8%8A%E4%BC%A0%E5%B9%B6%E8%A7%A3%E5%8E%8B"><span class="toc-number">1.0.5.1.</span> <span class="toc-text">1. 上传并解压</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%E5%A4%8D%E5%88%B6%E5%88%B0usrlocal%E4%B8%AD"><span class="toc-number">1.0.5.2.</span> <span class="toc-text">2. 复制到 &#x2F;usr&#x2F;local 中</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3%E4%BF%AE%E6%94%B9%E5%90%AF%E5%8A%A8%E5%8F%82%E6%95%B0"><span class="toc-number">1.0.5.3.</span> <span class="toc-text">3. 修改启动参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4%E5%90%AF%E5%8A%A8solr"><span class="toc-number">1.0.5.4.</span> <span class="toc-text">4. 启动 Solr</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%9B-%E5%8F%AF%E8%A7%86%E5%8C%96%E7%AE%A1%E7%90%86%E7%95%8C%E9%9D%A2"><span class="toc-number">1.0.6.</span> <span class="toc-text">四、可视化管理界面</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%94-%E6%96%B0%E5%BB%BA%E6%A0%B8%E5%BF%83"><span class="toc-number">1.0.7.</span> <span class="toc-text">五、新建核心</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%E6%96%B0%E5%BB%BA%E7%9B%AE%E5%BD%95"><span class="toc-number">1.0.7.1.</span> <span class="toc-text">1. 新建目录</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%E5%A4%8D%E5%88%B6%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">1.0.7.2.</span> <span class="toc-text">2. 复制配置文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3%E5%A1%AB%E5%86%99core%E4%BF%A1%E6%81%AF"><span class="toc-number">1.0.7.3.</span> <span class="toc-text">3. 填写 Core 信息</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4%E5%87%BA%E7%8E%B0testcore"><span class="toc-number">1.0.7.4.</span> <span class="toc-text">4. 出现 testcore</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%AD-%E5%88%86%E8%AF%8Danalysis"><span class="toc-number">1.0.8.</span> <span class="toc-text">六、分词 Analysis</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%E9%85%8D%E7%BD%AE%E6%AD%A5%E9%AA%A4"><span class="toc-number">1.0.8.1.</span> <span class="toc-text">1. 配置步骤</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#11%E4%B8%8A%E4%BC%A0jar%E5%88%B0%E6%8C%87%E5%AE%9A%E7%9B%AE%E5%BD%95"><span class="toc-number">1.0.8.1.1.</span> <span class="toc-text">1.1 上传 jar 到指定目录</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#12%E4%BF%AE%E6%94%B9%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">1.0.8.1.2.</span> <span class="toc-text">1.2 修改配置文件</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#13%E9%87%8D%E5%90%AF"><span class="toc-number">1.0.8.1.3.</span> <span class="toc-text">1.3 重启</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#14%E9%AA%8C%E8%AF%81"><span class="toc-number">1.0.8.1.4.</span> <span class="toc-text">1.4 验证</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2managed-schema%E9%85%8D%E7%BD%AE%E8%AF%B4%E6%98%8E"><span class="toc-number">1.0.8.2.</span> <span class="toc-text">2.managed-schema 配置说明</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#21-fieldtype"><span class="toc-number">1.0.8.2.1.</span> <span class="toc-text">2.1&lt; fieldType&#x2F;&gt;</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#22-field"><span class="toc-number">1.0.8.2.2.</span> <span class="toc-text">2.2&lt; field&#x2F;&gt;</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#23-uniquekey"><span class="toc-number">1.0.8.2.3.</span> <span class="toc-text">2.3&lt; uniqueKey&gt;</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#24-dynamicfield"><span class="toc-number">1.0.8.2.4.</span> <span class="toc-text">2.4&lt; dynamicField&gt;</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%83-dataimport"><span class="toc-number">1.0.9.</span> <span class="toc-text">七、Dataimport</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%E4%BF%AE%E6%94%B9%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">1.0.9.1.</span> <span class="toc-text">1. 修改配置文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%E6%96%B0%E5%BB%BAdata-configxml"><span class="toc-number">1.0.9.2.</span> <span class="toc-text">2. 新建 data-config.xml</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3%E6%B7%BB%E5%8A%A0jar"><span class="toc-number">1.0.9.3.</span> <span class="toc-text">3. 添加 jar</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4%E6%93%8D%E4%BD%9C"><span class="toc-number">1.0.9.4.</span> <span class="toc-text">4. 操作</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%AB-%E8%8F%9C%E5%8D%95%E9%A1%B9%E7%9B%AEdocuments%E4%BD%BF%E7%94%A8%E5%8A%9E%E6%B3%95"><span class="toc-number">1.0.10.</span> <span class="toc-text">八、菜单项目 Documents 使用办法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%E6%96%B0%E5%A2%9E%E4%BF%AE%E6%94%B9"><span class="toc-number">1.0.10.1.</span> <span class="toc-text">1. 新增 &#x2F; 修改</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%E5%88%A0%E9%99%A4"><span class="toc-number">1.0.10.2.</span> <span class="toc-text">2. 删除</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#21%E6%A0%B9%E6%8D%AE%E4%B8%BB%E9%94%AE%E5%88%A0%E9%99%A4"><span class="toc-number">1.0.10.2.1.</span> <span class="toc-text">2.1 根据主键删除</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#22%E6%A0%B9%E6%8D%AE%E6%9D%A1%E4%BB%B6%E5%88%A0%E9%99%A4"><span class="toc-number">1.0.10.2.2.</span> <span class="toc-text">2.2 根据条件删除</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3solr%E5%8F%AF%E8%A7%86%E5%8C%96%E7%95%8C%E9%9D%A2%E4%BD%BF%E7%94%A8query"><span class="toc-number">1.0.10.3.</span> <span class="toc-text">3.solr 可视化界面使用（QUERY）</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B9%9D-%E4%BD%BF%E7%94%A8solrj%E6%93%8D%E4%BD%9Csolr"><span class="toc-number">1.0.11.</span> <span class="toc-text">九、使用 SolrJ 操作 Solr</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%E6%96%B0%E5%A2%9E%E4%BF%AE%E6%94%B9%E5%AE%9E%E7%8E%B0"><span class="toc-number">1.0.11.1.</span> <span class="toc-text">1. 新增 &#x2F; 修改实现</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%E5%88%A0%E9%99%A4%E5%AE%9E%E7%8E%B0"><span class="toc-number">1.0.11.2.</span> <span class="toc-text">2. 删除实现</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3%E6%9F%A5%E8%AF%A2%E5%AE%9E%E7%8E%B0"><span class="toc-number">1.0.11.3.</span> <span class="toc-text">3. 查询实现</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%81-spring-data-for-apache-solr"><span class="toc-number">1.0.12.</span> <span class="toc-text">十、Spring Data for Apache Solr</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1spring-data%E7%AE%80%E4%BB%8B"><span class="toc-number">1.0.12.1.</span> <span class="toc-text">1.Spring Data 简介</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%E5%AE%9E%E7%8E%B0%E6%AD%A5%E9%AA%A4"><span class="toc-number">1.0.12.2.</span> <span class="toc-text">2. 实现步骤</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#21%E6%B7%BB%E5%8A%A0%E4%BE%9D%E8%B5%96"><span class="toc-number">1.0.12.2.1.</span> <span class="toc-text">2.1 添加依赖</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#22%E7%BC%96%E5%86%99%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">1.0.12.2.2.</span> <span class="toc-text">2.2 编写配置文件</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#23%E7%BC%96%E5%86%99%E6%B5%8B%E8%AF%95%E7%B1%BB"><span class="toc-number">1.0.12.2.3.</span> <span class="toc-text">2.3 编写测试类</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%81%E4%B8%80-%E4%BD%BF%E7%94%A8zookeepr%E7%AE%A1%E7%90%86solr%E9%9B%86%E7%BE%A4"><span class="toc-number">1.0.13.</span> <span class="toc-text">十一。使用 zookeepr 管理 solr 集群</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%81%E4%B8%80-%E4%BD%BF%E7%94%A8zookeepr%E7%AE%A1%E7%90%86solr%E9%9B%86%E7%BE%A4dokcer"><span class="toc-number">1.0.14.</span> <span class="toc-text">十一。使用 zookeepr 管理 solr 集群 (Dokcer)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%87%86%E5%A4%87docker-composeyml%E6%96%87%E4%BB%B6"><span class="toc-number">1.0.14.1.</span> <span class="toc-text">1、准备 docker-compose.yml 文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E5%88%9B%E5%BB%BA%E9%95%9C%E5%83%8F"><span class="toc-number">1.0.14.2.</span> <span class="toc-text">2、创建镜像</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E8%BF%9B%E5%85%A5%E5%AE%B9%E5%99%A8"><span class="toc-number">1.0.14.3.</span> <span class="toc-text">3、进入容器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E6%9F%A5%E7%9C%8B%E6%89%80%E6%9C%89zookeeper%E7%9A%84%E7%8A%B6%E6%80%81"><span class="toc-number">1.0.14.4.</span> <span class="toc-text">4、查看所有 zookeeper 的状态</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-%E8%BF%9B%E5%8E%BB%E5%AE%A2%E6%88%B7%E7%AB%AF"><span class="toc-number">1.0.14.5.</span> <span class="toc-text">5、进去客户端</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%81%E4%BA%8C-solrcloud"><span class="toc-number">1.0.15.</span> <span class="toc-text">十二、SolrCloud</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%E6%90%AD%E5%BB%BA"><span class="toc-number">1.0.15.1.</span> <span class="toc-text">1. 搭建</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#11%E5%88%9B%E5%BB%BA"><span class="toc-number">1.0.15.1.1.</span> <span class="toc-text">1.1 创建</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#12%E5%81%9C%E6%AD%A2"><span class="toc-number">1.0.15.1.2.</span> <span class="toc-text">1.2 停止</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#13%E9%87%8D%E6%96%B0%E8%BF%90%E8%A1%8C"><span class="toc-number">1.0.15.1.3.</span> <span class="toc-text">1.3 重新运行</span></a></li></ol></li></ol></li></ol></li></ol></div><div class="related panel pjax" data-title="系列文章"><ul><li><a href="/Distribution/FastDFS/" rel="bookmark" title="FastDFS">FastDFS</a></li><li><a href="/Distribution/Dubbo/" rel="bookmark" title="Dubbo">Dubbo</a></li><li><a href="/Distribution/RPC/" rel="bookmark" title="RPC">RPC</a></li><li><a href="/Distribution/RabbitMQ/" rel="bookmark" title="RabbitMQ">RabbitMQ</a></li><li class="active"><a href="/Distribution/Solr/" rel="bookmark" title="Solr">Solr</a></li></ul></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="雾都" data-src="/images/avatar.jpg"><p class="name" itemprop="name">雾都</p><div class="description" itemprop="description">花非花，雾非雾</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">70</span> <span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">13</span> <span class="name">分类</span></a></div><div class="item tags"><a href="/tags/"><span class="count">22</span> <span class="name">标签</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL29ubHltYXJyeXU=" title="https:&#x2F;&#x2F;github.com&#x2F;onlymarryu"><i class="ic i-github"></i></span> <span class="exturl item zhihu" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3Blb3BsZS9ydXJpc216aw==" title="https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;rurismzk"><i class="ic i-zhihu"></i></span> <span class="exturl item music" data-url="aHR0cHM6Ly9tdXNpYy4xNjMuY29tLyMvbXkvbS9tdXNpYy9wbGF5bGlzdD9pZD0zMTY2MDYwNzkw" title="https:&#x2F;&#x2F;music.163.com&#x2F;#&#x2F;my&#x2F;m&#x2F;music&#x2F;playlist?id&#x3D;3166060790"><i class="ic i-cloud-music"></i></span> <span class="exturl item weibo" data-url="aHR0cHM6Ly93ZWliby5jb20vYW1laGltZQ==" title="https:&#x2F;&#x2F;weibo.com&#x2F;amehime"><i class="ic i-weibo"></i></span></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>时间轴</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>文章</a><ul class="submenu"><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a></li><li class="item"><a href="/toolPage/" rel="section"><i class="ic i-feather"></i>常用工具设置技巧</a></li><li class="item"><a href="/projectBuild/" rel="section"><i class="ic i-th"></i>SpringBoot常用配置</a></li></ul></li><li class="item"><a href="/mianshi/" rel="section"><i class="ic i-calendar"></i>面试</a></li><li class="item"><a href="/study/" rel="section"><i class="ic i-sakura"></i>小实验</a></li><li class="item"><a href="/friends/" rel="section"><i class="ic i-heart"></i>友链</a></li><li class="item"><a href="/about/" rel="section"><i class="ic i-calendar"></i>留言</a></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/Distribution/RabbitMQ/" rel="prev" title="上一篇"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/Spring_Family/SpringSecurity/" rel="next" title="下一篇"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>随机文章</h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/%E5%B7%A5%E5%85%B7%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/" title="分类于 工具软件安装">工具软件安装</a></div><span><a href="/tools/IDEA-tool/" title="IDEA-tool">IDEA-tool</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%B0%8F%E5%AE%9E%E9%AA%8C/" title="分类于 小实验">小实验</a></div><span><a href="/study/develop/eu.org/" title="获取免费域名">获取免费域名</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%88%86%E5%B8%83%E5%BC%8F/" title="分类于 分布式">分布式</a></div><span><a href="/Distribution/RabbitMQ/" title="RabbitMQ">RabbitMQ</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E9%9D%A2%E8%AF%95/" title="分类于 面试">面试</a></div><span><a href="/interview/JVM%E5%BF%AB%E9%80%9F%E7%AA%81%E5%87%BB%E7%89%88/" title="JVM突击版">JVM突击版</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/JavaSE/" title="分类于 JavaSE">JavaSE</a></div><span><a href="/Java/%E7%AC%AC13%E7%AB%A0%E5%A4%9A%E7%BA%BF%E7%A8%8B/" title="第13章多线程">第13章多线程</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91/" title="分类于 小程序开发">小程序开发</a></div><span><a href="/Web-anteriore/%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91/3.%E5%B0%8F%E7%A8%8B%E5%BA%8F-%E8%A7%86%E5%9B%BE%E4%B8%8E%E9%80%BB%E8%BE%91/" title="3.视图与逻辑">3.视图与逻辑</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/JavaSE/" title="分类于 JavaSE">JavaSE</a></div><span><a href="/Java/%E7%AC%AC14%E7%AB%A0_%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/" title="第14章_网络编程">第14章_网络编程</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" title="分类于 设计模式">设计模式</a></div><span><a href="/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/DesignMode/" title="设计模式">设计模式</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%B7%A5%E5%85%B7%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/" title="分类于 工具软件安装">工具软件安装</a></div><span><a href="/tools/tools-All/" title="所有工具安装合集">所有工具安装合集</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/" title="分类于 数据库">数据库</a> <i class="ic i-angle-right"></i> <a href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/" title="分类于 MySQL">MySQL</a></div><span><a href="/DataBase/MySQL/MySQL_Basic/" title="MySQL基础">MySQL基础</a></span></li></ul></div><div><h2>最新评论</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2010 – <span itemprop="copyrightYear">2023</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">雾都 @ 雾都博客</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="站点总字数">1.1m 字</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="站点阅读时长">16:21</span></div><div class="powered-by">基于 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"Distribution/Solr/",favicon:{show:"（●´3｀●）やれやれだぜ",hide:"(´Д｀)大変だ！"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},valine:!0,fancybox:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',ignores:[function(i){return i.includes("#")},function(i){return new RegExp(LOCAL.path+"$").test(i)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script></body></html>