{
    "version": "https://jsonfeed.org/version/1",
    "title": "è®°å½•â€œç¾é£Ÿâ€æ¯åˆ» â€¢ All posts by \"å·¥å…·è½¯ä»¶å®‰è£…\" category",
    "description": "è®°å½•â€œç¾é£Ÿâ€æ¯åˆ»",
    "home_page_url": "http://example.com",
    "items": [
        {
            "id": "http://example.com/2022/10/15/tools-All/",
            "url": "http://example.com/2022/10/15/tools-All/",
            "title": "æ‰€æœ‰å·¥å…·å®‰è£…åˆé›†",
            "date_published": "2022-10-15T06:00:00.000Z",
            "content_html": "<p>&lt;div align='center'&gt;&lt;font size='70'&gt; å·¥å…·å®‰è£… &lt;/font&gt;&lt;/div&gt;</p>\n<h1 id=\"ç›®å½•\"><a class=\"anchor\" href=\"#ç›®å½•\">#</a> ç›®å½•</h1>\n<p>[TOC]</p>\n<h1 id=\"æ³¨è§£\"><a class=\"anchor\" href=\"#æ³¨è§£\">#</a> æ³¨è§£ï¼š</h1>\n<ul>\n<li>\n<p>â€”â€”1 .xï¼šå•æœºå®‰è£…</p>\n</li>\n<li>\n<p>â€”â€”2 .xï¼šDocker å®‰è£…</p>\n</li>\n<li>\n<p>X ï¼šæ–¹å¼ X  ,default=1 ä¸å†™</p>\n</li>\n<li>\n<p><strong>æ³¨æ‰€æœ‰æ‰€éœ€æ–‡ä»¶å‡å¯åœ¨ gitee ä¸Šæ‰¾åˆ°</strong></p>\n</li>\n</ul>\n<h1 id=\"\"><a class=\"anchor\" href=\"#\">#</a> â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</h1>\n<h1 id=\"path-linux\"><a class=\"anchor\" href=\"#path-linux\">#</a> PATH---------Linux</h1>\n<h2 id=\"linux\"><a class=\"anchor\" href=\"#linux\">#</a> Linux</h2>\n<h3 id=\"centos-7\"><a class=\"anchor\" href=\"#centos-7\">#</a> CentOS--7</h3>\n<p><strong>1. ä¸‹è½½é•œåƒæ–‡ä»¶</strong></p>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9taXJyb3JzLnR1bmEudHNpbmdodWEuZWR1LmNuLw==\"> æ¸…åå¤§å­¦å¼€æºè½¯ä»¶é•œåƒç«™</span></p>\n<p><strong>2. å¼€å§‹å®‰è£…</strong></p>\n<p><img data-src=\"/2022/10/15/tools-All/1646489101763.png\" class=\"\"></p>\n<p><img data-src=\"/2022/10/15/tools-All/1646489187835.png\" class=\"\"></p>\n<p><img data-src=\"/2022/10/15/tools-All/1646489210450.png\" class=\"\"></p>\n<p><img data-src=\"/2022/10/15/tools-All/1646489375149.png\" class=\"\"></p>\n<p><img data-src=\"/2022/10/15/tools-All/1646489450527.png\" class=\"\"></p>\n<p><strong>3. å¼€å§‹è¿›å»è™šæ‹Ÿæœºé…ç½®æˆ‘ä»¬çš„è½¯ä»¶</strong></p>\n<p><strong>3.1 è¯­è¨€</strong></p>\n<p><img data-src=\"/2022/10/15/tools-All/1646489591914.png\" class=\"\"></p>\n<p><strong>3.2 æ—¶åŒºã€è½¯ä»¶é€‰æ‹©</strong></p>\n<p>è½¯ä»¶é€‰æ‹©ï¼šæŒ‰ç…§è‡ªå·±çš„éœ€æ±‚é€‰ï¼Œç¬¬ä¸€æ¬¡å¤šé€‰ä¹Ÿä¸è¦å°‘é€‰</p>\n<p><img data-src=\"/2022/10/15/tools-All/1646489600666.png\" class=\"\"></p>\n<p>4. ç¡¬ã€è½¯é…ç½®å®Œæˆï¼Œå¼€å§‹å®‰è£…ï¼ŒåŒæ—¶è¦åˆ›å»ºç®¡ç†å‘˜ Root å’Œ åŸºç¡€ç”¨æˆ·</p>\n<p></p>\n<p></p>\n<p>5. å®‰è£…æˆåŠŸ</p>\n<p></p>\n<p><strong>ç³»ç»Ÿé…ç½®</strong></p>\n<p>&lt;div name=&quot;Linux_install_centos7&quot;&gt; è¿›å…¥ç³»ç»Ÿåï½&lt;/div&gt;<br />\n1ã€é¦–å…ˆé…ç½®ç½‘ç»œ</p>\n<p>è¦å…ˆåˆ‡æ¢åˆ° root ç”¨æˆ·ä¸Šå»ï¼Œä¸ç„¶æ²¡æƒé™ã€‚</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>æ–¹å¼ä¸€</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">sudo</span> <span class=\"token parameter variable\">-i</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>password:å½“å‰æ™®é€šç”¨æˆ·å¯†ç </pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>æ–¹å¼äºŒ</pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token function\">su</span> -</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>passwordï¼šrootç”¨æˆ·å¯†ç </pre></td></tr></table></figure><p>å°†  **ONBOOT ** æ”¹ä¸º yes ï¼š</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">vim</span> /etc/sysconfig/network-scripts/ifcfg-ens33</pre></td></tr></table></figure><p></p>\n<p>é‡å¯ç½‘ç»œ</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># CentOS6</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">service</span> network restart</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">#CentOS7</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>systemlctl restart network </pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token comment\"># æ£€æŸ¥æ˜¯å¦é€šç•…</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token function\">ping</span> <span class=\"token number\">114.114</span>.114.114</pre></td></tr></table></figure><p>2ã€ å®‰è£… net-tools å’Œ vimï¼ˆ<strong>æœ‰çš„è¯å¯ç›´æ¥è·³è¿‡</strong>ï¼‰</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>yum <span class=\"token function\">install</span> <span class=\"token parameter variable\">-y</span> net-tools <span class=\"token function\">vim</span></pre></td></tr></table></figure><p>æ£€æŸ¥è‡ªå·±çš„ ip</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">ifconfig</span></pre></td></tr></table></figure><p></p>\n<p>3 å¯åŠ¨ sshd æœåŠ¡</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">service</span> sshd start</pre></td></tr></table></figure><p>&lt;div name=&quot;Linux_minInstall_4&quot;&gt;&lt;/div &gt;<br />\n4ã€ä¿®æ”¹ç™»å½•ï¼Œè®© Root ç”¨æˆ·ç›´æ¥ç™»å½•</p>\n<p><a href=\"#problem-6\">å…·ä½“æ­¥éª¤</a></p>\n<p>&lt;div name=&quot;Linux_minInstall_5&quot;&gt;&lt;/div &gt;<br />\n5ã€ä¿®æ”¹ DNS è¿æ¥ï¼Œè®© xshell è®¿é—®å¿«ä¸€ç‚¹</p>\n<p><a href=\"#problem-5\">å…·ä½“æ­¥éª¤</a></p>\n<p>6ã€ <strong>å…³é—­æŒ‡å®šç«¯å£é˜²ç«å¢™ï¼š</strong></p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>systemctl status firewalld  </pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">#å¼€å¯ 80 ç«¯å£</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>firewall-cmd <span class=\"token parameter variable\">--zone</span><span class=\"token operator\">=</span>public --add-port<span class=\"token operator\">=</span><span class=\"token number\">80</span>/tcp <span class=\"token parameter variable\">--permanent</span>  </pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\">#å¼€å¯ 3306 ç«¯å£</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>firewall-cmd <span class=\"token parameter variable\">--zone</span><span class=\"token operator\">=</span>public --add-port<span class=\"token operator\">=</span><span class=\"token number\">3306</span>/tcp <span class=\"token parameter variable\">--permanent</span>  </pre></td></tr><tr><td data-num=\"10\"></td><td><pre></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token comment\">#é‡å¯é˜²ç«å¢™ï¼š</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>firewall-cmd <span class=\"token parameter variable\">--reload</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>å…³é—­é˜²ç«å¢™ ï¼Œé‡å¯å¤±æ•ˆ<span class=\"token punctuation\">(</span>Linuxç³»ç»Ÿä¸€é‡å¯Linuxä¸­çš„é˜²ç«å¢™åˆä¼šè¢«å¼€èµ·<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token function\">service</span> firewalld stop</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>ç¦ç”¨é˜²ç«å¢™ï¼Œæ°¸ä¹…æœ‰æ•ˆ</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>systemctl disable firewalld æˆ–è€…  systemctl disable firewalld.service</pre></td></tr><tr><td data-num=\"19\"></td><td><pre>å¯åŠ¨é˜²ç«å¢™ <span class=\"token punctuation\">(</span>å¯¹ç¦ç”¨çš„é˜²ç«å¢™è¿›è¡Œå¯åŠ¨<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>systemctl <span class=\"token builtin class-name\">enable</span> firewalld</pre></td></tr></table></figure><h2 id=\"dockerå®‰è£…\"><a class=\"anchor\" href=\"#dockerå®‰è£…\">#</a> Docker å®‰è£…</h2>\n<p>docker å®˜ç½‘ï¼Œè‡ªå·±é€‰å®šè‡ªå·±çš„ Linux ç‰ˆæœ¬ï¼ŒæŒ‰ç…§å®˜æ–¹æ–‡æ¡£é…ç½®å³å¯ï¼Œä»¥ä¸‹ CentOS7 çš„</p>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9kb2NzLmRvY2tlci5jb20vZW5naW5lL2luc3RhbGwvY2VudG9zLw==\">https://docs.docker.com/engine/install/centos/</span></p>\n<h4 id=\"1-å¸è½½åŸæœ‰çš„ç¯å¢ƒ\"><a class=\"anchor\" href=\"#1-å¸è½½åŸæœ‰çš„ç¯å¢ƒ\">#</a> 1ã€å¸è½½åŸæœ‰çš„ç¯å¢ƒï¼š</h4>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">sudo</span> yum remove <span class=\"token function\">docker</span> <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>                  docker-client <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>                  docker-client-latest <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>                  docker-common <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>                  docker-latest <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>                  docker-latest-logrotate <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>                  docker-logrotate <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>                  docker-selinux <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>                  docker-engine-selinux <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>                  docker-engine</pre></td></tr></table></figure><h4 id=\"2-å®‰è£…å¯¹åº”çš„ä¾èµ–ç¯å¢ƒå’Œé•œåƒåœ°å€\"><a class=\"anchor\" href=\"#2-å®‰è£…å¯¹åº”çš„ä¾èµ–ç¯å¢ƒå’Œé•œåƒåœ°å€\">#</a> 2ã€å®‰è£…å¯¹åº”çš„ä¾èµ–ç¯å¢ƒå’Œé•œåƒåœ°å€</h4>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">sudo</span> yum <span class=\"token function\">install</span> <span class=\"token parameter variable\">-y</span> yum-utils</pre></td></tr></table></figure><p>å®˜æ–¹å®‰è£… (æ…¢)</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">sudo</span> yum-config-manager <span class=\"token punctuation\">\\</span> --add-repo <span class=\"token punctuation\">\\</span> https://download.docker.com/linux/centos/docker-ce.repo</pre></td></tr></table></figure><p>å®‰è£…è¿‡æ…¢è®¾ç½®é•œåƒ</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">sudo</span> yum-config-manager <span class=\"token punctuation\">\\</span> --add-repo <span class=\"token punctuation\">\\</span> http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo</pre></td></tr></table></figure><h4 id=\"3-ç›´æ¥å®‰è£…docker-ce\"><a class=\"anchor\" href=\"#3-ç›´æ¥å®‰è£…docker-ce\">#</a> 3ã€ç›´æ¥å®‰è£… docker CE</h4>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">sudo</span> yum <span class=\"token function\">install</span> <span class=\"token parameter variable\">-y</span> docker-ce docker-ce-cli containerd.io</pre></td></tr></table></figure><p>æŠ¥é”™æ—¶ï¼Œå¤§æ¦‚ç‡ä¸º<strong>é•œåƒä»“åº“é—®é¢˜</strong> ï¼Œç›´æ¥æ‰§è¡Œ <strong>æ­¥éª¤äº”</strong> çš„è¡¥å……ï¼Œå†å®‰è£…</p>\n<h4 id=\"4-å¯åŠ¨dockeræœåŠ¡\"><a class=\"anchor\" href=\"#4-å¯åŠ¨dockeræœåŠ¡\">#</a> 4ã€å¯åŠ¨ docker æœåŠ¡</h4>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>systemctl start <span class=\"token function\">docker</span></pre></td></tr></table></figure><h4 id=\"5-æŸ¥çœ‹dockerçš„ç‰ˆæœ¬\"><a class=\"anchor\" href=\"#5-æŸ¥çœ‹dockerçš„ç‰ˆæœ¬\">#</a> 5ã€æŸ¥çœ‹ docker çš„ç‰ˆæœ¬</h4>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">docker</span> version</pre></td></tr></table></figure><p>** è¡¥å……ï¼šé€šè¿‡å®˜æ–¹çš„é•œåƒåœ°å€ä¸‹è½½ docker ä¼šæ¯”è¾ƒæ…¢ï¼Œ **</p>\n<ul>\n<li>é…ç½®é˜¿é‡Œäº‘çš„é•œåƒåœ°å€ï¼š <strong>ç»å†è¿‡ 3 çš„é•œåƒåº“é—®é¢˜ä¹Ÿå°±æ˜¯é…ç½®é˜¿é‡Œäº‘é•œåƒåœ°å€</strong></li>\n</ul>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo</pre></td></tr></table></figure><ul>\n<li>yum æ›´æ–°ä¸‹å³å¯ï¼š</li>\n</ul>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>yum makecache fast</pre></td></tr></table></figure><h4 id=\"6-å¼€æœºå¯åŠ¨docker\"><a class=\"anchor\" href=\"#6-å¼€æœºå¯åŠ¨docker\">#</a> 6ã€å¼€æœºå¯åŠ¨ docker</h4>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">sudo</span> systemctl <span class=\"token builtin class-name\">enable</span> <span class=\"token function\">docker</span></pre></td></tr></table></figure><ul>\n<li>è¡¥å……ï¼šdocker pull ä¸‹è½½é•œåƒå¤ªæ…¢ï¼Œæ›´æ¢æºè¿›è¡Œç½‘ç»œåŠ é€Ÿçš„è§£å†³æ–¹æ¡ˆ</li>\n</ul>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>æ­¥éª¤1ï¼š</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">sudo</span> <span class=\"token function\">mkdir</span> <span class=\"token parameter variable\">-p</span> /etc/docker</pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>æ­¥éª¤2ï¼š</pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token function\">sudo</span> <span class=\"token function\">tee</span> /etc/docker/daemon.json <span class=\"token operator\">&lt;&lt;-</span><span class=\"token string\">'EOF'</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>&#123;</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  \"registry-mirrors\": [\"https://glhlrb75.mirror.aliyuncs.com\"]</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>&#125;</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>EOF</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>æˆ–è€…ï¼ˆè€å¸ˆçš„ï¼‰</pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token function\">sudo</span> <span class=\"token function\">tee</span> /etc/docker/daemon.json <span class=\"token operator\">&lt;&lt;-</span><span class=\"token string\">'EOF'</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>&#123; </pre></td></tr><tr><td data-num=\"13\"></td><td><pre>\t\"registry-mirrors\": [\"https://v9j5rufo.mirror.aliyuncs.com\"] </pre></td></tr><tr><td data-num=\"14\"></td><td><pre>&#125;</pre></td></tr><tr><td data-num=\"15\"></td><td><pre>EOF</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>æ­¥éª¤3ï¼š</pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token function\">sudo</span> systemctl daemon-reload</pre></td></tr><tr><td data-num=\"19\"></td><td><pre></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>æ­¥éª¤4ï¼š</pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token function\">sudo</span> systemctl restart <span class=\"token function\">docker</span></pre></td></tr></table></figure><h4 id=\"7-ä½¿ç”¨\"><a class=\"anchor\" href=\"#7-ä½¿ç”¨\">#</a> 7ã€ä½¿ç”¨</h4>\n<p><a href=\"https://blog.csdn.net/qq_25760623/article/details/88657491\"><strong>é˜¿é‡Œäº‘å®‰è£… dockerï¼š</strong></a></p>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI1NzYwNjIzL2FydGljbGUvZGV0YWlscy84ODY1NzQ5MQ==\">https://blog.csdn.net/qq_25760623/article/details/88657491</span></p>\n<h2 id=\"docker-composeå®‰è£…\"><a class=\"anchor\" href=\"#docker-composeå®‰è£…\">#</a> Docker-Compose å®‰è£…</h2>\n<h3 id=\"æ–¹å¼ä¸€\"><a class=\"anchor\" href=\"#æ–¹å¼ä¸€\">#</a> æ–¹å¼ä¸€</h3>\n<p>å®˜ç½‘åœ°å€ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly9kb2NzLmRvY2tlci5jb20vY29tcG9zZQ==\">https://docs.docker.com/compose</span></p>\n<p><strong>æ¨è</strong>ï¼š å›½å†…åœ°å€ï¼š<span class=\"exturl\" data-url=\"aHR0cDovL2dldC5kYW9jbG91ZC5pby8jaW5zdGFsbC1jb21wb3Nl\">http://get.daocloud.io/#install-compose</span></p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">sudo</span> <span class=\"token function\">curl</span> <span class=\"token parameter variable\">-L</span> <span class=\"token string\">\"https://github.com/docker/compose/releases/download/1.29.2/docker- compose-<span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">uname</span> <span class=\"token parameter variable\">-s</span><span class=\"token variable\">)</span></span>-<span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">uname</span> <span class=\"token parameter variable\">-m</span><span class=\"token variable\">)</span></span>\"</span> <span class=\"token parameter variable\">-o</span> /usr/local/bin/docker-compose</pre></td></tr></table></figure><p>é€Ÿåº¦æ¯”è¾ƒæ…¢çš„è¯ä½¿ç”¨ä¸‹é¢çš„åœ°å€ï¼š</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">curl</span> <span class=\"token parameter variable\">-L</span> https://get.daocloud.io/docker/compose/releases/download/1.25.0/docker- compose-<span class=\"token variable\"><span class=\"token variable\">`</span><span class=\"token function\">uname</span> <span class=\"token parameter variable\">-s</span><span class=\"token variable\">`</span></span>-<span class=\"token variable\"><span class=\"token variable\">`</span><span class=\"token function\">uname</span> <span class=\"token parameter variable\">-m</span><span class=\"token variable\">`</span></span> <span class=\"token operator\">></span> /usr/local/bin/docker-compose</pre></td></tr></table></figure><p>ä¿®æ”¹æ–‡ä»¶å¤¹æƒé™</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">chmod</span> +x /usr/local/bin/docker-compose</pre></td></tr></table></figure><p>å»ºç«‹è½¯è¿æ¥</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">ln</span> <span class=\"token parameter variable\">-s</span> /usr/local/bin/docker-compose /usr/bin/docker-compose</pre></td></tr></table></figure><p>æ ¡éªŒæ˜¯å¦å®‰è£…æˆåŠŸ</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">docker-compose</span> <span class=\"token parameter variable\">--version</span></pre></td></tr></table></figure><h3 id=\"æ–¹å¼äºŒ\"><a class=\"anchor\" href=\"#æ–¹å¼äºŒ\">#</a> æ–¹å¼äºŒ</h3>\n<p><strong>æ‰‹åŠ¨ä¸‹è½½ docker-compose åˆ°æœ¬åœ°ï¼Œç„¶åä¸Šä¼ åˆ° linux æœåŠ¡å™¨çš„ /usr/local/bin è·¯å¾„ä¸‹</strong></p>\n<p>ï¼ˆ1ï¼‰ç™¾åº¦ç½‘ç›˜ï¼šé“¾æ¥: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9wYW4uYmFpZHUuY29tL3MvMW9fMlhzSUxmd2NBN21Sbi1mN0Exd0E=\">https://pan.baidu.com/s/1o_2XsILfwcA7mRn-f7A1wA</span> æå–ç : qiue  â€”â€” ç½‘ç›˜ä¸­ docker-compose ç‰ˆæœ¬ï¼š2.2.2</p>\n<p>ï¼ˆ2ï¼‰ä¹Ÿå¯ä»¥å» GitHub ä¸Šä¸‹ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2RvY2tlci9jb21wb3NlL3JlbGVhc2Vz\">https://github.com/docker/compose/releases</span></p>\n<p><img data-src=\"https://tools-All2020.cnblogs.com/blog/1376119/202112/1376119-20211222005944642-1364547608.png\" alt=\"img\" /></p>\n<ol start=\"5\">\n<li>é‡å‘½åï¼š</li>\n</ol>\n<p>mv docker-compose-linux-x86_64 docker-compose</p>\n<ol start=\"6\">\n<li>æˆæƒï¼š</li>\n</ol>\n<p>chmod +x ./docker-compose</p>\n<ol start=\"7\">\n<li>æŸ¥çœ‹ç‰ˆæœ¬ï¼š</li>\n</ol>\n<p>docker-compose --version</p>\n<p><img data-src=\"https://tools-All2020.cnblogs.com/blog/1376119/202112/1376119-20211222005757511-1189151957.png\" alt=\"img\" /></p>\n<h3 id=\"å‡çº§æ–¹å¼ä¸‰\"><a class=\"anchor\" href=\"#å‡çº§æ–¹å¼ä¸‰\">#</a> å‡çº§ï¼ˆæ–¹å¼ä¸‰ï¼‰</h3>\n<ul>\n<li>ä¸‹è½½ï¼Œå‘½ä»¤å¦‚ä¸‹ğŸ‘‡ï¼š</li>\n</ul>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">sudo</span> <span class=\"token function\">curl</span> <span class=\"token parameter variable\">-L</span> https://get.daocloud.io/docker/compose/releases/download/1.26.2/docker-compose-<span class=\"token variable\"><span class=\"token variable\">`</span><span class=\"token function\">uname</span> <span class=\"token parameter variable\">-s</span><span class=\"token variable\">`</span></span>-<span class=\"token variable\"><span class=\"token variable\">`</span><span class=\"token function\">uname</span> <span class=\"token parameter variable\">-m</span><span class=\"token variable\">`</span></span> <span class=\"token operator\">></span> /usr/local/bin/docker-compose</pre></td></tr></table></figure><blockquote>\n<p>å›  Github å›½å†…è®¿é—®ä¸å¤ªç¨³å®šæ‰€ä»¥ä½¿ç”¨ DaoCloud æä¾›åŠ é€Ÿï¼š<span class=\"exturl\" data-url=\"aHR0cDovL2dldC5kYW9jbG91ZC5pby8jaW5zdGFsbC1jb21wb3Nl\">é“¾æ¥</span>ï¼Œä½ <strong>å¯ä»¥é€šè¿‡ URL ä¸­çš„ç‰ˆæœ¬å·ï¼Œè‡ªå®šä¹‰ä¸‹è½½ä½ æ‰€éœ€è¦çš„ç‰ˆæœ¬æ–‡ä»¶ã€‚</strong></p>\n</blockquote>\n<ul>\n<li>å¯¹å‘½ä»¤è¿›è¡Œä¸€ä¸ªæˆæƒ</li>\n</ul>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">sudo</span> <span class=\"token function\">chmod</span> +x /usr/local/bin/docker-compose</pre></td></tr></table></figure><ul>\n<li>æŸ¥çœ‹ compose ç‰ˆæœ¬å‘½ä»¤</li>\n</ul>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">docker-compose</span> <span class=\"token parameter variable\">--version</span></pre></td></tr></table></figure><ul>\n<li>å¸è½½</li>\n</ul>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">sudo</span> <span class=\"token function\">rm</span> /usr/local/bin/docker-compose</pre></td></tr></table></figure><h2 id=\"pythonå‡çº§\"><a class=\"anchor\" href=\"#pythonå‡çº§\">#</a> Python å‡çº§</h2>\n<h4 id=\"ä¸€-æŸ¥çœ‹å½“å‰pythonç‰ˆæœ¬\"><a class=\"anchor\" href=\"#ä¸€-æŸ¥çœ‹å½“å‰pythonç‰ˆæœ¬\">#</a> ä¸€ã€<strong>æŸ¥çœ‹å½“å‰ python ç‰ˆæœ¬</strong></h4>\n<pre><code>[root@ansible ~]# python -V\nPython 2.7.5\n</code></pre>\n<h4 id=\"äºŒ-ä¸‹è½½æ–°çš„pythonåŒ…å¹¶å®‰è£…\"><a class=\"anchor\" href=\"#äºŒ-ä¸‹è½½æ–°çš„pythonåŒ…å¹¶å®‰è£…\">#</a> äºŒã€<strong>ä¸‹è½½æ–°çš„ python åŒ…å¹¶å®‰è£…</strong></h4>\n<p>â€‹\tè¿›å…¥ python å®˜ç½‘ï¼ˆ<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cucHl0aG9uLm9yZw==\">https://www.python.org</span>ï¼‰ï¼Œé€‰æ‹©éœ€è¦çš„ç‰ˆæœ¬ã€‚æ­¤å¤„æˆ‘é€‰æ‹©å½“å‰æœ€æ–°ç‰ˆæœ¬ Python3.6.1</p>\n<pre><code>yum install gcc gcc-c++ -y\n\nwget https://www.python.org/ftp/python/3.7.3/Python-3.7.3.tar.xz\n\ntar xvf Python-3.7.3.tar.xz \n\ncd Python-3.7.3/\n\n ./configure\n \nmake\n\nmake install\n</code></pre>\n<h4 id=\"ä¸‰-éªŒè¯\"><a class=\"anchor\" href=\"#ä¸‰-éªŒè¯\">#</a> ä¸‰ã€<strong>éªŒè¯</strong></h4>\n<pre><code>#python -V     #ä¸€ä¸ªæ˜¯æ—§ç‰ˆæœ¬ï¼Œä¸€ä¸ªæ˜¯æ–°ç‰ˆæœ¬\nPython 2.7.5\n# python3 -V\nPython 3.7.3\n</code></pre>\n<h4 id=\"å››-è®¾ç½®3xä¸ºé»˜è®¤ç‰ˆæœ¬\"><a class=\"anchor\" href=\"#å››-è®¾ç½®3xä¸ºé»˜è®¤ç‰ˆæœ¬\">#</a> å››ã€<strong>è®¾ç½® 3.X ä¸ºé»˜è®¤ç‰ˆæœ¬</strong></h4>\n<p>â€‹\tæŸ¥çœ‹ Python çš„è·¯å¾„ï¼Œåœ¨ /usr/bin ä¸‹é¢ã€‚å¯ä»¥çœ‹åˆ° python é“¾æ¥çš„æ˜¯ python 2.7ï¼Œæ‰€ä»¥ï¼Œæ‰§è¡Œ python å°±ç›¸å½“äºæ‰§è¡Œ python 2.7ã€‚</p>\n<pre><code>[root@ansible ~]# ls -al /usr/bin | grep python\n-rwxr-xr-x.   1 root root       11232 Dec  2  2016 abrt-action-analyze-python\nlrwxrwxrwx.   1 root root           7 May 26  2017 python -&gt; python2\nlrwxrwxrwx.   1 root root           9 May 26  2017 python2 -&gt; python2.7\n-rwxr-xr-x.   1 root root        7136 Nov  6  2016 python2.7\n</code></pre>\n<p>å°†åŸæ¥ python çš„è½¯é“¾æ¥é‡å‘½åï¼š</p>\n<pre><code>  mv /usr/bin/python /usr/bin/python.bak\n</code></pre>\n<p>å°† python é“¾æ¥è‡³ python3ï¼š</p>\n<pre><code>  ln -s /usr/local/bin/python3 /usr/bin/python\n</code></pre>\n<h4 id=\"äº”-é…ç½®yum\"><a class=\"anchor\" href=\"#äº”-é…ç½®yum\">#</a> äº”ã€<strong>é…ç½® yum</strong></h4>\n<p>â€‹\tå‡çº§ Python ä¹‹åï¼Œç”±äºå°†é»˜è®¤çš„ python æŒ‡å‘äº† python3ï¼Œyum ä¸èƒ½æ­£å¸¸ä½¿ç”¨ï¼Œéœ€è¦ç¼–è¾‘ yum çš„é…ç½®æ–‡ä»¶ï¼Œæ­¤æ—¶ï¼š</p>\n<pre><code>[root@ansible-admin Python-3.7.3]# yum list\n  File &quot;/usr/bin/yum&quot;, line 30\n    except KeyboardInterrupt, e:\n\nSyntaxError: invalid syntax\n</code></pre>\n<p>â€‹\tä¿®æ”¹ /usr/bin/yum å’Œ /usr/libexec/urlgrabber-ext-downï¼Œå°† #!/usr/bin/python æ”¹ä¸º #!/usr/bin/python2.7ï¼Œä¿å­˜é€€å‡ºå³å¯ã€‚</p>\n<blockquote>\n<p>vim /usr/bin/yum</p>\n<p>vim /usr/libexec/urlgrabber-ext-down</p>\n</blockquote>\n<p>&lt;div name=&quot;jdk_install&quot;&gt;&lt;/div&gt;</p>\n<h2 id=\"jdkå®‰è£…\"><a class=\"anchor\" href=\"#jdkå®‰è£…\">#</a> jdk å®‰è£…</h2>\n<h4 id=\"1-ä¸‹è½½å¯¹åº”çš„ç‰ˆæœ¬\"><a class=\"anchor\" href=\"#1-ä¸‹è½½å¯¹åº”çš„ç‰ˆæœ¬\">#</a> 1ã€ä¸‹è½½å¯¹åº”çš„ç‰ˆæœ¬</h4>\n<p><strong>1.1 ä¸‹è½½ Linux å¯¹åº”ç‰ˆæœ¬çš„ JDK</strong></p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>getconf  LONG_BIT</pre></td></tr></table></figure><p><strong>1.2 ä¸‹è½½å‹ç¼©æ–‡ä»¶</strong></p>\n<blockquote>\n<p>jdk-8u261-linux-x64.tar.gz</p>\n</blockquote>\n<h4 id=\"2-è§£å‹å‹ç¼©æ–‡ä»¶\"><a class=\"anchor\" href=\"#2-è§£å‹å‹ç¼©æ–‡ä»¶\">#</a> 2ã€è§£å‹å‹ç¼©æ–‡ä»¶</h4>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">tar</span> <span class=\"token parameter variable\">-xvf</span>   jdk-8u261-linux-x64.tar.gz  <span class=\"token parameter variable\">-C</span>  /usr/local/</pre></td></tr></table></figure><h4 id=\"3-é…ç½®ç¯å¢ƒå˜é‡\"><a class=\"anchor\" href=\"#3-é…ç½®ç¯å¢ƒå˜é‡\">#</a> 3ã€é…ç½®ç¯å¢ƒå˜é‡</h4>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">vim</span>  /etc/profile</pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">#è‡ªå·±é€‰å®šçš„ç›®å½•</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">JAVA_HOME</span><span class=\"token operator\">=</span>/usr/local/jdk1.8.0_261</pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">CLASSPATH</span><span class=\"token operator\">=</span>.:<span class=\"token variable\">$JAVA_HOME</span>/lib/dt.jar:<span class=\"token variable\">$JAVA_HOME</span>/lib/tools.jar</pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\"><span class=\"token environment constant\">PATH</span></span><span class=\"token operator\">=</span><span class=\"token environment constant\">$PATH</span><span class=\"token builtin class-name\">:</span><span class=\"token variable\">$JAVA_HOME</span>/bin</pre></td></tr></table></figure><h4 id=\"4-ä½¿ç”¨ç¯å¢ƒå˜é‡ç”Ÿæ•ˆ\"><a class=\"anchor\" href=\"#4-ä½¿ç”¨ç¯å¢ƒå˜é‡ç”Ÿæ•ˆ\">#</a> 4ã€ä½¿ç”¨ç¯å¢ƒå˜é‡ç”Ÿæ•ˆ</h4>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token builtin class-name\">source</span> /etc/profile</pre></td></tr></table></figure><p><a href=\"#perblem-1\">é•¿ä¹…ç”Ÿæ•ˆ</a></p>\n<h4 id=\"5-æµ‹è¯•jdkæ˜¯å¦å®‰è£…æˆåŠŸ\"><a class=\"anchor\" href=\"#5-æµ‹è¯•jdkæ˜¯å¦å®‰è£…æˆåŠŸ\">#</a> 5ã€æµ‹è¯• JDK æ˜¯å¦å®‰è£…æˆåŠŸ</h4>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">java</span> <span class=\"token parameter variable\">-version</span></pre></td></tr></table></figure><h2 id=\"tomcatå®‰è£…\"><a class=\"anchor\" href=\"#tomcatå®‰è£…\">#</a> Tomcat å®‰è£…</h2>\n<h3 id=\"1\"><a class=\"anchor\" href=\"#1\">#</a> â€”â€”1</h3>\n<h4 id=\"1-ä¸‹è½½linuxå¯¹åº”ç‰ˆæœ¬çš„tomcat\"><a class=\"anchor\" href=\"#1-ä¸‹è½½linuxå¯¹åº”ç‰ˆæœ¬çš„tomcat\">#</a> 1ã€ä¸‹è½½ Linux å¯¹åº”ç‰ˆæœ¬çš„ Tomcat</h4>\n<p>â€‹\t  ä¸‹è½½å‹ç¼©æ–‡ä»¶     apache-tomcat-7.0.68.tar.gz</p>\n<h4 id=\"2-è§£å‹å‹ç¼©æ–‡ä»¶-2\"><a class=\"anchor\" href=\"#2-è§£å‹å‹ç¼©æ–‡ä»¶-2\">#</a> 2ã€è§£å‹å‹ç¼©æ–‡ä»¶</h4>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">tar</span> <span class=\"token parameter variable\">-xvf</span>   apache-tomcat-7.0.68.tar.gz <span class=\"token parameter variable\">-C</span> /usr/local/  <span class=\"token comment\">#è§£å‹åˆ°çš„è·¯å¾„</span></pre></td></tr></table></figure><h4 id=\"3-é…ç½®ç¯å¢ƒå˜é‡-2\"><a class=\"anchor\" href=\"#3-é…ç½®ç¯å¢ƒå˜é‡-2\">#</a> 3ã€é…ç½®ç¯å¢ƒå˜é‡</h4>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">vim</span>  /etc/profile</pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">#è‡ªå·±å®šä¹‰ä¸ºä½ç½®</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">CATALINA_BASE</span><span class=\"token operator\">=</span>/usr/local/apache-tomcat-7.0.68</pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\"><span class=\"token environment constant\">PATH</span></span><span class=\"token operator\">=</span><span class=\"token variable\">$CATALINA_BASE</span>/bin:<span class=\"token environment constant\">$PATH</span></pre></td></tr></table></figure><h4 id=\"4-ä½¿ç”¨ç¯å¢ƒå˜é‡ç”Ÿæ•ˆ-2\"><a class=\"anchor\" href=\"#4-ä½¿ç”¨ç¯å¢ƒå˜é‡ç”Ÿæ•ˆ-2\">#</a> 4ã€ä½¿ç”¨ç¯å¢ƒå˜é‡ç”Ÿæ•ˆ</h4>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token builtin class-name\">source</span> /etc/profile</pre></td></tr></table></figure><h4 id=\"5-å¯åŠ¨tomcatæœåŠ¡\"><a class=\"anchor\" href=\"#5-å¯åŠ¨tomcatæœåŠ¡\">#</a> 5ã€å¯åŠ¨ Tomcat æœåŠ¡</h4>\n<ul>\n<li>æ³¨ï¼šè¦æ˜¯è¿œç¨‹è®¿é—®ä½ å…³æ³¨é˜²ç«å¢™é—®é¢˜</li>\n</ul>\n<p>å¯åŠ¨ Tomcat æœåŠ¡ï¼š</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>/usr/local/apache-tomcat-7.0.68/bin./startup.sh</pre></td></tr></table></figure><p>å¯åŠ¨ Tomcat å¹¶è¾“å‡ºå¯åŠ¨æ—¥å¿— :</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>/usr/local/apache-tomcat-7.0.68/bin/startup.sh <span class=\"token operator\">&amp;</span> <span class=\"token function\">tail</span> <span class=\"token parameter variable\">-f</span>  /usr/local/apache-tomcat-7.0.68/logs/catalina.out</pre></td></tr></table></figure><p>&lt;div name=&quot;mysql_install&quot;&gt;</p>\n<h2 id=\"mysql-å®‰è£…\"><a class=\"anchor\" href=\"#mysql-å®‰è£…\">#</a> MySQL å®‰è£…</h2>\n<h3 id=\"1-2\"><a class=\"anchor\" href=\"#1-2\">#</a> â€”â€”1</h3>\n<h4 id=\"1-å¸è½½åŸæ¥çš„ç‰ˆæœ¬\"><a class=\"anchor\" href=\"#1-å¸è½½åŸæ¥çš„ç‰ˆæœ¬\">#</a> 1ã€å¸è½½åŸæ¥çš„ç‰ˆæœ¬</h4>\n<h5 id=\"1-æŸ¥çœ‹mysqlçš„å®‰è£…æƒ…å†µ\"><a class=\"anchor\" href=\"#1-æŸ¥çœ‹mysqlçš„å®‰è£…æƒ…å†µ\">#</a> 1ã€æŸ¥çœ‹ mysql çš„å®‰è£…æƒ…å†µ</h5>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">rpm</span> <span class=\"token parameter variable\">-qa</span> <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> <span class=\"token parameter variable\">-i</span> mysql</pre></td></tr></table></figure><p><img data-src=\"/2022/10/15/tools-All/1570605325400.png\" class=\"\"></p>\n<h5 id=\"2-åˆ é™¤ä¸Šå›¾å®‰è£…çš„è½¯ä»¶\"><a class=\"anchor\" href=\"#2-åˆ é™¤ä¸Šå›¾å®‰è£…çš„è½¯ä»¶\">#</a> 2ã€åˆ é™¤ä¸Šå›¾å®‰è£…çš„è½¯ä»¶</h5>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">rpm</span> <span class=\"token parameter variable\">-ev</span> <span class=\"token parameter variable\">--nodeps</span> mysql57-community-release-el5-7.noarch</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">rpm</span> <span class=\"token parameter variable\">-ev</span> <span class=\"token parameter variable\">--nodeps</span> mysql-community-server-5.7.18-1.el5.x86_64</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">rpm</span> <span class=\"token parameter variable\">-ev</span> <span class=\"token parameter variable\">--nodeps</span> mysql-community-client-5.7.18-1.el5.x86_64</pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token function\">rpm</span> <span class=\"token parameter variable\">-ev</span> <span class=\"token parameter variable\">--nodeps</span> mysql-community-libs-5.7.18-1.el5.x86_64</pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token function\">rpm</span> <span class=\"token parameter variable\">-ev</span> <span class=\"token parameter variable\">--nodeps</span> mysql-community-common-5.7.18-1.el5.x86_64</pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token function\">rpm</span> <span class=\"token parameter variable\">-ev</span> <span class=\"token parameter variable\">--nodeps</span> mysql-5.7.18-1.el5.x86_64</pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token function\">rpm</span> <span class=\"token parameter variable\">-ev</span> <span class=\"token parameter variable\">--nodeps</span> mysql-community-libs-compat-5.7.18-1.el5.x86_64</pre></td></tr></table></figure><h5 id=\"3-éƒ½åˆ é™¤æˆåŠŸä¹‹åæŸ¥æ‰¾ç›¸å…³çš„mysqlçš„æ–‡ä»¶\"><a class=\"anchor\" href=\"#3-éƒ½åˆ é™¤æˆåŠŸä¹‹åæŸ¥æ‰¾ç›¸å…³çš„mysqlçš„æ–‡ä»¶\">#</a> 3ã€éƒ½åˆ é™¤æˆåŠŸä¹‹åï¼ŒæŸ¥æ‰¾ç›¸å…³çš„ mysql çš„æ–‡ä»¶</h5>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">find</span> / <span class=\"token parameter variable\">-name</span> mysql</pre></td></tr></table></figure><p><img data-src=\"/2022/10/15/tools-All/1570605553095.png\" class=\"\"></p>\n<h5 id=\"4-åˆ é™¤å…¨éƒ¨æ–‡ä»¶\"><a class=\"anchor\" href=\"#4-åˆ é™¤å…¨éƒ¨æ–‡ä»¶\">#</a> 4ã€åˆ é™¤å…¨éƒ¨æ–‡ä»¶</h5>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">rm</span> <span class=\"token parameter variable\">-rf</span> /etc/selinux/targeted/active/modules/100/mysql</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">rm</span> <span class=\"token parameter variable\">-rf</span> /root/mysql</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">rm</span> <span class=\"token parameter variable\">-rf</span> /root/mysql/data/mysql</pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token function\">rm</span> <span class=\"token parameter variable\">-rf</span> /var/lib/mysql</pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token function\">rm</span> <span class=\"token parameter variable\">-rf</span> /var/lib/mysql/mysql</pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token function\">rm</span> <span class=\"token parameter variable\">-rf</span> /usr/share/mysql</pre></td></tr></table></figure><h5 id=\"5-å†æ¬¡æ‰§è¡Œå‘½ä»¤\"><a class=\"anchor\" href=\"#5-å†æ¬¡æ‰§è¡Œå‘½ä»¤\">#</a> 5ã€å†æ¬¡æ‰§è¡Œå‘½ä»¤</h5>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">rpm</span> <span class=\"token parameter variable\">-qa</span> <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> <span class=\"token parameter variable\">-i</span> mysql</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\">#å¦‚æœæ²¡æœ‰æ˜¾å¼åˆ™è¡¨ç¤ºå¸è½½å®Œæˆ</span></pre></td></tr></table></figure><h4 id=\"2-åˆ é™¤mariadb-libsä¸å¯çœç•¥\"><a class=\"anchor\" href=\"#2-åˆ é™¤mariadb-libsä¸å¯çœç•¥\">#</a> 2ã€åˆ é™¤ mariadb-libs (ä¸å¯çœç•¥)</h4>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># æ£€æŸ¥ mariadb-libs</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">rpm</span> -qa<span class=\"token operator\">|</span><span class=\"token function\">grep</span> mariadb</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\"># å¸è½½ mariadb-libs</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>yum remove mariadb-libs</pre></td></tr></table></figure><h4 id=\"3-å®‰è£…mysql\"><a class=\"anchor\" href=\"#3-å®‰è£…mysql\">#</a> 3ã€å®‰è£… MySQL</h4>\n<h5 id=\"1è¾“å…¥\"><a class=\"anchor\" href=\"#1è¾“å…¥\">#</a> 1ï¼Œè¾“å…¥ï¼š</h5>\n<p>wegt <span class=\"exturl\" data-url=\"aHR0cHM6Ly9kZXYubXlzcWwuY29tL2dldC9teXNxbCVFNyU4OSU4OCVFNiU5QyVBQyVFNSU4RiVCNy1jb21tdW5pdHktcmVsZWFzZS1lbCVFNSVBNCVBNyVFNyU4OSU4OCVFNiU5QyVBQy0lRTUlQjAlOEYlRTclODklODglRTYlOUMlQUMubm9hcmNoLnJwbQ==\">https://dev.mysql.com/get/mysql ç‰ˆæœ¬å· - community-release-el å¤§ç‰ˆæœ¬ - å°ç‰ˆæœ¬.noarch.rpm</span></p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">wget</span> https://dev.mysql.com/get/mysql57-community-release-el5-7.noarch.rpm</pre></td></tr></table></figure><h5 id=\"2-å®‰è£…æ•°æ®æº\"><a class=\"anchor\" href=\"#2-å®‰è£…æ•°æ®æº\">#</a> 2ã€å®‰è£…æ•°æ®æº</h5>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>yum <span class=\"token function\">install</span> <span class=\"token parameter variable\">-y</span> mysql57-community-release-el5-7.noarch.rpm</pre></td></tr></table></figure><h5 id=\"3-æŸ¥çœ‹mysqlæºæ˜¯å¦å®‰è£…æˆåŠŸ\"><a class=\"anchor\" href=\"#3-æŸ¥çœ‹mysqlæºæ˜¯å¦å®‰è£…æˆåŠŸ\">#</a> 3ã€æŸ¥çœ‹ mysql æºæ˜¯å¦å®‰è£…æˆåŠŸ</h5>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>yum repolist enabled <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> <span class=\"token string\">\"mysql.*-community.*\"</span></pre></td></tr></table></figure><h5 id=\"4-å®‰è£…æ•°æ®åº“\"><a class=\"anchor\" href=\"#4-å®‰è£…æ•°æ®åº“\">#</a> 4ã€å®‰è£…æ•°æ®åº“</h5>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>yum <span class=\"token function\">install</span> <span class=\"token parameter variable\">-y</span>  mysql-community-server</pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\"># å¦‚æœè¿‡æœŸå¯ä»¥åœ¨è¿è¡Œå®‰è£…ç¨‹åºä¹‹å‰å¯¼å…¥å¯†é’¥ï¼Œæœ‰äº†å°±ä¸ç”¨äº†</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token function\">rpm</span> <span class=\"token parameter variable\">--import</span> https://repo.mysql.com/RPM-GPG-KEY-mysql-2022</pre></td></tr></table></figure><h5 id=\"5-å¯åŠ¨mysql\"><a class=\"anchor\" href=\"#5-å¯åŠ¨mysql\">#</a> 5ã€å¯åŠ¨ mysql</h5>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># centos7</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>systemctl restart mysqld</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>systemctl status mysqld</pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token comment\"># centos6</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token function\">service</span> mysqld start</pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token function\">service</span> mysqld status</pre></td></tr></table></figure><h5 id=\"6-æ˜¾ç¤ºmysqlçš„éšæœºå¯†ç \"><a class=\"anchor\" href=\"#6-æ˜¾ç¤ºmysqlçš„éšæœºå¯†ç \">#</a> 6ã€æ˜¾ç¤º mysql çš„éšæœºå¯†ç </h5>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">grep</span> <span class=\"token string\">'temporary password'</span> /var/log/mysqld.log</pre></td></tr></table></figure><p><img data-src=\"/2022/10/15/tools-All/image-20220827193405451.png\" class=\"\"></p>\n<h5 id=\"7-ç™»å½•å¹¶ä¿®æ”¹mysqlå¯†ç \"><a class=\"anchor\" href=\"#7-ç™»å½•å¹¶ä¿®æ”¹mysqlå¯†ç \">#</a> 7ã€ç™»å½•å¹¶ä¿®æ”¹ mysql å¯†ç </h5>\n<p>ç™»å½•ï¼šmysql -u root -p   \t\tç„¶åè¾“å…¥ä¸Šé¢ç”Ÿæˆçš„å¯†ç </p>\n<p><strong><em>ä¿®æ”¹è‡ªå®šä¹‰å¯†ç ï¼Œè®¾ç½®æ–°çš„å¯†ç ï¼Œè¿›å…¥æ“ä½œé¡µé¢ï¼Œä¿®æ”¹å¯†ç ç­–ç•¥å¯ä»¥ä¿®æ”¹æˆä½ æƒ³è¦çš„</em></strong></p>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">-- ALTER USER 'root'@'localhost' IDENTIFIED BY ' å¯†ç  ';</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">USER</span> <span class=\"token string\">'root'</span><span class=\"token variable\">@'localhost'</span> IDENTIFIED <span class=\"token keyword\">BY</span> <span class=\"token string\">'Root_21root'</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">USER</span> <span class=\"token string\">'root'</span><span class=\"token variable\">@'localhost'</span> IDENTIFIED <span class=\"token keyword\">BY</span> <span class=\"token string\">'root'</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p><strong><em>å¤±è´¥äº†çš„è¯å°±ä¿®æ”¹ç­–ç•¥ï¼Œå°†ç­–ç•¥é™ä½ä¸€ä¸‹å°±å¯ä»¥äº†</em></strong></p>\n<p>æŸ¥çœ‹å¯†ç ç­–ç•¥ï¼š</p>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">SHOW</span> VARIABLES <span class=\"token operator\">LIKE</span> <span class=\"token string\">'%password%'</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p>ä¿®æ”¹å¯†ç ç­–ç•¥</p>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">-- ä¿®æ”¹å¯†ç é•¿åº¦ï¼šï¼ˆé•¿åº¦ï¼‰</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">set</span> <span class=\"token keyword\">global</span> validate_password_length<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">-- ä¿®æ”¹å¯†ç ç­‰çº§ï¼šï¼ˆç­‰çº§ï¼‰</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">set</span> <span class=\"token keyword\">global</span> validate_password_policy<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><h4 id=\"4-å…¶ä»–é…ç½®\"><a class=\"anchor\" href=\"#4-å…¶ä»–é…ç½®\">#</a> 4ã€å…¶ä»–é…ç½®</h4>\n<h5 id=\"1è¿œç¨‹è¿æ¥\"><a class=\"anchor\" href=\"#1è¿œç¨‹è¿æ¥\">#</a> 1. è¿œç¨‹è¿æ¥</h5>\n<h6 id=\"æ–¹æ³•ä¸€-åˆ›å»ºä¸€ä¸ªç”¨æˆ·-æ”¯æŒè¿œç¨‹è¿æ¥\"><a class=\"anchor\" href=\"#æ–¹æ³•ä¸€-åˆ›å»ºä¸€ä¸ªç”¨æˆ·-æ”¯æŒè¿œç¨‹è¿æ¥\">#</a> æ–¹æ³•ä¸€ã€åˆ›å»ºä¸€ä¸ªç”¨æˆ· æ”¯æŒè¿œç¨‹è¿æ¥</h6>\n<p>â‘ ç™»å½• ï¼šmysql -u root -p</p>\n<p>â‘¡åˆ›å»ºç”¨æˆ·ï¼š create user 'aaa'@'%' identified by '123456';</p>\n<p>â‘¢æˆæƒæ‰€æœ‰æƒé™ç»™ user è¿™ä¸ªæ–°ç”¨æˆ· ï¼šgrant all on <em>.</em> to 'aaa'@'%';</p>\n<p>â‘£é€€å‡º mysqlï¼šquit;</p>\n<h6 id=\"æ–¹æ³•äºŒ-è®¾ç½®rootç”¨æˆ·æ”¯æŒè¿œç¨‹è¿æ¥\"><a class=\"anchor\" href=\"#æ–¹æ³•äºŒ-è®¾ç½®rootç”¨æˆ·æ”¯æŒè¿œç¨‹è¿æ¥\">#</a> æ–¹æ³•äºŒã€è®¾ç½® root ç”¨æˆ·æ”¯æŒè¿œç¨‹è¿æ¥</h6>\n<p>â‘ ç™»å½•ï¼šmysql -u root -p ï¼ˆ æ³¨ï¼šç³»ç»Ÿæç¤ºè¾“å…¥æ•°æ®åº“ root ç”¨æˆ·çš„å¯†ç ï¼Œè¾“å…¥å®Œæˆåå³è¿›å…¥ mysql æ§åˆ¶å°ï¼Œè¿™ä¸ªå‘½ä»¤çš„ç¬¬ä¸€ä¸ª mysql æ˜¯æ‰§è¡Œå‘½ä»¤ï¼Œç¬¬äºŒä¸ª mysql æ˜¯ç³»ç»Ÿæ•°æ®åç§°ï¼Œä¸ä¸€æ ·çš„ã€‚ï¼‰</p>\n<p>â‘¡è®¾ç½®æƒé™ï¼š</p>\n<p>èµ‹äºˆæƒé™æ ¼å¼ï¼š grant æƒé™ on æ•°æ®åº“å¯¹è±¡ to ç”¨æˆ· @IP (æˆ–è€…ç›¸åº”æ­£åˆ™)</p>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">-- æ–°å»ºç”¨æˆ·è§„åˆ™æˆ–è€…ç›´æ¥ä¿®æ”¹ root ç”¨æˆ·çš„è§„åˆ™ ï¼Œ2 é€‰ä¸€</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">use</span> mysql<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\">-- è¿™é‡Œè¡¨ç¤ºèµ‹äºˆè¯¥ç”¨æˆ·æ‰€æœ‰æ•°æ®åº“æ‰€æœ‰è¡¨ï¼ˆ*.* è¡¨ç¤ºæ‰€æœ‰è¡¨ï¼‰ï¼Œ% è¡¨ç¤ºæ‰€æœ‰ IP åœ°å€ã€‚</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">GRANT</span> <span class=\"token keyword\">ALL</span> <span class=\"token keyword\">PRIVILEGES</span> <span class=\"token keyword\">ON</span> <span class=\"token operator\">*</span><span class=\"token punctuation\">.</span><span class=\"token operator\">*</span> <span class=\"token keyword\">TO</span> <span class=\"token string\">'root'</span><span class=\"token variable\">@'%'</span> IDENTIFIED <span class=\"token keyword\">BY</span> <span class=\"token string\">'123456'</span> <span class=\"token keyword\">WITH</span> <span class=\"token keyword\">GRANT</span> <span class=\"token keyword\">OPTION</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token comment\">-- ä½¿ root èƒ½å†ä»»ä½• host è®¿é—®</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">update</span> <span class=\"token keyword\">user</span> <span class=\"token keyword\">set</span> host <span class=\"token operator\">=</span> <span class=\"token string\">'%'</span> <span class=\"token keyword\">where</span> <span class=\"token keyword\">user</span> <span class=\"token operator\">=</span> <span class=\"token string\">'root'</span><span class=\"token punctuation\">;</span>      </pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token comment\">-- åˆ·æ–°</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>FLUSH <span class=\"token keyword\">PRIVILEGES</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p>â‘¢æŸ¥çœ‹ï¼š</p>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">use</span> mysql<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">SELECT</span> HOST<span class=\"token punctuation\">,</span><span class=\"token keyword\">USER</span> <span class=\"token keyword\">FROM</span> <span class=\"token keyword\">USER</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p><img data-src=\"/2022/10/15/tools-All/920952e9041b4af1a8a49eb64e0f4430.jpeg\" class=\"\"></p>\n<p>â‘£é€€å‡º mysqlï¼šquit;</p>\n<h5 id=\"2å¼€æœºè‡ªå¯\"><a class=\"anchor\" href=\"#2å¼€æœºè‡ªå¯\">#</a> 2. å¼€æœºè‡ªå¯</h5>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># å¼€æœºå¯åŠ¨</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>systemctl <span class=\"token builtin class-name\">enable</span> mysql</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\"># å…³é—­è‡ªåŠ¨å¯åŠ¨</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>systemctl disable mysqld</pre></td></tr></table></figure><h3 id=\"2\"><a class=\"anchor\" href=\"#2\">#</a> â€”â€”2</h3>\n<h4 id=\"1-æŸ¥è¯¢é•œåƒ\"><a class=\"anchor\" href=\"#1-æŸ¥è¯¢é•œåƒ\">#</a> 1ã€æŸ¥è¯¢é•œåƒ</h4>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">docker</span> search mysql</pre></td></tr></table></figure><h4 id=\"2-æ‹‰å–é•œåƒ\"><a class=\"anchor\" href=\"#2-æ‹‰å–é•œåƒ\">#</a> 2ã€æ‹‰å–é•œåƒ</h4>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">docker</span> pull mysql:5.7</pre></td></tr></table></figure><h4 id=\"3-æ„å»ºå®¹å™¨\"><a class=\"anchor\" href=\"#3-æ„å»ºå®¹å™¨\">#</a> 3ã€æ„å»ºå®¹å™¨</h4>\n<p>å…ˆè‡ªå·±åˆ›å»ºé…ç½®æ–‡ä»¶åŸºç¡€æ¨¡æ¿ï¼ˆ<strong>è¦æ˜¯åæœŸè¦ä¿®æ”¹é…ç½®æ–‡ä»¶å¿…é¡»åŠ å…¥ æ¨¡æ¿ä¸­çš„ä¸¤ä¸ªå…ƒç´ ï¼Œä¸ç„¶å®¹å™¨å¯åŠ¨ä¼šå‡ºé”™</strong>ï¼‰</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">mkdir</span> <span class=\"token parameter variable\">-p</span> /root/mysql/conf</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">vim</span>  /root/mysql/conf/my.cnf</pre></td></tr></table></figure><p><strong>æ¨¡æ¿å†…å®¹ï¼š</strong></p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># Copyright (c) 2016, 2021, Oracle and/or its affiliates.</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\">#</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\"># This program is free software; you can redistribute it and/or modify</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\"># it under the terms of the GNU General Public License, version 2.0,</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\"># as published by the Free Software Foundation.</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token comment\">#</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\"># This program is also distributed with certain software (including</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token comment\"># but not limited to OpenSSL) that is licensed under separate terms,</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token comment\"># as designated in a particular file or component or in included license</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token comment\"># documentation.  The authors of MySQL hereby grant you an additional</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token comment\"># permission to link the program and your derivative works with the</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token comment\"># separately licensed software that they have included with MySQL.</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token comment\">#</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token comment\"># This program is distributed in the hope that it will be useful,</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token comment\"># but WITHOUT ANY WARRANTY; without even the implied warranty of</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token comment\"># MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token comment\"># GNU General Public License, version 2.0, for more details.</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token comment\">#</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token comment\"># You should have received a copy of the GNU General Public License</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token comment\"># along with this program; if not, write to the Free Software</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token comment\"># Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre></pre></td></tr><tr><td data-num=\"23\"></td><td><pre></pre></td></tr><tr><td data-num=\"24\"></td><td><pre><span class=\"token operator\">!</span>includedir /etc/mysql/conf.d/</pre></td></tr><tr><td data-num=\"25\"></td><td><pre><span class=\"token operator\">!</span>includedir /etc/mysql/mysql.conf.d/</pre></td></tr><tr><td data-num=\"26\"></td><td><pre></pre></td></tr><tr><td data-num=\"27\"></td><td><pre><span class=\"token punctuation\">[</span>mysql<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>default-character-set<span class=\"token operator\">=</span>utf8</pre></td></tr><tr><td data-num=\"29\"></td><td><pre><span class=\"token punctuation\">[</span>mysqld<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre><span class=\"token assign-left variable\">character_set_server</span><span class=\"token operator\">=</span>utf8</pre></td></tr><tr><td data-num=\"31\"></td><td><pre><span class=\"token assign-left variable\">init_connect</span><span class=\"token operator\">=</span><span class=\"token string\">'SET NAMES utf8'</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>lower_case_table_names <span class=\"token operator\">=</span> <span class=\"token number\">1</span></pre></td></tr></table></figure><p><strong>æ„å»ºå®¹å™¨</strong></p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">docker</span> run <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token parameter variable\">-p</span> <span class=\"token number\">3306</span>:3306 <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token parameter variable\">-v</span> /root/mysql/data:/var/lib/mysql <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token parameter variable\">-v</span> /root/mysql/logs:/logs <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token parameter variable\">-v</span> /root/mysql/conf/my.cnf:/etc/mysql/my.cnf <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token parameter variable\">-e</span> <span class=\"token assign-left variable\">MYSQL_ROOT_PASSWORD</span><span class=\"token operator\">=</span>root <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token parameter variable\">--name</span> mysql <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token parameter variable\">--hostname</span> node1 <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token parameter variable\">--restart</span><span class=\"token operator\">=</span>always <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token parameter variable\">-d</span> mysql:5.7</pre></td></tr></table></figure><p><strong>æ³¨</strong>ï¼šå‡ºé”™æ—¶å°†æœ¬åœ°æ˜ å°„æ–‡ä»¶æ£€æŸ¥ä¸€ä¸‹ï¼Œè¦æ˜¯ä¸éœ€è¦é…ç½®ï¼Œåªéœ€æ˜ å°„ç›´æ¥åˆ æ‰å°±å¯ï¼Œä»¥åå†æ”¹é…ç½®æ–‡ä»¶</p>\n<h4 id=\"4-è¿›å…¥å®¹å™¨\"><a class=\"anchor\" href=\"#4-è¿›å…¥å®¹å™¨\">#</a> 4ã€è¿›å…¥å®¹å™¨</h4>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">docker</span> <span class=\"token builtin class-name\">exec</span> <span class=\"token parameter variable\">-it</span> mysql /bin/bash</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>æˆ–è€…</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">docker</span> <span class=\"token builtin class-name\">exec</span> <span class=\"token parameter variable\">-it</span> mysql mysql <span class=\"token parameter variable\">-uroot</span> <span class=\"token parameter variable\">-p</span></pre></td></tr></table></figure><h4 id=\"5-æŸ¥çœ‹è¿œç¨‹è¿æ¥\"><a class=\"anchor\" href=\"#5-æŸ¥çœ‹è¿œç¨‹è¿æ¥\">#</a> 5ã€æŸ¥çœ‹è¿œç¨‹è¿æ¥</h4>\n<p>è¿˜æœ‰ä¸€äº›æ–¹æ³•ä¹Ÿå¯ä»¥è¯•ä¸€ä¸‹</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token number\">1</span>.èµ‹äºˆæƒé™æ ¼å¼ï¼šgrant æƒé™ on æ•°æ®åº“å¯¹è±¡ to ç”¨æˆ·@IP<span class=\"token punctuation\">(</span>æˆ–è€…ç›¸åº”æ­£åˆ™<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>ã€€ã€€ã€€ã€€æ³¨ï¼šå¯ä»¥èµ‹äºˆselect,delete,update,insert,indexç­‰æƒé™ç²¾ç¡®åˆ°æŸä¸€ä¸ªæ•°æ®åº“æŸä¸€ä¸ªè¡¨ã€‚</pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>ã€€ã€€ã€€ã€€GRANT ALL PRIVILEGES ON *.* TO <span class=\"token string\">'ç”¨æˆ·å'</span>@<span class=\"token string\">'%'</span> IDENTIFIED BY <span class=\"token string\">'å¯†ç '</span> WITH GRANT OPTION<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>\t  GRANT ALL PRIVILEGES ON *.* TO <span class=\"token string\">'root'</span>@<span class=\"token string\">'%'</span> IDENTIFIED BY <span class=\"token string\">'123456'</span> WITH GRANT OPTION<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>ã€€ã€€ã€€ã€€è¿™é‡Œè¡¨ç¤ºèµ‹äºˆè¯¥ç”¨æˆ·æ‰€æœ‰æ•°æ®åº“æ‰€æœ‰è¡¨ï¼ˆ*.*è¡¨ç¤ºæ‰€æœ‰è¡¨ï¼‰ï¼Œ%è¡¨ç¤ºæ‰€æœ‰IPåœ°å€ã€‚</pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token number\">2</span>.åˆ·æ–°æƒé™ï¼šFLUSH PRIVILEGES<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token number\">3</span>.æŸ¥çœ‹æƒé™ï¼šselect user,host from mysql.user<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>äºŒ.æ„å¤–</pre></td></tr><tr><td data-num=\"15\"></td><td><pre>ã€€ã€€<span class=\"token number\">1</span>.é…ç½®æ–‡ä»¶ç§æŒ‡å®šäº†blind-addressï¼š</pre></td></tr><tr><td data-num=\"16\"></td><td><pre>ã€€ã€€ã€€ã€€æŸ¥çœ‹Mysqlé…ç½®æ–‡ä»¶ç§ï¼ˆä¸€èˆ¬æ˜¯/etc/my.cnfç§ï¼‰æ˜¯å¦æŒ‡å®šäº†blind-addressï¼Œè¿™è¡¨ç¤ºåªèƒ½æ˜¯æŸä¸ªæˆ–æŸå‡ ä¸ªipèƒ½è¿æ¥ã€‚å¦‚æœæœ‰å°±å°†å®ƒæ³¨é‡Šäº†ï¼Œå‰é¢åŠ <span class=\"token comment\">#å·æ³¨é‡Šã€‚ç„¶åä»å¯ mysqlã€‚</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    ã€€é‡å¯mysqlï¼šservice mysqld restart,å¦‚æœå®‰è£…çš„æ˜¯Mariadbï¼ˆæˆ‘çš„å°±æ˜¯ï¼‰,åˆ™éœ€è¦ä½¿ç”¨systemctl restart mariadb.service</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    ã€€</pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token number\">2</span>.é˜²ç«å¢™çš„åŸå› ï¼š</pre></td></tr><tr><td data-num=\"20\"></td><td><pre>ã€€ã€€ã€€ã€€å¯èƒ½ä¼šæŠ¥ï¼šERROR <span class=\"token number\">2003</span> <span class=\"token punctuation\">(</span>HY000<span class=\"token punctuation\">)</span>: Can<span class=\"token string\">'t connect to MySQL server on '</span>ä½ è¦è¿æ¥çš„IP<span class=\"token string\">' (111)ã€‚</pre></td></tr><tr><td data-num=\"21\"></td><td><pre></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>ã€€ã€€ã€€ã€€åŸå› ï¼š1.å¯èƒ½æ˜¯Mysqlç«¯å£ä¸å¯¹ï¼ˆé»˜è®¤æ˜¯3306ï¼‰ï¼Œåªéœ€åŠ å‚æ•° -P ä½ çš„ç«¯å£æŒ‡å®šå°±è¡Œï¼›</pre></td></tr><tr><td data-num=\"23\"></td><td><pre>ã€€ã€€ã€€ã€€</pre></td></tr><tr><td data-num=\"24\"></td><td><pre>ã€€ã€€ã€€2.è¿˜æœ‰å¯èƒ½æ˜¯æœ‰é˜²ç«å¢™é˜»æ­¢ï¼Œå¯ä»¥é€šè¿‡telnetæ¥æµ‹è¯•ï¼ˆå¯ä»¥ç›´æ¥å…³é—­é˜²ç«å¢™ï¼‰ã€‚</pre></td></tr><tr><td data-num=\"25\"></td><td><pre>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€é˜²ç«å¢™ç›¸å…³å‘½ä»¤ï¼š</pre></td></tr><tr><td data-num=\"26\"></td><td><pre></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ï¼ˆ1ï¼‰æŸ¥çœ‹é˜²ç«å¢™çŠ¶æ€ï¼šservice  iptables statusæˆ–è€…systemctl status firewalldæˆ–è€…firewall-cmd --state</pre></td></tr><tr><td data-num=\"28\"></td><td><pre></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ï¼ˆ2ï¼‰æš‚æ—¶å…³é—­é˜²ç«å¢™ï¼šsystemctl stop firewalldæˆ–è€…service  iptables stopæˆ–è€…systemctl stop firewalld.service</pre></td></tr><tr><td data-num=\"30\"></td><td><pre></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ï¼ˆ3ï¼‰æ°¸ä¹…å…³é—­é˜²ç«å¢™ï¼šsystemctl disable firewalldæˆ–è€…chkconfig iptables offæˆ–è€…systemctl disable firewalld.service</pre></td></tr><tr><td data-num=\"32\"></td><td><pre></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ï¼ˆ4ï¼‰é‡å¯é˜²ç«å¢™ï¼šsystemctl enable firewalldæˆ–è€…service iptables restart  æˆ–è€…systemctl restart firewalld.service</pre></td></tr><tr><td data-num=\"34\"></td><td><pre></pre></td></tr><tr><td data-num=\"35\"></td><td><pre> ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ (5)æ°¸ä¹…å…³é—­åé‡å¯ï¼šchkconfig iptables on</pre></td></tr><tr><td data-num=\"36\"></td><td><pre></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>ã€€ã€€</pre></td></tr><tr><td data-num=\"38\"></td><td><pre></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>ã€€ã€€3.ç«¯å£æœªå¼€å¯ï¼šï¼ˆæˆ‘é‡åˆ°çš„å°±æ˜¯è¿™ä¸ªåŸå› ï¼‰</pre></td></tr><tr><td data-num=\"40\"></td><td><pre>ã€€ã€€ã€€ã€€ã€€ã€€Mysqlï¼šERROR 2003 (HY000) 110ï¼ˆè¿æ¥è¶…æ—¶ï¼‰</pre></td></tr><tr><td data-num=\"41\"></td><td><pre></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>ã€€ã€€ã€€ã€€ã€€ã€€æŸ¥çœ‹ä½ çš„æœåŠ¡å™¨æ˜¯å¦æŠŠå¯¹åº”ç«¯å£æ‰“å¼€ï¼Œæœªæ‰“å¼€å¯åŠ¨å°±è¡Œäº†ã€‚ã€€</pre></td></tr><tr><td data-num=\"43\"></td><td><pre>ã€€ã€€ã€€ã€€ã€€ã€€</pre></td></tr><tr><td data-num=\"44\"></td><td><pre>   4.Navicatè¿æ¥MySQLï¼Œå‡ºç°2059 - authentication plugin '</span>caching_sha2_password<span class=\"token string\">'çš„è§£å†³æ–¹æ¡ˆ</pre></td></tr><tr><td data-num=\"45\"></td><td><pre>  \t</pre></td></tr><tr><td data-num=\"46\"></td><td><pre>  \t0å…ˆè¿›å…¥å®¹å™¨ï¼Œ</pre></td></tr><tr><td data-num=\"47\"></td><td><pre>  \tdocker exec -it mysql mysql -uroot -p</pre></td></tr><tr><td data-num=\"48\"></td><td><pre>  \t</pre></td></tr><tr><td data-num=\"49\"></td><td><pre>  \t1#ä¿®æ”¹åŠ å¯†è§„åˆ™passwordæ˜¯è‡ªå·±çš„å¯†ç ï¼Œrootä¹Ÿæ˜¯ç™»é™†è´¦æˆ·ï¼Œä¸‹åŒã€‚</pre></td></tr><tr><td data-num=\"50\"></td><td><pre>  \tuse mysql;</pre></td></tr><tr><td data-num=\"51\"></td><td><pre>    ALTER USER '</span>root<span class=\"token string\">'@'</span>localhost<span class=\"token string\">' IDENTIFIED BY '</span>root<span class=\"token string\">' PASSWORD EXPIRE NEVER; </pre></td></tr><tr><td data-num=\"52\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"53\"></td><td><pre>\t2 #æ›´æ–°ä¸€ä¸‹ç”¨æˆ·çš„å¯†ç  </pre></td></tr><tr><td data-num=\"54\"></td><td><pre>\tALTER USER '</span>root<span class=\"token string\">'@'</span>localhost<span class=\"token string\">' IDENTIFIED WITH mysql_native_password BY '</span>root<span class=\"token string\">';</pre></td></tr><tr><td data-num=\"55\"></td><td><pre>\t</pre></td></tr><tr><td data-num=\"56\"></td><td><pre>\t3#åˆ·æ–°æƒé™ </pre></td></tr><tr><td data-num=\"57\"></td><td><pre>\tFLUSH PRIVILEGES; </pre></td></tr><tr><td data-num=\"58\"></td><td><pre>\t</pre></td></tr><tr><td data-num=\"59\"></td><td><pre>\t4#æ›´æ–°ä¸€ä¸‹ç”¨æˆ·çš„å¯†ç </pre></td></tr><tr><td data-num=\"60\"></td><td><pre>\tALTER USER '</span>root<span class=\"token string\">'@'</span>%<span class=\"token string\">' IDENTIFIED WITH mysql_native_password BY '</span>root'<span class=\"token punctuation\">;</span></pre></td></tr></table></figure><h3 id=\"21\"><a class=\"anchor\" href=\"#21\">#</a> â€”â€”2.1</h3>\n<p>å‰æå®‰è£…äº† docker-composeï¼Œé…ç½®  docker-comose.yml æ–‡ä»¶</p>\n<p>5.7ï¼š</p>\n<figure class=\"highlight yml\"><figcaption data-lang=\"YAML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token key atrule\">version</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"3.0\"</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token key atrule\">services</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token key atrule\">mysql8</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> mysql<span class=\"token punctuation\">:</span>5.7.32</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token key atrule\">container_name</span><span class=\"token punctuation\">:</span> my_db57</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token key atrule\">restart</span><span class=\"token punctuation\">:</span> always</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token key atrule\">volumes</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>      <span class=\"token punctuation\">-</span> ./db<span class=\"token punctuation\">:</span>/var/lib/mysql</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>      <span class=\"token punctuation\">-</span> ./conf/my.cnf<span class=\"token punctuation\">:</span>/etc/my.cnf</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>      <span class=\"token comment\"># æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬ï¼Œå½“ Mysql å®¹å™¨é¦–æ¬¡å¯åŠ¨æ—¶ï¼Œä¼šåœ¨ /docker-entrypoint-initdb.d ç›®å½•ä¸‹æ‰«æ .shï¼Œ.sqlï¼Œ.sql.gz ç±»å‹çš„æ–‡ä»¶ã€‚å¦‚æœè¿™äº›ç±»å‹çš„æ–‡ä»¶å­˜åœ¨ï¼Œå°†æ‰§è¡Œå®ƒä»¬æ¥åˆå§‹åŒ–ä¸€ä¸ªæ•°æ®åº“ï¼›</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>      <span class=\"token punctuation\">-</span> ./init/<span class=\"token punctuation\">:</span>/docker<span class=\"token punctuation\">-</span>entrypoint<span class=\"token punctuation\">-</span>initdb.d/</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token key atrule\">environment</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>      <span class=\"token punctuation\">-</span> MYSQL_ROOT_PASSWORD=123456</pre></td></tr><tr><td data-num=\"14\"></td><td><pre>      <span class=\"token comment\"># æŒ‡å®šåˆå§‹åŒ– sql æ–‡ä»¶çš„æ•°æ®åº“ï¼Œç®€å•æ¥ä¹¦å°±æ˜¯æ–°å»ºä¸€ä¸ªæ•°æ®åº“</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>      <span class=\"token punctuation\">-</span> MYSQL_DATABASE=my_db</pre></td></tr><tr><td data-num=\"16\"></td><td><pre>      <span class=\"token punctuation\">-</span> TZ=Asia/Shanghai</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token key atrule\">ports</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>      <span class=\"token punctuation\">-</span> 3311<span class=\"token punctuation\">:</span><span class=\"token number\">3306</span></pre></td></tr></table></figure><p>8.0</p>\n<figure class=\"highlight yml\"><figcaption data-lang=\"YAML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token key atrule\">version</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"3.0\"</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token key atrule\">services</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token key atrule\">mysql8</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> mysql<span class=\"token punctuation\">:</span>8.0.25</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token key atrule\">container_name</span><span class=\"token punctuation\">:</span> my_db8</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token key atrule\">restart</span><span class=\"token punctuation\">:</span> always</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token key atrule\">volumes</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>      <span class=\"token punctuation\">-</span> ./db<span class=\"token punctuation\">:</span>/var/lib/mysql</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>      <span class=\"token punctuation\">-</span> ./conf/my.cnf<span class=\"token punctuation\">:</span>/etc/my.cnf</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>      <span class=\"token comment\"># æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬ï¼Œå½“ Mysql å®¹å™¨é¦–æ¬¡å¯åŠ¨æ—¶ï¼Œä¼šåœ¨ /docker-entrypoint-initdb.d ç›®å½•ä¸‹æ‰«æ .shï¼Œ.sqlï¼Œ.sql.gz ç±»å‹çš„æ–‡ä»¶ã€‚å¦‚æœè¿™äº›ç±»å‹çš„æ–‡ä»¶å­˜åœ¨ï¼Œå°†æ‰§è¡Œå®ƒä»¬æ¥åˆå§‹åŒ–ä¸€ä¸ªæ•°æ®åº“ï¼›</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>      <span class=\"token punctuation\">-</span> ./init/<span class=\"token punctuation\">:</span>/docker<span class=\"token punctuation\">-</span>entrypoint<span class=\"token punctuation\">-</span>initdb.d/</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token key atrule\">environment</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>      <span class=\"token punctuation\">-</span> MYSQL_ROOT_PASSWORD=123456</pre></td></tr><tr><td data-num=\"14\"></td><td><pre>      <span class=\"token comment\"># æŒ‡å®šåˆå§‹åŒ– sql æ–‡ä»¶çš„æ•°æ®åº“ï¼Œç®€å•æ¥ä¹¦å°±æ˜¯æ–°å»ºä¸€ä¸ªæ•°æ®åº“</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>      <span class=\"token punctuation\">-</span> MYSQL_DATABASE=my_db</pre></td></tr><tr><td data-num=\"16\"></td><td><pre>      <span class=\"token punctuation\">-</span> TZ=Asia/Shanghai</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token key atrule\">ports</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>      <span class=\"token punctuation\">-</span> 3301<span class=\"token punctuation\">:</span><span class=\"token number\">3306</span></pre></td></tr></table></figure><p>é…ç½®æ–‡ä»¶ my.cnf</p>\n<p>5.7ï¼š</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token punctuation\">[</span>mysql<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\"># è®¾ç½® mysql å®¢æˆ·ç«¯é»˜è®¤å­—ç¬¦é›†</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>default-character-set<span class=\"token operator\">=</span>utf8mb4</pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token punctuation\">[</span>mysqld<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token assign-left variable\">datadir</span><span class=\"token operator\">=</span>/var/lib/mysql</pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token assign-left variable\">socket</span><span class=\"token operator\">=</span>/var/lib/mysql/mysql.sock</pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>symbolic-links<span class=\"token operator\">=</span><span class=\"token number\">0</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>log-error<span class=\"token operator\">=</span>/var/log/mysqld.log</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>pid-file<span class=\"token operator\">=</span>/var/run/mysqld/mysqld.pid</pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token comment\"># æœåŠ¡ç«¯ä½¿ç”¨çš„å­—ç¬¦é›†é»˜è®¤ä¸º 8 æ¯”ç‰¹ç¼–ç çš„ latin1 å­—ç¬¦é›†</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>character-set-server<span class=\"token operator\">=</span>utf8mb4</pre></td></tr><tr><td data-num=\"15\"></td><td><pre></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token comment\"># åˆ›å»ºæ–°è¡¨æ—¶å°†ä½¿ç”¨çš„é»˜è®¤å­˜å‚¨å¼•æ“</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>default-storage-engine<span class=\"token operator\">=</span>INNODB</pre></td></tr></table></figure><p>8.0ï¼š</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token punctuation\">[</span>mysql<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\"># è®¾ç½® mysql å®¢æˆ·ç«¯é»˜è®¤å­—ç¬¦é›†</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>default-character-set<span class=\"token operator\">=</span>utf8mb4</pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token punctuation\">[</span>mysqld<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\"># å…è®¸æœ€å¤§è¿æ¥æ•°</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token assign-left variable\">max_connections</span><span class=\"token operator\">=</span><span class=\"token number\">200</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token comment\"># æœåŠ¡ç«¯ä½¿ç”¨çš„å­—ç¬¦é›†é»˜è®¤ä¸º 8 æ¯”ç‰¹ç¼–ç çš„ latin1 å­—ç¬¦é›†</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>character-set-server<span class=\"token operator\">=</span>utf8mb4</pre></td></tr><tr><td data-num=\"10\"></td><td><pre></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token comment\"># åˆ›å»ºæ–°è¡¨æ—¶å°†ä½¿ç”¨çš„é»˜è®¤å­˜å‚¨å¼•æ“</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>default-storage-engine<span class=\"token operator\">=</span>INNODB</pre></td></tr></table></figure><h3 id=\"é—®é¢˜\"><a class=\"anchor\" href=\"#é—®é¢˜\">#</a> é—®é¢˜</h3>\n<p>1ã€Can't create/write to file '/var/run/mysqld/mysqld.pid</p>\n<p>å»é…ç½®æ–‡ä»¶ä¸­æ‰¾åˆ° errorlog çš„åœ°å€ï¼ŒæŸ¥çœ‹é”™è¯¯æ—¥å¿—</p>\n<p><img data-src=\"/2022/10/15/tools-All/20190602012200812.png\" class=\"\"></p>\n<p>é”™è¯¯åŸå› ä¸ºï¼š/var/run/mysqld/ ç›®å½•çš„æ‹¥æœ‰è€…ä¸º rootï¼Œmysql ä¸èƒ½åœ¨å…¶ä¸­åˆ›å»ºæ–‡ä»¶</p>\n<p>ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ä¿®æ”¹ç›®å½•ä½¿ç”¨è€…</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># å…ˆæŸ¥çœ‹ç›®å½•æ˜¯å¦å­˜åœ¨</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">ls</span> <span class=\"token parameter variable\">-ld</span> /var/run/mysqld/</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\"># æƒé™</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token function\">chown</span> mysql.mysql /var/run/mysqld/</pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\"># ä¿®æ”¹åé‡å¯ mysql æœåŠ¡</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>/etc/init.d/mysqld start</pre></td></tr></table></figure><h2 id=\"fastdfså®‰è£…\"><a class=\"anchor\" href=\"#fastdfså®‰è£…\">#</a> FastDFS å®‰è£…</h2>\n<h3 id=\"1-3\"><a class=\"anchor\" href=\"#1-3\">#</a> â€”â€”1</h3>\n<h4 id=\"1å®‰è£…fastdfsä¾èµ–\"><a class=\"anchor\" href=\"#1å®‰è£…fastdfsä¾èµ–\">#</a> 1. å®‰è£… FastDFS ä¾èµ–</h4>\n<p>FastDFS æ˜¯ C è¯­è¨€å¼€å‘çš„åº”ç”¨ã€‚å®‰è£…å¿…é¡»ä½¿ç”¨ make , cmake å’Œ gcc ç¼–è¯‘å™¨ã€‚</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>yum <span class=\"token function\">install</span> <span class=\"token parameter variable\">-y</span> <span class=\"token function\">make</span> cmake gcc gcc-c++</pre></td></tr></table></figure><h4 id=\"2-ä¸Šä¼ å¹¶è§£å‹libfastcommon-master\"><a class=\"anchor\" href=\"#2-ä¸Šä¼ å¹¶è§£å‹libfastcommon-master\">#</a> 2 ä¸Šä¼ å¹¶è§£å‹ libfastcommon-master</h4>\n<p>â€‹\tä¸Šä¼  libfastcommon-master åˆ° /usr/local/tmp ä¸‹ã€‚ libfastcommon æ˜¯ä» FastDFS å’Œ FastDHT ä¸­æå–å‡ºæ¥çš„å…¬å…± C å‡½æ•°åº“</p>\n<p>â€‹\tè§£å‹ libfastcommon-master.zip ç”±äºæ˜¯ zip æ–‡ä»¶æ‰€ä»¥è¦ä½¿ç”¨ unzip å‘½ä»¤</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token builtin class-name\">cd</span> /usr/local/tmp</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token function\">unzip</span> libfastcommon-master.zip</pre></td></tr></table></figure><h4 id=\"3-ç¼–è¯‘å¹¶å®‰è£…\"><a class=\"anchor\" href=\"#3-ç¼–è¯‘å¹¶å®‰è£…\">#</a> 3 ç¼–è¯‘å¹¶å®‰è£…</h4>\n<p>â€‹\tlibfastcommon æ²¡æœ‰æä¾› make å‘½ä»¤å®‰è£…æ–‡ä»¶ã€‚ä½¿ç”¨çš„æ˜¯ shell è„šæœ¬æ‰§è¡Œç¼–è¯‘å’Œå®‰è£…ã€‚shell è„šæœ¬ä¸º <span class=\"exturl\" data-url=\"aHR0cDovL21ha2Uuc2g=\">make.sh</span></p>\n<p>â€‹\tè¿›å…¥è§£å‹åçš„æ–‡ä»¶</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token builtin class-name\">cd</span> libfastcommon-master</pre></td></tr></table></figure><p>â€‹\tç¼–è¯‘</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>./make.sh</pre></td></tr></table></figure><p>â€‹\tå®‰è£…</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>./make.sh <span class=\"token function\">install</span></pre></td></tr></table></figure><p>â€‹\tæœ‰å›ºå®šçš„é»˜è®¤å®‰è£…ä½ç½®ã€‚åœ¨ /usr/lib64 å’Œ  /usr/include/fastcommon ä¸¤ä¸ªç›®å½•ä¸­</p>\n<h4 id=\"4-åˆ›å»ºè½¯è¿æ¥\"><a class=\"anchor\" href=\"#4-åˆ›å»ºè½¯è¿æ¥\">#</a> 4 åˆ›å»ºè½¯è¿æ¥</h4>\n<p>â€‹\t å› ä¸º FastDFS ä¸»ç¨‹åºè®¾ç½®çš„ lib ç›®å½•æ˜¯ /usr/local/libï¼Œ æ‰€ä»¥éœ€è¦åˆ›å»ºè½¯è¿æ¥</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">ln</span> <span class=\"token parameter variable\">-s</span> /user/lib64/libfastcommon.so /usr/local/lib/libfastcommon.so</pre></td></tr><tr><td data-num=\"2\"></td><td><pre> <span class=\"token function\">ln</span> <span class=\"token parameter variable\">-s</span> /usr/local/lib64/libfdfsclient.so /usr/local/lib/libfdfsclient.so</pre></td></tr></table></figure><h4 id=\"5-ä¸Šä¼ å¹¶è§£å‹fastdfsä¸»ç¨‹åº\"><a class=\"anchor\" href=\"#5-ä¸Šä¼ å¹¶è§£å‹fastdfsä¸»ç¨‹åº\">#</a> 5 ä¸Šä¼ å¹¶è§£å‹ FastDFS ä¸»ç¨‹åº</h4>\n<p>â€‹\t ä¸Šä¼  FastDFS_v5.08.tar.gz åˆ° /usr/local/tmp ä¸‹åè§£å‹</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token builtin class-name\">cd</span> /usr/local/tmp</pre></td></tr><tr><td data-num=\"2\"></td><td><pre> <span class=\"token function\">tar</span> zxf FastDFS_v5.08.tar.gz</pre></td></tr></table></figure><h4 id=\"6-ç¼–è¯‘å¹¶å®‰è£…fastdfs\"><a class=\"anchor\" href=\"#6-ç¼–è¯‘å¹¶å®‰è£…fastdfs\">#</a> 6 ç¼–è¯‘å¹¶å®‰è£… FastDFS</h4>\n<p>â€‹\tè¿›å…¥åˆ°è§£å‹åçš„ FastDFS æ–‡ä»¶ä¸­</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token builtin class-name\">cd</span> FastDFS</pre></td></tr></table></figure><p>â€‹\tç¼–è¯‘</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>./make.sh</pre></td></tr></table></figure><p>â€‹\tå®‰è£…</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>./make.sh <span class=\"token function\">install</span></pre></td></tr></table></figure><p>â€‹\tå®‰è£…å FastDFS ä¸»ç¨‹åºæ‰€åœ¨çš„ä½ç½®æ˜¯</p>\n<p>â€‹\t/usr/bin  å¯æ‰§è¡Œæ–‡ä»¶æ‰€åœ¨çš„ä½ç½®</p>\n<p>â€‹\t/etc/fdfs  é…ç½®æ–‡ä»¶æ‰€åœ¨çš„ä½ç½®</p>\n<p>â€‹\t/usr/bin  ä¸»ç¨‹åºä»£ç æ‰€åœ¨ä½ç½®</p>\n<p>â€‹\t/usr/include/fastdfs åŒ…å«ä¸€äº›æ’ä»¶ç»„æ‰€åœ¨çš„ä½ç½®</p>\n<h4 id=\"7-é…ç½®tracker\"><a class=\"anchor\" href=\"#7-é…ç½®tracker\">#</a> 7 é…ç½® tracker</h4>\n<h5 id=\"71-å¤åˆ¶é…ç½®æ–‡ä»¶\"><a class=\"anchor\" href=\"#71-å¤åˆ¶é…ç½®æ–‡ä»¶\">#</a> 7.1 å¤åˆ¶é…ç½®æ–‡ä»¶</h5>\n<p>â€‹\tè¿›å…¥åˆ° /etc/fdfs ä¸­ ï¼Œ æŠŠ tracker é…ç½®æ–‡ä»¶å¤åˆ¶ä¸€ä»½</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token builtin class-name\">cd</span> /etc/fdfs</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token function\">cp</span> tracker.conf.sample tracker.conf</pre></td></tr></table></figure><h5 id=\"72-åˆ›å»ºæ•°æ®ç›®å½•\"><a class=\"anchor\" href=\"#72-åˆ›å»ºæ•°æ®ç›®å½•\">#</a> 7.2 åˆ›å»ºæ•°æ®ç›®å½•</h5>\n<p>â€‹\tåˆ›å»ºæ”¾ç½® tracker æ•°æ®çš„ç›®å½•</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">mkdir</span> <span class=\"token parameter variable\">-p</span> /usr/local/fastdfs/tracker</pre></td></tr></table></figure><h5 id=\"73-ä¿®æ”¹é…ç½®æ–‡ä»¶\"><a class=\"anchor\" href=\"#73-ä¿®æ”¹é…ç½®æ–‡ä»¶\">#</a> 7.3 ä¿®æ”¹é…ç½®æ–‡ä»¶</h5>\n<p>â€‹\tä¿®æ”¹ tracker.conf è®¾ç½® tracker å†…å®¹å­˜å‚¨ç›®å½•</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token assign-left variable\">base_path</span><span class=\"token operator\">=</span>/usr/local/fastdfs/tracker</pre></td></tr><tr><td data-num=\"2\"></td><td><pre> <span class=\"token function\">vim</span> tracker.conf</pre></td></tr></table></figure><p>é»˜è®¤ç«¯å£ 22122   ä¸éœ€è¦ä¿®æ”¹</p>\n<h5 id=\"74-å¯åŠ¨æœåŠ¡\"><a class=\"anchor\" href=\"#74-å¯åŠ¨æœåŠ¡\">#</a> 7.4 å¯åŠ¨æœåŠ¡</h5>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">service</span> fdfs_trackerd start</pre></td></tr></table></figure><p>â€‹\tå¯åŠ¨æˆåŠŸåï¼Œ é…ç½®æ–‡ä»¶ä¸­ base_path æŒ‡å‘çš„ç›®å½•å‡ºç° FastDFS æœåŠ¡ç›¸å…³æ•°æ®ç›®å½• (data ç›®å½•ï¼Œ logs ç›®å½•)</p>\n<h5 id=\"75-æŸ¥çœ‹æœåŠ¡è¿è¡ŒçŠ¶æ€\"><a class=\"anchor\" href=\"#75-æŸ¥çœ‹æœåŠ¡è¿è¡ŒçŠ¶æ€\">#</a> 7.5 æŸ¥çœ‹æœåŠ¡è¿è¡ŒçŠ¶æ€</h5>\n<pre><code>  service fdfs_trackerd status\n</code></pre>\n<p>â€‹\tå¦‚æœæ˜¾ç¤º is running è¡¨ç¤ºæ­£å¸¸è¿è¡Œã€‚</p>\n<h5 id=\"76-å…³é—­é˜²ç«å¢™\"><a class=\"anchor\" href=\"#76-å…³é—­é˜²ç«å¢™\">#</a> 7.6 å…³é—­é˜²ç«å¢™</h5>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">service</span> iptables stop</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token function\">chkconfig</span> iptables off</pre></td></tr></table></figure><h4 id=\"8-é…ç½®storage\"><a class=\"anchor\" href=\"#8-é…ç½®storage\">#</a> 8 é…ç½® storage</h4>\n<p>storage å¯ä»¥å’Œ tracker ä¸åœ¨åŒä¸€å°æœåŠ¡å™¨ä¸Šã€‚ç¤ºä¾‹ä¸­æŠŠ storage å’Œ tracker å®‰è£…åœ¨åŒä¸€å°æœåŠ¡å™¨ä¸Šäº†ã€‚</p>\n<h5 id=\"81-å¤åˆ¶é…ç½®æ–‡ä»¶\"><a class=\"anchor\" href=\"#81-å¤åˆ¶é…ç½®æ–‡ä»¶\">#</a> 8.1 å¤åˆ¶é…ç½®æ–‡ä»¶</h5>\n<p>â€‹\tè¿›å…¥åˆ° /etc/fdfs, æŠŠ storage é…ç½®æ–‡ä»¶å¤åˆ¶ä¸€ä»½</p>\n<pre><code> cd /etc/fdfs\n cp storage.conf.sample storage.conf\n</code></pre>\n<h5 id=\"82-åˆ›å»ºç›®å½•\"><a class=\"anchor\" href=\"#82-åˆ›å»ºç›®å½•\">#</a> 8.2 åˆ›å»ºç›®å½•</h5>\n<p>â€‹\t åˆ›å»ºä¸¤ä¸ªç›®å½•ï¼Œ æŠŠ base ç”¨äºå­˜å‚¨åŸºç¡€æ•°æ®å’Œæ—¥å¿—ï¼Œstore ç”¨äºå­˜å‚¨ä¸Šä¼ æ•°æ®ã€‚</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">mkdir</span> <span class=\"token parameter variable\">-p</span> /usr/local/fastdfs/storage/base</pre></td></tr><tr><td data-num=\"2\"></td><td><pre> <span class=\"token function\">mkdir</span> <span class=\"token parameter variable\">-p</span> /usr/local/fastdfs/storage/store</pre></td></tr></table></figure><h5 id=\"83-ä¿®æ”¹é…ç½®æ–‡ä»¶\"><a class=\"anchor\" href=\"#83-ä¿®æ”¹é…ç½®æ–‡ä»¶\">#</a> 8.3 ä¿®æ”¹é…ç½®æ–‡ä»¶</h5>\n<p>â€‹\tstorage.conf é…ç½®æ–‡ä»¶ç”¨äºæè¿°å­˜å‚¨æœåŠ¡çš„è¡Œä¸ºï¼Œéœ€è¦è¿›è¡Œä¸‹è¿°ä¿®æ”¹</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">vim</span> /etc/fdfs/storage.conf</pre></td></tr></table></figure><p>â€‹\té…ç½®å†…å®¹å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token assign-left variable\">base_path</span><span class=\"token operator\">=</span>/usr/local/fastdfs/storage/base</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token assign-left variable\">store_path0</span><span class=\"token operator\">=</span>/usr/local/fastdfs/storage/store</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token assign-left variable\">tracker_server</span><span class=\"token operator\">=</span>tracker æœåŠ¡IPï¼š22122</pre></td></tr></table></figure><p>â€‹\tbase_path - åŸºç¡€è·¯å¾„ã€‚ç”¨äºä¿å­˜ storage server åŸºç¡€æ•°æ®å†…å®¹å’Œæ—¥å¿—å†…å®¹çš„ç›®å½•ã€‚</p>\n<p>â€‹\tstore_path0 - å­˜å‚¨è·¯å¾„ã€‚æ˜¯ç”¨äºä¿å­˜ FastDFS ä¸­å­˜å‚¨æ–‡ä»¶çš„ç›®å½•ï¼Œå°±æ˜¯è¦åˆ›å»º 256*256 ä¸ªå­ç›®å½•çš„ä½ç½®ã€‚</p>\n<p>â€‹\tbase_path å’Œ store_path0 å¯ä»¥ä½¿ç”¨åŒä¸€ä¸ªç›®å½•ã€‚</p>\n<p>â€‹\ttracker_server - è·Ÿè¸ªæœåŠ¡å™¨ä½ç½®ã€‚å°±æ˜¯è·Ÿè¸ªæœåŠ¡å™¨çš„ IP å’Œç«¯å£ã€‚</p>\n<p>â€‹\tå¯åŠ¨æœåŠ¡</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">service</span> fdfs_storaged start</pre></td></tr></table></figure><p>â€‹\tå¯åŠ¨æˆåŠŸåï¼Œé…ç½®æ–‡ä»¶ä¸­ base_path æŒ‡å‘çš„ç›®å½•ä¸­å‡ºç° FastDFS æœåŠ¡ç›¸å…³æ•°æ®ç›®å½•ï¼ˆdata ç›®å½•ã€logs ç›®å½•ï¼‰é…ç½®æ–‡ä»¶ä¸­çš„ store_path0 æŒ‡å‘çš„ç›®å½•ä¸­åŒæ ·å‡ºç° FastDFS å­˜å‚¨ç›¸å…³æ•°æ®å½•ï¼ˆdata ç›®å½•ï¼‰ã€‚å…¶ä¸­ $store_path0/data/ ç›®å½•ä¸­é»˜è®¤åˆ›å»ºè‹¥å¹²å­å­™ç›®å½•ï¼ˆä¸¤çº§ç›®å½•å±‚çº§æ€»è®¡ 256*256 ä¸ªç›®å½•ï¼‰ï¼Œæ˜¯ç”¨äºå­˜å‚¨å…·ä½“æ–‡ä»¶æ•°æ®çš„ã€‚</p>\n<p>â€‹\tStorage æœåŠ¡å™¨å¯åŠ¨æ¯”è¾ƒæ…¢ï¼Œå› ä¸ºç¬¬ä¸€æ¬¡å¯åŠ¨çš„æ—¶å€™ï¼Œéœ€è¦åˆ›å»º 256*256 ä¸ªç›®å½•ã€‚</p>\n<p>â€‹\tæŸ¥çœ‹å¯åŠ¨çŠ¶æ€</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">service</span> fdfs_storaged status</pre></td></tr></table></figure><h3 id=\"2-2\"><a class=\"anchor\" href=\"#2-2\">#</a> â€”â€”2</h3>\n<p><img data-src=\"/2022/10/15/tools-All/b60ca697c06d4425b7cd228b98dc3d19.png\" class=\"\"></p>\n<p>â€ƒâ€ƒFastDFS çš„å®‰è£…æˆ‘ä»¬è¿˜æ˜¯é€šè¿‡ Docker æ¥å®‰è£…å®ç°å§ï¼Œç›´æ¥åœ¨ Linux ä¸Šè¿˜è£…è¿˜æ˜¯æ¯”è¾ƒç¹ççš„ï¼Œä½†å°±å­¦ä¹ è€Œè¨€ Docker å®‰è£…è¿˜æ˜¯éå¸¸é«˜æ•ˆçš„ã€‚Docker ç¯å¢ƒè¯·è‡ªè¡Œå®‰è£…å“¦ï¼Œä¸æ¸…æ¥šçš„å¯ä»¥çœ‹çœ‹æˆ‘çš„ Docker ä¸“é¢˜çš„å†…å®¹ã€‚<a href=\"Docker%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99\" title=\"Dockerå­¦ä¹ èµ„æ–™\">https://blog.csdn.net/qq_38526573/category_9619681.html</a></p>\n<h4 id=\"1æ‹‰å–é•œåƒæ–‡ä»¶\"><a class=\"anchor\" href=\"#1æ‹‰å–é•œåƒæ–‡ä»¶\">#</a> 1. æ‹‰å–é•œåƒæ–‡ä»¶</h4>\n<p>â€ƒâ€ƒé¦–å…ˆæˆ‘ä»¬å¯ä»¥é€šè¿‡  <code>docker search fastdfs</code>  æ¥æŸ¥è¯¢ä¸‹æœ‰å“ªäº›é•œåƒæ–‡ä»¶ã€‚</p>\n<p><img data-src=\"/2022/10/15/tools-All/5a06a59eb24d4f9e847a4badeef871ac.png\" class=\"\"></p>\n<p>â€ƒâ€ƒæˆ‘ä»¬çœ‹åˆ°æœç´¢åˆ°çš„é•œåƒè¿˜æ˜¯è›®å¤šçš„ï¼Œè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨  <code>delron/fastdfs</code>  ä½ ä¹Ÿå¯ä»¥å°è¯•ä½¿ç”¨å…¶ä»–çš„é•œåƒæ¥å®‰è£…ï¼Œä½ ä¹Ÿå¯ä»¥åˆ¶ä½œè‡ªå·±çš„é•œåƒæ¥ç»™åˆ«äººä½¿ç”¨å“¦ï¼Œåªæ˜¯ä¸åŒçš„é•œåƒåœ¨ä½¿ç”¨çš„æ—¶å€™é…ç½®ä¼šæœ‰ä¸€äº›ä¸ä¸€æ ·ï¼Œæœ‰äº›é•œåƒæ²¡æœ‰æä¾› Nginx çš„ç›¸å…³é…ç½®ï¼Œä½¿ç”¨çš„æ—¶å€™ä¼šç¹çä¸€ç‚¹ã€‚æ¥ä¸‹æ¥é€šè¿‡  <code>docker pull delron/fastdfs</code>  å‘½ä»¤æŠŠé•œåƒæ‹‰å–ä¸‹æ¥ã€‚</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">docker</span> pull delron/fastdfs</pre></td></tr></table></figure><p><img data-src=\"/2022/10/15/tools-All/5e5b85b3dc9a432abf615b27868fc7bf.png\" class=\"\"></p>\n<h4 id=\"2æ„å»ºtrackeræœåŠ¡\"><a class=\"anchor\" href=\"#2æ„å»ºtrackeræœåŠ¡\">#</a> 2. æ„å»º Tracker æœåŠ¡</h4>\n<p>â€ƒâ€ƒé¦–å…ˆæˆ‘ä»¬éœ€è¦é€šè¿‡ Docker å‘½ä»¤æ¥åˆ›å»º Tracker æœåŠ¡ã€‚å‘½ä»¤ä¸º</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">docker</span> run <span class=\"token parameter variable\">-d</span> <span class=\"token parameter variable\">--name</span> tracker <span class=\"token parameter variable\">--network</span><span class=\"token operator\">=</span>host <span class=\"token parameter variable\">-v</span> /mydata/fastdfs/tracker:/var/fdfs delron/fastdfs tracker</pre></td></tr></table></figure><p>â€ƒâ€ƒtracker æœåŠ¡é»˜è®¤çš„ç«¯å£ä¸º 22122ï¼Œ-v å®ç°äº†å®¹å™¨å’Œæœ¬åœ°ç›®å½•çš„æŒ‚è½½æ“ä½œã€‚</p>\n<p><img data-src=\"/2022/10/15/tools-All/694d42632bf6410a806df9aa43e836c0.png\" class=\"\"></p>\n<h4 id=\"3æ„å»ºstorageæœåŠ¡\"><a class=\"anchor\" href=\"#3æ„å»ºstorageæœåŠ¡\">#</a> 3. æ„å»º Storage æœåŠ¡</h4>\n<p>â€ƒâ€ƒæ¥ä¸‹æ¥åˆ›å»º Storage æœåŠ¡ï¼Œå…·ä½“çš„æ‰§è¡Œå‘½ä»¤å¦‚ä¸‹</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">docker</span> run <span class=\"token parameter variable\">-d</span> <span class=\"token parameter variable\">--name</span> storage <span class=\"token parameter variable\">--network</span><span class=\"token operator\">=</span>host  <span class=\"token parameter variable\">-e</span> <span class=\"token assign-left variable\">TRACKER_SERVER</span><span class=\"token operator\">=</span><span class=\"token number\">192.168</span>.1.195:22122 <span class=\"token parameter variable\">-v</span> /mydata/fastdfs/storage:/var/fdfs <span class=\"token parameter variable\">-e</span> <span class=\"token assign-left variable\">GROUP_NAME</span><span class=\"token operator\">=</span>group1 delron/fastdfs storage</pre></td></tr></table></figure><p>â€ƒâ€ƒåœ¨æ‰§è¡Œä¸Šé¢å‘½ä»¤çš„æ—¶å€™è¦æ³¨æ„å¯¹åº”çš„ä¿®æ”¹ä¸‹ï¼Œå…¶ä¸­ TRACKER_SERVER ä¸­çš„ ip è¦ä¿®æ”¹ä¸ºä½ çš„ Tracker æœåŠ¡æ‰€åœ¨çš„æœåŠ¡ IP åœ°å€ã€‚</p>\n<p><img data-src=\"/2022/10/15/tools-All/dc2bdf85d0f24fe18a32efbe4caa2d27.png\" class=\"\"></p>\n<p>â€ƒâ€ƒé»˜è®¤æƒ…å†µä¸‹åœ¨ Storage æœåŠ¡ä¸­æ˜¯å¸®æˆ‘ä»¬å®‰è£…äº† Nginx æœåŠ¡çš„ï¼Œç›¸å…³çš„ç«¯å£ä¸º</p>\n<table>\n<thead>\n<tr>\n<th>æœåŠ¡</th>\n<th>é»˜è®¤ç«¯å£</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>tracker</td>\n<td>22122</td>\n</tr>\n<tr>\n<td>storage</td>\n<td>23000</td>\n</tr>\n<tr>\n<td>Nginx</td>\n<td>8888</td>\n</tr>\n</tbody>\n</table>\n<p>â€ƒâ€ƒå½“ç„¶å¦‚æœä½ å‘ç°è¿™äº›ç›¸å…³çš„ç«¯å£è¢«å ç”¨äº†ï¼Œæˆ–è€…æƒ³è¦å¯¹åº”çš„ä¿®æ”¹ç«¯å£ä¿¡æ¯ä¹Ÿå¯ä»¥çš„ã€‚è¦ä¿®æ”¹ä½ å¯ä»¥å…ˆè¿›å…¥å®¹å™¨ä¸­æŸ¥çœ‹ä¸‹ç›¸å…³çš„é…ç½®æ–‡ä»¶ä¿¡æ¯ã€‚</p>\n<p><img data-src=\"/2022/10/15/tools-All/da5cc21445e840baa85580ba420db94d.png\" class=\"\"></p>\n<p>â€ƒâ€ƒç„¶åæŸ¥çœ‹ storage.conf æ–‡ä»¶</p>\n<p><img data-src=\"/2022/10/15/tools-All/63862499980b408195291de047048566.png\" class=\"\"></p>\n<p>â€ƒâ€ƒè¿™ä¸ªæ˜¯ storage ç›‘å¬çš„ Nginx çš„ç«¯å£ 8888ï¼Œå¦‚æœè¦ä¿®æ”¹é‚£ä¹ˆæˆ‘ä»¬è¿˜éœ€è¦ä¿®æ”¹ Nginx ä¸­çš„æœåŠ¡é…ç½®ï¼Œè¿™å—çš„é…ç½®åœ¨  <code>/usr/local/nginx/conf</code>  ç›®å½•ä¸‹</p>\n<p><img data-src=\"/2022/10/15/tools-All/f866c08177be4fd48bfd9a582ec78779.png\" class=\"\"></p>\n<p>â€ƒâ€ƒæŸ¥çœ‹ä¸‹æ–‡ä»¶</p>\n<p><img data-src=\"/2022/10/15/tools-All/dc7c5888363a400b9308f3ba64cca9ac.png\" class=\"\"></p>\n<p>æ‰€ä»¥è¦ä¿®æ”¹ç«¯å£å·çš„è¯ï¼Œè¿™ä¸¤ä¸ªä½ç½®éƒ½å¾—ä¿®æ”¹äº†ã€‚å½“ç„¶æœ¬æ–‡æˆ‘ä»¬å°±ä½¿ç”¨é»˜è®¤çš„ç«¯å£å·æ¥ä½¿ç”¨äº†ã€‚</p>\n<h4 id=\"4æµ‹è¯•å›¾ç‰‡ä¸Šä¼ \"><a class=\"anchor\" href=\"#4æµ‹è¯•å›¾ç‰‡ä¸Šä¼ \">#</a> 4. æµ‹è¯•å›¾ç‰‡ä¸Šä¼ </h4>\n<p>â€ƒâ€ƒå¥½äº†ï¼Œå®‰è£…æˆ‘ä»¬å·²ç»å®Œæˆäº†ï¼Œé‚£ä¹ˆåˆ°åº•æ˜¯å¦å¯ä»¥ä½¿ç”¨å‘¢ï¼Ÿæˆ‘ä»¬æ¥æµ‹è¯•ä¸‹ã€‚é¦–å…ˆåœ¨è™šæ‹Ÿæœºçš„ /mydata/fastdfs/storage ä¸‹ä¿å­˜ä¸€å¼ å›¾ç‰‡ã€‚</p>\n<p><img data-src=\"/2022/10/15/tools-All/ff2ea2626bb34acd810fbb8d9438129a.png\" class=\"\"></p>\n<p>â€ƒâ€ƒç„¶åæˆ‘ä»¬å†è¿›å…¥åˆ° storage å®¹å™¨ä¸­ã€‚å¹¶ä¸”è¿›å…¥åˆ°  <code>/var/fdfs</code>  ç›®å½•ä¸‹ï¼Œå¯ä»¥çœ‹åˆ°æˆ‘ä»¬æŒ‚è½½çš„æ–‡ä»¶äº†</p>\n<p><img data-src=\"/2022/10/15/tools-All/cb8a96fb9bb644328880ca70378a7fc2.png\" class=\"\"></p>\n<p>â€ƒâ€ƒç„¶åæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å³å¯å®Œæˆå›¾ç‰‡çš„ä¸Šä¼ æ“ä½œ</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>/usr/bin/fdfs_upload_file /etc/fdfs/client.conf <span class=\"token number\">1</span>.jpg</pre></td></tr></table></figure><p><img data-src=\"/2022/10/15/tools-All/0fd0e82898bb45178eca4eef9a412745.png\" class=\"\"></p>\n<p>â€ƒâ€ƒé€šè¿‡ä¸Šé¢çš„æç¤ºæˆ‘ä»¬çœ‹åˆ°æ–‡ä»¶ä¸Šä¼ æˆåŠŸäº†ï¼Œè€Œä¸”è¿”å›äº†æ–‡ä»¶åœ¨ storage ä¸­å­˜å‚¨çš„ä¿¡æ¯ã€‚è¿™æ—¶æˆ‘ä»¬å°±å¯ä»¥é€šè¿‡è¿™ä¸ªä¿¡æ¯æ¥æ‹¼æ¥è®¿é—®çš„åœ°å€åœ¨æµè§ˆå™¨ä¸­è®¿é—®äº†ï¼š<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguNTYuMTAwOjg4ODgvZ3JvdXAxL00wMC8wMC8wMC93S2c0WkdIY0tMU0FYaWJhQUFlek11VXJsUzgyMzUuanBn\">http://192.168.56.100:8888/group1/M00/00/00/wKg4ZGHcKLSAXibaAAezMuUrlS8235.jpg</span></p>\n<p><img data-src=\"/2022/10/15/tools-All/b34e823e956f410297bfd1218ebc0231.png\" class=\"\"></p>\n<p>â€ƒâ€ƒå¥½äº†åˆ°è¿™å„¿ FastDFS çš„æœåŠ¡å®‰è£…æˆåŠŸäº†ã€‚</p>\n<p>&lt;div name=&quot;nginx_install_1&quot; &gt;&lt;/div&gt;</p>\n<h2 id=\"nginxå®‰è£…\"><a class=\"anchor\" href=\"#nginxå®‰è£…\">#</a> nginx å®‰è£…</h2>\n<p>&lt;div name=&quot;nginx_install_2&quot;&gt;</p>\n<h3 id=\"2-3\"><a class=\"anchor\" href=\"#2-3\">#</a> â€”â€”2</h3>\n<h4 id=\"1-æ‹‰å–é•œåƒ\"><a class=\"anchor\" href=\"#1-æ‹‰å–é•œåƒ\">#</a> 1ã€æ‹‰å–é•œåƒ</h4>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">docker</span> pull nginx:1.16.1</pre></td></tr></table></figure><h4 id=\"2-åˆ›å»ºæŒ‚è½½æ•°æ®å·\"><a class=\"anchor\" href=\"#2-åˆ›å»ºæŒ‚è½½æ•°æ®å·\">#</a> 2ã€åˆ›å»ºæŒ‚è½½æ•°æ®å·</h4>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">mkdir</span> <span class=\"token parameter variable\">-p</span> /root/nginx/conf</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">vim</span> /root/nginx/conf/nginx.conf</pre></td></tr></table></figure><p><code>nginx.confå†…å®¹ï¼š</code></p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>user  root<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>worker_processes  auto<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre> </pre></td></tr><tr><td data-num=\"4\"></td><td><pre>error_log  /var/log/nginx/error.log warn<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>pid        /var/run/nginx.pid<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre> </pre></td></tr><tr><td data-num=\"7\"></td><td><pre> </pre></td></tr><tr><td data-num=\"8\"></td><td><pre>events <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    worker_connections  <span class=\"token number\">1024</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre> </pre></td></tr><tr><td data-num=\"12\"></td><td><pre> </pre></td></tr><tr><td data-num=\"13\"></td><td><pre>http <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    include       /etc/nginx/mime.types<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    default_type  application/octet-stream<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre> </pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    log_format  main  <span class=\"token string\">'$remote_addr - $remote_user [$time_local] \"$request\" '</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>                      <span class=\"token string\">'$status $body_bytes_sent \"$http_referer\" '</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>                      <span class=\"token string\">'\"$http_user_agent\" \"$http_x_forwarded_for\"'</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre> </pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    access_log  /var/log/nginx/access.log  main<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre> </pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    sendfile        on<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token comment\">#tcp_nopush     on;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre> </pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    keepalive_timeout  <span class=\"token number\">65</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre> </pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    <span class=\"token comment\">#gzip  on;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"30\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"31\"></td><td><pre>    server <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>    \tlisten       <span class=\"token number\">80</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>    \tserver_name  localhost<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>    \t<span class=\"token comment\">#charset koi8-r;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>    \t<span class=\"token comment\">#access_log  /var/log/nginx/host.access.log  main;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>    \tlocation / <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>        \troot   /usr/share/nginx/html<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>        \tindex  index.html index.htm<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>    \t<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>    \t<span class=\"token comment\">#error_page  404              /404.html;</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>    \t<span class=\"token comment\"># redirect server error pages to the static page /50x.html</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>    \terror_page   <span class=\"token number\">500</span> <span class=\"token number\">502</span> <span class=\"token number\">503</span> <span class=\"token number\">504</span>  /50x.html<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>    \tlocation <span class=\"token operator\">=</span> /50x.html <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>        \troot   /usr/share/nginx/html<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>    \t<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>   </pre></td></tr><tr><td data-num=\"52\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h4 id=\"3-åˆ›å»ºå®¹å™¨\"><a class=\"anchor\" href=\"#3-åˆ›å»ºå®¹å™¨\">#</a> 3ã€åˆ›å»ºå®¹å™¨</h4>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># æ³¨æ„ ip ä¸€å®šè¦ä¸æ£€æµ‹ ip ç›¸åŒ</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">docker</span> run <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token parameter variable\">-p</span> <span class=\"token number\">80</span>:80 <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token parameter variable\">--name</span> nginx  <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token parameter variable\">-v</span> /root/nginx/conf/nginx.conf:/etc/nginx/nginx.conf <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token parameter variable\">-d</span> nginx:1.16.1</pre></td></tr></table></figure><h4 id=\"4-æŸ¥çœ‹\"><a class=\"anchor\" href=\"#4-æŸ¥çœ‹\">#</a> 4ã€æŸ¥çœ‹</h4>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">docker</span> <span class=\"token function\">ps</span></pre></td></tr></table></figure><h2 id=\"zookeeperå®‰è£…\"><a class=\"anchor\" href=\"#zookeeperå®‰è£…\">#</a> Zookeeper å®‰è£…</h2>\n<h3 id=\"1-4\"><a class=\"anchor\" href=\"#1-4\">#</a> â€”â€”1</h3>\n<h4 id=\"1-zookeeperç®€ä»‹\"><a class=\"anchor\" href=\"#1-zookeeperç®€ä»‹\">#</a> 1     Zookeeper ç®€ä»‹</h4>\n<p>â€‹\tzookeeper åˆ†å¸ƒå¼ç®¡ç†è½¯ä»¶ã€‚å¸¸ç”¨å®ƒåšæ³¨å†Œä¸­å¿ƒï¼ˆä¾èµ– zookeeper çš„å‘å¸ƒ / è®¢é˜…åŠŸèƒ½ï¼‰ã€é…ç½®æ–‡ä»¶ä¸­å¿ƒã€åˆ†å¸ƒå¼é”é…ç½®ã€é›†ç¾¤ç®¡ç†ç­‰ã€‚</p>\n<p>â€‹\tzookeeper ä¸€å…±å°±æœ‰ä¸¤ä¸ªç‰ˆæœ¬ã€‚ä¸»è¦ä½¿ç”¨çš„æ˜¯ java è¯­è¨€å†™çš„ã€‚</p>\n<h4 id=\"2-å®‰è£…\"><a class=\"anchor\" href=\"#2-å®‰è£…\">#</a> 2     å®‰è£…</h4>\n<h5 id=\"21-ä¸Šä¼ å‹ç¼©æ–‡ä»¶\"><a class=\"anchor\" href=\"#21-ä¸Šä¼ å‹ç¼©æ–‡ä»¶\">#</a> 2.1   ä¸Šä¼ å‹ç¼©æ–‡ä»¶</h5>\n<p>â€‹\tä¸Šä¼ åˆ° /usr/local/tmp ä¸­</p>\n<h4 id=\"22-è§£å‹\"><a class=\"anchor\" href=\"#22-è§£å‹\">#</a> 2.2   è§£å‹</h4>\n<pre><code> tar zxf apache-zookeeper-3.5.5-bin.tar.gz\n cp -r apache-zookeeper-3.5.5-bin ../zookeeper\n</code></pre>\n<h4 id=\"23-æ–°å»ºdataç›®å½•\"><a class=\"anchor\" href=\"#23-æ–°å»ºdataç›®å½•\">#</a> 2.3   æ–°å»º data ç›®å½•</h4>\n<p>è¿›å…¥åˆ° zookeeper ä¸­</p>\n<pre><code> cd /usr/local/zookeeper\n mkdir data\n</code></pre>\n<h4 id=\"24-ä¿®æ”¹é…ç½®æ–‡ä»¶\"><a class=\"anchor\" href=\"#24-ä¿®æ”¹é…ç½®æ–‡ä»¶\">#</a> 2.4   ä¿®æ”¹é…ç½®æ–‡ä»¶</h4>\n<p>è¿›å…¥ conf ä¸­</p>\n<pre><code> cd conf\n cp zoo_sample.cfg zoo.cfg\n vim zoo.cfg\n</code></pre>\n<p>ä¿®æ”¹ dataDir ä¸º data æ–‡ä»¶å¤¹è·¯å¾„</p>\n<pre><code>dataDir=/usr/local/zookeeper/data\n</code></pre>\n<h4 id=\"25-å¯åŠ¨zookeeper\"><a class=\"anchor\" href=\"#25-å¯åŠ¨zookeeper\">#</a> 2.5   å¯åŠ¨ zookeeper</h4>\n<p>è¿›å…¥ bin æ–‡ä»¶å¤¹</p>\n<pre><code> cd /usr/local/zookeeper/bin\n ./zkServer.sh start\n</code></pre>\n<p>é€šè¿‡ status æŸ¥çœ‹å¯åŠ¨çŠ¶æ€ã€‚ç¨å¾®æœ‰ä¸ªç­‰å¾…æ—¶é—´</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>./zkServer.sh status</pre></td></tr></table></figure><h3 id=\"2-4\"><a class=\"anchor\" href=\"#2-4\">#</a> â€”â€”2</h3>\n<p><strong>èµ„æ–™ï¼š</strong></p>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuY25ibG9ncy5jb20va2luZ2tvby9wLzg3MzI0NDguaHRtbA==\">https://www.cnblogs.com/kingkoo/p/8732448.html</span></p>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuYmlsaWJpbGkuY29tL3ZpZGVvL2F2ODA4NzQ2NjY/ZnJvbT1zZWFyY2gmYW1wO3NlaWQ9MTYyOTE0NTAyNTIxMTk5OTEwNCZhbXA7c3BtX2lkX2Zyb209MzMzLjMzNy4wLjA=\">https://www.bilibili.com/video/av80874666?from=search&amp;seid=1629145025211999104&amp;spm_id_from=333.337.0.0</span></p>\n<h4 id=\"1-zookeeperç®€ä»‹-2\"><a class=\"anchor\" href=\"#1-zookeeperç®€ä»‹-2\">#</a> 1     Zookeeper ç®€ä»‹</h4>\n<p>â€‹\tzookeeper åˆ†å¸ƒå¼ç®¡ç†è½¯ä»¶ã€‚å¸¸ç”¨å®ƒåšæ³¨å†Œä¸­å¿ƒï¼ˆä¾èµ– zookeeper çš„å‘å¸ƒ / è®¢é˜…åŠŸèƒ½ï¼‰ã€é…ç½®æ–‡ä»¶ä¸­å¿ƒã€åˆ†å¸ƒå¼é”é…ç½®ã€é›†ç¾¤ç®¡ç†ç­‰ã€‚</p>\n<p>â€‹\tzookeeper ä¸€å…±å°±æœ‰ä¸¤ä¸ªç‰ˆæœ¬ã€‚ä¸»è¦ä½¿ç”¨çš„æ˜¯ java è¯­è¨€å†™çš„ã€‚</p>\n<h4 id=\"2-å®‰è£…-2\"><a class=\"anchor\" href=\"#2-å®‰è£…-2\">#</a> 2     å®‰è£…</h4>\n<h5 id=\"21-æ‹‰å–é•œåƒ\"><a class=\"anchor\" href=\"#21-æ‹‰å–é•œåƒ\">#</a> 2.1   æ‹‰å–é•œåƒ</h5>\n<ul>\n<li>\n<p>è‡ªå®šä¹‰ zookeeper ç›®å½•</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">mkdir</span> /root/zookeeper</pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">mkdir</span> /root/zookeeper/data <span class=\"token comment\">#åŸå› å‚ç…§ä¸Šé¢ - åœ¨ docker ä¸­ data å…¶å®ä¹Ÿä¸ç”¨åœ¨å®¿ä¸»æœºè¡Œè‡ªå·±ç”Ÿæˆ (ç›®å‰å¦‚æ­¤)</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\">#ä»“åº“å®˜ç½‘æŸ¥çœ‹ç‰ˆæœ¬æˆ–è€…ç”¨å‘½ä»¤ç›´æ¥æŸ¥</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token function\">docker</span> search zookeeper</pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token comment\">#æ‹‰å–ç‰¹å®šç‰ˆæœ¬ï¼ˆ3.5ï¼‰</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token function\">docker</span> pull zookeeper:3.5</pre></td></tr></table></figure></li>\n</ul>\n<h5 id=\"22-åˆ›å»ºå¹¶å¯åŠ¨å®¹å™¨\"><a class=\"anchor\" href=\"#22-åˆ›å»ºå¹¶å¯åŠ¨å®¹å™¨\">#</a> 2.2 åˆ›å»ºå¹¶å¯åŠ¨å®¹å™¨</h5>\n<p>â€‹\t<strong>æ³¨ï¼šå°±ç›®å‰è€Œä¸” å¥½åƒç›´æ¥åœ¨ docker ä¸­ä½¿ç”¨ zookeeper ä¸éœ€è¦è¿‡å¤šçš„é…ç½®ï¼Œç›´æ¥ç”¨å‘½ä»¤åˆ›å»ºå§ï¼Œä¸‹é¢çš„è§£é‡Šå…ˆä¸çœ‹ï¼Œå…·ä½“åŸå› åé¢è¡¥å……</strong></p>\n<p>å‘½ä»¤ï¼š</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">docker</span> run <span class=\"token parameter variable\">-d</span> <span class=\"token parameter variable\">--name</span> zookeeper <span class=\"token parameter variable\">-v</span> /root/zookeeper/data:/data <span class=\"token parameter variable\">-p</span> <span class=\"token number\">2181</span>:2181 <span class=\"token parameter variable\">--restart</span> always zookeeper:3.5</pre></td></tr></table></figure><ul>\n<li><code>--restart always</code> ï¼šå§‹ç»ˆé‡å¯</li>\n<li><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuY25ibG9ncy5jb20vYWdlb3ZiL3AvMTUzMjg3OTYuaHRtbA==\">https://www.cnblogs.com/ageovb/p/15328796.html</span></li>\n</ul>\n<p><strong>è§£é‡Š</strong></p>\n<ul>\n<li>\n<p>1ã€è¿™é‡Œä¸ºå•¥åªæŒ‚è½½äº† data ç›®å½• --ã€‹å› ä¸ºå½“æˆ‘ä»¬ æ²¡æœ‰ç›´æ¥çš„å®‰è£…å‹ç¼©åŒ…æ—¶ï¼Œæˆ‘ä»¬çš„å°±æ²¡æœ‰é…ç½®æ–‡ä»¶ï¼Œæ‰€ä»¥æˆ‘ä»¬ç›´æ¥ç”Ÿæˆï¼Œå®¹å™¨ä¸­å°±å›è‡ªåŠ¨ç”Ÿæˆ conf æ–‡ä»¶ï¼Œå…¶ä¸­å°±æœ‰æˆ‘ä»¬éœ€è¦çš„ ä¸€ç³»åˆ—é…ç½®æ–‡ä»¶ï¼Œæˆ‘ä»¬ç¬¬ä¸€æ¬¡åˆ›å»ºçš„æ—¶å€™å°±å¯ä»¥å¦‚æ­¤ï¼Œæˆ‘ä»¬åœ¨è¿›<strong>è¡Œé…ç½®æ–‡ä»¶çš„ä¿®æ”¹å®Œæˆ</strong>åï¼Œè¦å°†æ‰€æœ‰é…ç½®æ–‡ä»¶æ”¾åˆ°æˆ‘ä»¬  bash ç›®å½•ä¸­çš„ conf æ–‡ä»¶ä¸­å»ã€‚</p>\n</li>\n<li>\n<p>2ã€ç¬¬ä¸€æ¬¡è¿›å…¥å®¹å™¨</p>\n<ul>\n<li>\n<p>åœ¨ bash ç›®å½•ä¸‹è¿›å…¥ bin ç›®å½•ç„¶åè¾“å…¥å¼€å¯å®¢æˆ·ç«¯å‘½ä»¤</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>./zkCli.sh</pre></td></tr></table></figure></li>\n</ul>\n</li>\n<li>\n<p>3ã€ç¬¬äºŒæ¬¡è¿›å…¥å®¹å™¨</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">docker</span> <span class=\"token builtin class-name\">exec</span> <span class=\"token parameter variable\">-it</span> zookeeper /bin/bash  <span class=\"token parameter variable\">-p</span>    ç«¯å£å·</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>æˆ–</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">docker</span> <span class=\"token builtin class-name\">exec</span> <span class=\"token parameter variable\">-it</span> zookeeper zkCli.sh</pre></td></tr></table></figure></li>\n</ul>\n<p><em><em>åªçœ‹åˆ°è¿™å°±å¯</em>ï¼Œå®¹å™¨åˆ›å»ºæˆåŠŸå°±å¯ä»¥ç›´æ¥ç”¨äº†ï¼Œè¿˜æ²¡æœ‰å‡ºç°é—®é¢˜ã€‚æœ‰å¾…è¡¥å……</em> *</p>\n<h5 id=\"23-ä¿®æ”¹é…ç½®æ–‡ä»¶\"><a class=\"anchor\" href=\"#23-ä¿®æ”¹é…ç½®æ–‡ä»¶\">#</a> 2.3   ä¿®æ”¹é…ç½®æ–‡ä»¶</h5>\n<ul>\n<li>é…ç½®æ–‡ä»¶æ¥æº\n<ul>\n<li>1ã€å¯ä»¥å»æˆ‘ä»¬çš„èµ„æ–™ä¸­ç›´æ¥è§£å‹å‡º<strong> conf</strong> ç›®å½•ç²˜è´´åˆ°æˆ‘ä»¬çš„ zookeeper ç›®å½•ä¸­å»</li>\n<li>2ã€å¯ä»¥ç›´æ¥è¿›è¡Œç¬¬ 3 æ­¥ï¼Œå®Œäº‹ä¹‹åç›´æ¥ä¼šåœ¨å®¹å™¨ä¸­ç”Ÿæˆã€‚æ‰¾åˆ° conf æ–‡ä»¶ï¼Œä¿®æ”¹å…¶ä¸­çš„ zoo.cfg æ–‡ä»¶ï¼Œ</li>\n</ul>\n</li>\n</ul>\n<p>è¿›å…¥å®¹å™¨åï¼Œæ‰¾åˆ° conf ä¸­çš„ **zoo.cfg æ–‡ä»¶ï¼Œæ¥ä¸‹æ¥å°±æ˜¯ä¿®æ”¹ <strong>dataDir</strong> è·¯å¾„ä¸ºå®¹å™¨ä¸­çš„ data æ–‡ä»¶ç›®å½•ã€‚</p>\n<p>å‰ææ˜¯è¦ä¸‹è½½ vim ï¼Œå› ä¸ºå®¹å™¨ä¸­æ²¡æœ‰ï¼Œå‘½ä»¤æ˜¯ï¼š</p>\n<pre><code>apt-get update\n\napt-get install -y vim\n\ncd conf\n# æ²¡æœ‰zoo.cfg å°±å…ˆæ‹·è´ zoo_sample.cfg ä¸¤ä¸ªå…¶å®æ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼Œå†…å®¹ç›¸åŒ\n#cp zoo_sample.cfg zoo.cfg\nvim zoo.cfg\n</code></pre>\n<p>ä¿®æ”¹ dataDir ä¸º data æ–‡ä»¶å¤¹è·¯å¾„</p>\n<pre><code>dataDir=/usr/local/zookeeper/data\n</code></pre>\n<h2 id=\"zookeeperé›†ç¾¤æ­å»º\"><a class=\"anchor\" href=\"#zookeeperé›†ç¾¤æ­å»º\">#</a> Zookeeper é›†ç¾¤æ­å»º</h2>\n<h3 id=\"1-5\"><a class=\"anchor\" href=\"#1-5\">#</a> â€”â€”1</h3>\n<p>1. ä¸Šä¼ å‹ç¼©åŒ…åˆ° /usr/local/tmp ä¸‹ å¹¶è§£å‹ã€‚</p>\n<p>2. åœ¨ /usr/local ä¸‹æ–°å»ºæ–‡ä»¶å¤¹ zookeeper</p>\n<pre><code># mkdir /usr/local/zookeeper\n</code></pre>\n<p>3. æŠŠè§£å‹çš„æ‰€æœ‰æ–‡ä»¶å¤åˆ¶åˆ° zookeeper ä¸‹ï¼Œ å¹¶å‘½åä¸º zk1</p>\n<pre><code># cp -r /usr/local/temp/zookeeper-3.4.8 /usr/local/zookeeper/zk1\n</code></pre>\n<p>4. åœ¨ zk1 ä¸‹æ–°å»ºæ–‡ä»¶å¤¹ data</p>\n<p>5. åœ¨ data ä¸‹æ–°å»ºæ–‡ä»¶ myid, é‡Œé¢å†™ä¸Š 1</p>\n<pre><code># vim myid\n</code></pre>\n<p>6. è¿›å…¥åˆ° zk1/conf ä¸‹ æŠŠ zoo_sample.cfg å¤åˆ¶ä¸€ä»½å«åš zoo.cfg</p>\n<p>7. ç¼–è¾‘ zoo.cfg å†…å®¹ï¼Œè®¾ç½® dataDIR ä¸º data æ–‡ä»¶å¤¹ï¼Œ å¹¶åœ¨æ–‡ä»¶æœ€ä¸‹é¢æ·»åŠ ä¸‹é¢å†…å®¹</p>\n<pre><code>server.1=192.168.93.10:2688:3888\nserver.2=192.168.93.10:2689:3889\nserver.3=192.168.93.10:2690:3890\n</code></pre>\n<p>7.1 server.1 ä¸­çš„ 1 æ˜¯ myid çš„å†…å®¹</p>\n<p>7.2 2688 2689 2690 æ˜¯ zookeeper å†…éƒ¨ç«¯å£</p>\n<p>7.3 3888 3889 3890 æ˜¯ leader ç«¯å£</p>\n<p>8. æŠŠ zk1 å¤åˆ¶ä¸¤ä»½ï¼Œåˆ†éƒ¨å«åš zk2  zk3  å¹¶ä¿®æ”¹ myid çš„å€¼ä¸º 2ï¼Œ3 ä¿®æ”¹ zoo.cfg ä¸­ dataDIR å’Œ clientPort</p>\n<p>9. å¯åŠ¨ä¸‰ä¸ª zookeeper</p>\n<pre><code># ./zkServer.sh start\n</code></pre>\n<p>10. æŸ¥çœ‹çŠ¶æ€</p>\n<pre><code># ./zkServer.sh status\n</code></pre>\n<h3 id=\"2-5\"><a class=\"anchor\" href=\"#2-5\">#</a> â€”â€”2</h3>\n<h4 id=\"1-å‡†å¤‡docker-composeymlæ–‡ä»¶\"><a class=\"anchor\" href=\"#1-å‡†å¤‡docker-composeymlæ–‡ä»¶\">#</a> <strong>1ã€å‡†å¤‡</strong> docker-compose.yml<strong> æ–‡ä»¶</strong></h4>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>version: <span class=\"token string\">'2'</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>services:</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  zoo1:</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    image: zookeeper:3.5</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    restart: always</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    container_name: zoo1</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    ports:</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>      - <span class=\"token string\">\"2182:2181\"</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    environment:</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>      ZOO_MY_ID: <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>      ZOO_SERVERS: <span class=\"token assign-left variable\">server.1</span><span class=\"token operator\">=</span><span class=\"token number\">0.0</span>.0.0:2688:3888 <span class=\"token assign-left variable\">server.2</span><span class=\"token operator\">=</span>zoo2:2689:3888 <span class=\"token assign-left variable\">server.3</span><span class=\"token operator\">=</span>zoo3:2690:3888</pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>  zoo2:</pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    image: zookeeper:3.5</pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    restart: always</pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    container_name: zoo2</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    ports:</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>      - <span class=\"token string\">\"2183:2181\"</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    environment:</pre></td></tr><tr><td data-num=\"20\"></td><td><pre>      ZOO_MY_ID: <span class=\"token number\">2</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>      ZOO_SERVERS: <span class=\"token assign-left variable\">server.1</span><span class=\"token operator\">=</span>zoo1:2688:3888 <span class=\"token assign-left variable\">server.2</span><span class=\"token operator\">=</span><span class=\"token number\">0.0</span>.0.0:2689:3888 <span class=\"token assign-left variable\">server.3</span><span class=\"token operator\">=</span>zoo3:2690:3888</pre></td></tr><tr><td data-num=\"22\"></td><td><pre></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>  zoo3:</pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    image: zookeeper:3.5</pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    restart: always</pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    container_name: zoo3</pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    ports:</pre></td></tr><tr><td data-num=\"28\"></td><td><pre>      - <span class=\"token string\">\"2184:2181\"</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    environment:</pre></td></tr><tr><td data-num=\"30\"></td><td><pre>      ZOO_MY_ID: <span class=\"token number\">3</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>      ZOO_SERVERS: <span class=\"token assign-left variable\">server.1</span><span class=\"token operator\">=</span>zoo1:2688:3888 <span class=\"token assign-left variable\">server.2</span><span class=\"token operator\">=</span>zoo2:2689:3888 <span class=\"token assign-left variable\">server.3</span><span class=\"token operator\">=</span><span class=\"token number\">0.0</span>.0.0:2690:3888</pre></td></tr></table></figure><h4 id=\"2-åˆ›å»ºé•œåƒ\"><a class=\"anchor\" href=\"#2-åˆ›å»ºé•œåƒ\">#</a> <strong>2ã€åˆ›å»ºé•œåƒ</strong></h4>\n<ul>\n<li>è¦åœ¨åˆ›å»ºçš„ docker-compose.yml æ–‡ä»¶ä¸­ä½¿ç”¨å‘½ä»¤</li>\n</ul>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">docker-compose</span> up <span class=\"token parameter variable\">-d</span></pre></td></tr></table></figure><h4 id=\"3-è¿›å…¥å®¹å™¨\"><a class=\"anchor\" href=\"#3-è¿›å…¥å®¹å™¨\">#</a> <strong>3ã€è¿›å…¥å®¹å™¨</strong></h4>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">docker</span> <span class=\"token builtin class-name\">exec</span> <span class=\"token parameter variable\">-it</span> zoo1 /bin/bash</pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">#æŸ¥çœ‹ zoo1 çš„çŠ¶æ€</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token builtin class-name\">cd</span> bin</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>./zkServer.sh status</pre></td></tr></table></figure><ul>\n<li>å¦‚æœå‡ºç°ï¼Œä»¥ä¸‹æƒ…å†µï¼š</li>\n</ul>\n<pre><code>ZooKeeper JMX enabled by default\nUsing config: /conf/zoo.cfg\nClient port not found in static config file. Looking in dynamic config file.\ngrep: : No such file or directory\nClient port not found in the server configs\nClient port not found. Looking for secureClientPort in the static config.\nUnable to find either secure or unsecure client port in any configs. Terminating.\n</code></pre>\n<p>â€‹\té€šè¿‡é˜…è¯»æˆ‘ä»¬çŸ¥é“ä»–åœ¨ conf ä¸­çš„ zoo.cfg æ–‡ä»¶ä¸­ç¼ºå°‘ **clientPort ** æˆ‘ä»¬åªéœ€è¦è‡ªè¡Œæ·»åŠ å³å¯</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">#ä¿®æ”¹ä¹‹å‰æˆ‘ä»¬å…ˆè£…ä¸€ä¸‹ vim</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">apt-get</span> update</pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token function\">apt-get</span> <span class=\"token function\">install</span> <span class=\"token parameter variable\">-y</span> <span class=\"token function\">vim</span> </pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token comment\">#ä¿®æ”¹ zoo.fcg æ–‡ä»¶</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token function\">vim</span> /conf/zoo.fcg</pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token assign-left variable\">clientPort</span><span class=\"token operator\">=</span><span class=\"token number\">2181</span></pre></td></tr></table></figure><ul>\n<li>\n<p>å®Œäº‹ä¹‹å<strong>é‡å¯</strong> zoo1</p>\n<p><img data-src=\"tools-All%5C1645780920291.png\" alt=\"1645780920291\" /></p>\n<p>æˆåŠŸï¼ï¼</p>\n</li>\n</ul>\n<h4 id=\"4-æŸ¥çœ‹æ‰€æœ‰zookeeperçš„çŠ¶æ€\"><a class=\"anchor\" href=\"#4-æŸ¥çœ‹æ‰€æœ‰zookeeperçš„çŠ¶æ€\">#</a> 4ã€æŸ¥çœ‹æ‰€æœ‰ zookeeper çš„çŠ¶æ€</h4>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">docker</span> <span class=\"token builtin class-name\">exec</span> <span class=\"token parameter variable\">-it</span> zoo3 <span class=\"token function\">bash</span> ./bin/zkServer.sh status</pre></td></tr></table></figure><h4 id=\"5-è¿›å»å®¢æˆ·ç«¯\"><a class=\"anchor\" href=\"#5-è¿›å»å®¢æˆ·ç«¯\">#</a> 5ã€è¿›å»å®¢æˆ·ç«¯</h4>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">docker</span> <span class=\"token builtin class-name\">exec</span> <span class=\"token parameter variable\">-it</span> zoo3 zkCli.sh</pre></td></tr></table></figure><h2 id=\"rediså®‰è£…\"><a class=\"anchor\" href=\"#rediså®‰è£…\">#</a> redis å®‰è£…</h2>\n<h3 id=\"1-6\"><a class=\"anchor\" href=\"#1-6\">#</a> â€”â€”1</h3>\n<h4 id=\"1å®‰è£…ä¾èµ–cè¯­è¨€ä¾èµ–\"><a class=\"anchor\" href=\"#1å®‰è£…ä¾èµ–cè¯­è¨€ä¾èµ–\">#</a> 1. å®‰è£…ä¾èµ– C è¯­è¨€ä¾èµ–</h4>\n<p>â€‹\tredis ä½¿ç”¨ C è¯­è¨€ç¼–å†™ï¼Œæ‰€ä»¥éœ€è¦å®‰è£… C è¯­è¨€åº“</p>\n<pre><code> yum install -y gcc-c++ automake autoconf libtool make tcl \n</code></pre>\n<p>â€‹</p>\n<h4 id=\"2ä¸Šä¼ å¹¶è§£å‹\"><a class=\"anchor\" href=\"#2ä¸Šä¼ å¹¶è§£å‹\">#</a> 2. ä¸Šä¼ å¹¶è§£å‹</h4>\n<p>â€‹\tæŠŠ redis-5.0.5.tar.gz ä¸Šä¼ åˆ° /usr/local/tmp ä¸­ï¼Œè§£å‹æ–‡ä»¶</p>\n<pre><code> cd /usr/local/tmp\n\n tar zxf redis-5.0.5.tar.gz\n</code></pre>\n<h4 id=\"3ç¼–è¯‘å¹¶å®‰è£…\"><a class=\"anchor\" href=\"#3ç¼–è¯‘å¹¶å®‰è£…\">#</a> 3. ç¼–è¯‘å¹¶å®‰è£…</h4>\n<p>â€‹\tè¿›å…¥è§£å‹æ–‡ä»¶å¤¹</p>\n<pre><code>  cd /usr/local/tmp/redis-5.0.5/\n</code></pre>\n<p>â€‹\tç¼–è¯‘</p>\n<pre><code> make\n</code></pre>\n<p>â€‹\tå®‰è£…\tï¼ˆä¸€å®šè¦å¹²ï¼‰</p>\n<pre><code> make install PREFIX=/usr/local/redis\n</code></pre>\n<h4 id=\"4å¼€å¯å®ˆæŠ¤è¿›ç¨‹\"><a class=\"anchor\" href=\"#4å¼€å¯å®ˆæŠ¤è¿›ç¨‹\">#</a> 4. å¼€å¯å®ˆæŠ¤è¿›ç¨‹</h4>\n<p>â€‹\tå¤åˆ¶ cd /usr/local/tmp/redis-5.0.5 / ä¸­ redis.conf é…ç½®æ–‡ä»¶</p>\n<pre><code> cp redis.conf /usr/local/redis/bin/\n</code></pre>\n<p><strong>ä¿®æ”¹é…ç½®æ–‡ä»¶</strong></p>\n<pre><code> cd /usr/local/redis/bin/\n\n vim redis.conf\n</code></pre>\n<p>â€‹\tæŠŠ daemonize çš„å€¼ç”± no ä¿®æ”¹ä¸º yes</p>\n<p></p>\n<h4 id=\"5ä¿®æ”¹å¤–éƒ¨è®¿é—®\"><a class=\"anchor\" href=\"#5ä¿®æ”¹å¤–éƒ¨è®¿é—®\">#</a> 5. ä¿®æ”¹å¤–éƒ¨è®¿é—®</h4>\n<p>â€‹\tåœ¨ redis5 ä¸­éœ€è¦ä¿®æ”¹é…ç½®æ–‡ä»¶ redis.conf å…è®¸å¤–éƒ¨è®¿é—®ã€‚éœ€è¦ä¿®æ”¹ä¸¤å¤„ã€‚</p>\n<p>â€‹\tæ³¨é‡Šæ‰ä¸‹é¢</p>\n<p>â€‹\tbind 127.0.0.1</p>\n<pre><code> bind 127.0.0.1\n</code></pre>\n<p>â€‹\tprotected-mode yes æ”¹æˆ no</p>\n<p></p>\n<h4 id=\"6å¯åŠ¨å¹¶æµ‹è¯•\"><a class=\"anchor\" href=\"#6å¯åŠ¨å¹¶æµ‹è¯•\">#</a> 6. å¯åŠ¨å¹¶æµ‹è¯•</h4>\n<p>â€‹\tå¯åŠ¨ redis</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>./redis-server redis.conf</pre></td></tr></table></figure><p>â€‹\té‡å¯ redis</p>\n<pre><code>./redis-cli shutdown\n./redis-server redis.conf\n</code></pre>\n<p>â€‹\tå¯åŠ¨å®¢æˆ·ç«¯å·¥å…·</p>\n<p>â€‹\tåœ¨ redis5 ä¸­å®¢æˆ·ç«¯å·¥å…·å¯¹å‘½ä»¤ä¼šæœ‰æä¾›åŠŸèƒ½ã€‚</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>./redis-cli</pre></td></tr></table></figure><h4 id=\"7å¢åŠ è‡ªå®šä¹‰æ—¥å¿—æ–‡ä»¶\"><a class=\"anchor\" href=\"#7å¢åŠ è‡ªå®šä¹‰æ—¥å¿—æ–‡ä»¶\">#</a> 7. å¢åŠ è‡ªå®šä¹‰æ—¥å¿—æ–‡ä»¶</h4>\n<p>â€‹\tæ‰“å¼€ redis.conf , æ‰¾åˆ° logfile &quot;&quot; ï¼Œåœ¨å¼•å·ä¸­å†™å…¥æˆ‘ä»¬çš„æ—¥å¿—æ–‡ä»¶ç›®å½•ï¼Œè¦å†™åˆ°æ–‡ä»¶ï¼Œåªå†™åˆ°æ—¥å¿—ç›®å½•æ˜¯ä¸è¡Œçš„ï¼Œä»–æ— æ³•æ‰“å¼€ï¼Œ è€Œä¸”è¿™ä¸ªæ–‡ä»¶ä½ è¦å…ˆè‡ªå·±åˆ›å»ºæ‰èƒ½ç”¨ï¼Œæœ€å¥½å°±æ˜¯æŠŠæ–‡ä»¶çš„æƒé™å…¨éƒ¨æ‰“å¼€äº†</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># æ—¥å¿—æ–‡ä»¶è¾“å‡ºç›®å½• / æ–‡ä»¶</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">touch</span> /usr/local/redis/log/run.log</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\"># ä¿®æ”¹ redis.conf</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>logfile <span class=\"token string\">\"/usr/local/redis/log/run.log\"</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\"># ä¿®æ”¹æ—¥å¿—æ–‡ä»¶çš„æƒé™</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token function\">chmod</span> <span class=\"token number\">777</span> /usr/local/redis/log/run.log</pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\"># å¯åŠ¨æœåŠ¡</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>./redis-server redis.conf</pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token comment\"># å³ä½¿æ²¡æœ‰æŠ¥é”™ï¼Œä¹Ÿè¦æ‰‹åŠ¨çœ‹ä¸€ä¸‹æ—¥å¿—æ–‡ä»¶æ˜¯å¦é‡‡é›†åˆ°äº†æ—¥å¿—ä¿¡æ¯</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token function\">tail</span> <span class=\"token parameter variable\">-f</span> /usr/local/redis/log/run.log</pre></td></tr></table></figure><h3 id=\"2-6\"><a class=\"anchor\" href=\"#2-6\">#</a> â€”â€”2</h3>\n<h4 id=\"1-æ‹‰å–é•œåƒæ–‡ä»¶\"><a class=\"anchor\" href=\"#1-æ‹‰å–é•œåƒæ–‡ä»¶\">#</a> 1ã€æ‹‰å–é•œåƒæ–‡ä»¶</h4>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">docker</span> pull redis<span class=\"token punctuation\">[</span>:<span class=\"token punctuation\">(</span>ç‰ˆæœ¬å·<span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span></pre></td></tr></table></figure><h4 id=\"2-å»giteeåº“ä¸­ä¸‹è½½redisé…ç½®æ–‡ä»¶dockerä¸è‡ªå¸¦é…ç½®æ–‡ä»¶ä¹Ÿå¯ä¸è¿›è¡Œæ­¤æ­¥éª¤\"><a class=\"anchor\" href=\"#2-å»giteeåº“ä¸­ä¸‹è½½redisé…ç½®æ–‡ä»¶dockerä¸è‡ªå¸¦é…ç½®æ–‡ä»¶ä¹Ÿå¯ä¸è¿›è¡Œæ­¤æ­¥éª¤\">#</a> 2ã€å» gitee åº“ä¸­ä¸‹è½½ redis é…ç½®æ–‡ä»¶ï¼ˆdocker ä¸è‡ªå¸¦é…ç½®æ–‡ä»¶ï¼‰ã€ä¹Ÿå¯ä¸è¿›è¡Œæ­¤æ­¥éª¤ã€‘</h4>\n<p><strong>å»ºè®®çœ‹å®Œï¼Œå…ˆåˆ«æ“ä½œï¼Œå†çœ‹ä¸‰ï¼Œçœ‹å®Œä¸‰ä¹‹åå†å†³å®šå¦‚ä½•æ“ä½œ</strong></p>\n<p>ç„¶åæŒ‰ç…§æ–‡ç« å†…å®¹è¿›è¡Œï¼Œå¿½ç•¥ä¸‹è½½ã€‚</p>\n<p>æ–‡ç« åœ°å€ï¼š <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuamI1MS5uZXQvYXJ0aWNsZS8yMDMyNzQuaHRt\">https://www.jb51.net/article/203274.htm</span></p>\n<p>ã€</p>\n<p></p>\n<p><strong>docker é•œåƒä¸­æ²¡æœ‰ redis.conf æ–‡ä»¶ï¼Œè¦è‡ªå·±é…ç½®</strong></p>\n<pre><code class=\"language-undefined\">git pull --rebase https://gitee.com/zjj3366/mydemo.git master\n</code></pre>\n<h4 id=\"3-åˆ›å»ºä¸€ä¸ªredis-æœåŠ¡å®¹å™¨\"><a class=\"anchor\" href=\"#3-åˆ›å»ºä¸€ä¸ªredis-æœåŠ¡å®¹å™¨\">#</a> 3ã€åˆ›å»ºä¸€ä¸ª redis æœåŠ¡å®¹å™¨</h4>\n<p><strong>ç¬¬äºŒæ­¥è¿›è¡Œäº†çš„</strong></p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">docker</span> run <span class=\"token parameter variable\">-p</span> <span class=\"token number\">6379</span>:6379 <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token parameter variable\">--name</span> myredis  <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token parameter variable\">-v</span> /usr/local/docker/redis.conf:/etc/redis/redis.conf   <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token parameter variable\">-v</span> /usr/local/docker/data:/data  <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token parameter variable\">-d</span> redis  <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>redis-server  /etc/redis/redis.conf  <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token parameter variable\">--appendonly</span> <span class=\"token function\">yes</span></pre></td></tr></table></figure><p><strong>ç¬¬äºŒæ­¥æ²¡æœ‰è¿›è¡Œçš„</strong></p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">docker</span> run <span class=\"token parameter variable\">-p</span> <span class=\"token number\">6379</span>:6379  <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token parameter variable\">--name</span> myredis  <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token parameter variable\">-v</span> /root/myredis/data:/data <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token parameter variable\">-v</span> /root/myredis/conf/redis.conf:/etc/redis/redis.conf  <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token parameter variable\">-d</span> redis:4.0  <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>redis-server /etc/redis/redis.conf  <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token parameter variable\">--appendonly</span> <span class=\"token function\">yes</span></pre></td></tr></table></figure><p><strong>åŒºåˆ«ï¼š</strong></p>\n<p>â€‹\tå…¶å®ä¹Ÿæ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œåªæ˜¯æ˜ å°„çš„æ–‡ä»¶ä¸åŒï¼Œä¹Ÿå¯ä»¥å°†ç¬¬äºŒæ­¥çš„æ–‡ä»¶ç›´æ¥åˆ›å»ºåˆ°ç¬¬äºŒç§åˆ›å»ºæœåŠ¡å®¹å™¨çš„é…ç½®æ–‡ä»¶åœ°å€ä¸­å»ï¼Œè¿™æ ·ä¹Ÿå¯ä½¿ç”¨ç¬¬äºŒä¸ªåˆ›å»ºæ–¹å¼ã€‚</p>\n<p></p>\n<p></p>\n<h2 id=\"redisé›†ç¾¤clusteræ­å»º\"><a class=\"anchor\" href=\"#redisé›†ç¾¤clusteræ­å»º\">#</a> redis é›†ç¾¤ (Cluster) æ­å»º</h2>\n<h3 id=\"1-7\"><a class=\"anchor\" href=\"#1-7\">#</a> â€”â€”1</h3>\n<p>â€‹\tå‰æï¼šå·²ç»å®‰è£…å¥½ redis å•æœºç‰ˆã€‚</p>\n<p>â€‹\tå½“é›†ç¾¤ä¸­è¶…è¿‡æˆ–ç­‰äº 1/2 èŠ‚ç‚¹ä¸å¯ç”¨æ—¶ï¼Œæ•´ä¸ªé›†ç¾¤ä¸å¯ç”¨ã€‚ä¸ºäº†æ­å»ºç¨³å®šé›†ç¾¤ï¼Œéƒ½é‡‡ç”¨å¥‡æ•°èŠ‚ç‚¹ã€‚</p>\n<h4 id=\"1-å¤åˆ¶redisé…ç½®æ–‡ä»¶\"><a class=\"anchor\" href=\"#1-å¤åˆ¶redisé…ç½®æ–‡ä»¶\">#</a> 1 .<strong> å¤åˆ¶ redis é…ç½®æ–‡ä»¶</strong></h4>\n<p>â€‹\tä» /usr/local/redis/bin ä¸‹æŠŠ redis.conf å¤åˆ¶åˆ°å½“å‰ç›®å½•ä¸­ï¼Œå‘½åä¸º redis-7001.conf</p>\n<pre><code># cp /usr/local/redis/bin/redis.conf /usr/local/redis/bin/redis-7001.conf\n</code></pre>\n<h4 id=\"2-ä¿®æ”¹redis-7001conf\"><a class=\"anchor\" href=\"#2-ä¿®æ”¹redis-7001conf\">#</a> 2. <strong>ä¿®æ”¹ redis-7001.conf</strong></h4>\n<pre><code># cd /usr/local/redis/bin\n# vim redis-7001.conf\n</code></pre>\n<p>â€‹\téœ€è¦ä¿®æ”¹å¦‚ä¸‹</p>\n<pre><code>port 7001\ncluster-enabled yes\ncluster-config-file nodes-7001.conf\ncluster-node-timeout 15000\n# appendonly yes å¦‚æœå¼€å¯aofé»˜è®¤ï¼Œéœ€è¦ä¿®æ”¹ä¸ºyesã€‚å¦‚æœä½¿ç”¨rdbï¼Œæ­¤å¤„ä¸éœ€è¦ä¿®æ”¹\ndaemonize yes\nprotected-mode no\npidfile /var/run/redis_7001.pid\n</code></pre>\n<h4 id=\"3-å¤åˆ¶é…ç½®æ–‡ä»¶å¹¶ä¿®æ”¹å†…å®¹\"><a class=\"anchor\" href=\"#3-å¤åˆ¶é…ç½®æ–‡ä»¶å¹¶ä¿®æ”¹å†…å®¹\">#</a> 3 .<strong> å¤åˆ¶é…ç½®æ–‡ä»¶ï¼Œå¹¶ä¿®æ”¹å†…å®¹</strong></h4>\n<p>â€‹\tæŠŠ redis-7001.conf å¤åˆ¶ 5 ä»½ï¼Œåˆ†åˆ«å«åš redis-7002.confã€redis-7003.confã€redis-7004.confã€redis-7005.confã€redis-7006.conf</p>\n<pre><code># cp redis-7001.conf redis-7002.conf\n# cp redis-7001.conf redis-7003.conf\n# cp redis-7001.conf redis-7004.conf\n# cp redis-7001.conf redis-7005.conf\n# cp redis-7001.conf redis-7006.conf\n</code></pre>\n<pre><code>æ–°å¤åˆ¶çš„5ä¸ªé…ç½®æ–‡ä»¶éƒ½éœ€è¦éœ€æ”¹ä¸‰å¤„ã€‚\n</code></pre>\n<p>â€‹\tä¾‹å¦‚ nodes-7002.conf ä¸­éœ€è¦æŠŠæ‰€æœ‰ 7001 éƒ½æ¢æˆ 7002ã€‚</p>\n<p>â€‹\tå¯ä»¥ä½¿ç”¨ :% s/7001/7002/g è¿›è¡Œå…¨å±€ä¿®æ”¹ã€‚</p>\n<pre><code>port 7002\ncluster-config-file nodes-7002.conf\npidfile /var/run/redis_7002.pid\n</code></pre>\n<h4 id=\"4-å¯åŠ¨6ä¸ªredis\"><a class=\"anchor\" href=\"#4-å¯åŠ¨6ä¸ªredis\">#</a> 4 .<strong> å¯åŠ¨ 6 ä¸ª redis</strong></h4>\n<p>â€‹\tå¯ä»¥ä½¿ç”¨ redis-server ç»“åˆ 6 ä¸ªé…ç½®æ–‡ä»¶è¿›è¡Œå¯åŠ¨ 6 ä¸ªå®ä¾‹ã€‚</p>\n<p>â€‹\tæ‰§è¡Œä¹‹å‰ä¸€å®šè¦å…ˆåˆ é™¤ dump.rdb</p>\n<pre><code># rm -f dump.rdb\n# vim startup.sh\n\n./redis-server redis-7001.conf\n./redis-server redis-7002.conf\n./redis-server redis-7003.conf\n./redis-server redis-7004.conf\n./redis-server redis-7005.conf\n./redis-server redis-7006.conf\n\n\n# chmod a+x startup.sh\n# ./startup.sh\n</code></pre>\n<h4 id=\"5-æŸ¥çœ‹å¯åŠ¨çŠ¶æ€\"><a class=\"anchor\" href=\"#5-æŸ¥çœ‹å¯åŠ¨çŠ¶æ€\">#</a> 5. <strong>æŸ¥çœ‹å¯åŠ¨çŠ¶æ€</strong></h4>\n<p></p>\n<h4 id=\"6-å»ºç«‹é›†ç¾¤\"><a class=\"anchor\" href=\"#6-å»ºç«‹é›†ç¾¤\">#</a> 6. <strong>å»ºç«‹é›†ç¾¤</strong></h4>\n<p>â€‹\tåœ¨ redis3 çš„æ—¶å€™éœ€è¦å€ŸåŠ© ruby è„šæœ¬å®ç°é›†ç¾¤ã€‚åœ¨ redis5 ä¸­å¯ä»¥ä½¿ç”¨è‡ªå¸¦çš„ redis-cli å®ç°é›†ç¾¤åŠŸèƒ½ï¼Œæ¯” redis3 çš„æ—¶å€™æ›´åŠ æ–¹ä¾¿äº†ã€‚</p>\n<p>â€‹\tå»ºè®®é…ç½®é™æ€ ipï¼Œip æ”¹å˜é›†ç¾¤å¤±æ•ˆ</p>\n<pre><code>./redis-cli --cluster create 192.168.93.10:7001 192.168.93.10:7002 192.168.93.10:7003 192.168.93.10:7004 192.168.93.10:7005 192.168.93.10:7006 --cluster-replicas 1\n</code></pre>\n<h4 id=\"7-æµ‹è¯•\"><a class=\"anchor\" href=\"#7-æµ‹è¯•\">#</a> 7. <strong>æµ‹è¯•</strong></h4>\n<p>â€‹\té›†ç¾¤æµ‹è¯•æ—¶ï¼Œåƒä¸‡ä¸è¦å¿˜è®°æœ€åä¸€ä¸ª - c å‚æ•°ã€‚</p>\n<pre><code># ./redis-cli -p 7001 -c\n# set age 18\n</code></pre>\n<h4 id=\"8-ç¼–å†™å…³é—­è„šæœ¬\"><a class=\"anchor\" href=\"#8-ç¼–å†™å…³é—­è„šæœ¬\">#</a> 8 .<strong> ç¼–å†™å…³é—­è„šæœ¬</strong></h4>\n<pre><code># vim stop.sh\n# chmod a+x stop.sh\n\n./redis-cli -p 7001 shutdown\n./redis-cli -p 7002 shutdown\n./redis-cli -p 7003 shutdown\n./redis-cli -p 7004 shutdown\n./redis-cli -p 7005 shutdown\n./redis-cli -p 7006 shutdown\n</code></pre>\n<h3 id=\"2-7\"><a class=\"anchor\" href=\"#2-7\">#</a> â€”â€”2</h3>\n<p>â€‹\t<strong>æ³¨ï¼š<strong>1. å¦‚æœæ˜¯é…ç½®ä¿®æ”¹ä¹‹å‰</strong>å·²ç»åˆ›å»ºè¿‡çš„é›†ç¾¤æ—¶</strong>ï¼Œè¦å…ˆè¿›è¡Œç¬¬ä¸ƒæ­¥æ“ä½œã€‚</p>\n<p>â€‹\t\t\t2. è¦æ˜¯æƒ³é‡å¯é›†ç¾¤å¯ä»¥çœç•¥ç¬¬ä¸€æ­¥ï¼Œä½†æ˜¯å¾—<strong>å…ˆåˆ é™¤å·²ç»åˆ›å»ºçš„å®¹å™¨</strong>ï¼Œé‡æ–°è¿›è¡Œ 2ã€3ï¼ˆåˆå¹¶ä¹Ÿè¡Œï¼‰</p>\n<h4 id=\"0-åˆ›å»ºç½‘ç»œ\"><a class=\"anchor\" href=\"#0-åˆ›å»ºç½‘ç»œ\">#</a> 0ã€åˆ›å»ºç½‘ç»œ</h4>\n<p>** ç›®çš„ï¼š** è®©å®¿ä¸»æœºå¯ä»¥è®¿é—®åˆ°è‡ªèº«</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">docker</span> network create net-redis <span class=\"token parameter variable\">--subnet</span> <span class=\"token number\">172.38</span>.0.0/16</pre></td></tr></table></figure><p>è¡¥å……ï¼šå…³äºè™šæ‹Ÿæœºçš„ä¸‰ç§ç½‘è·¯è¿æ¥æ–¹å¼åŒºåˆ«</p>\n<p><span class=\"exturl\" data-url=\"aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYmlmZW5nbWlhb3podWFuL2FydGljbGUvZGV0YWlscy83OTg4NzY5Mj9zcG09MTAwMS4yMTAxLjMwMDEuNjY2MS4xJmFtcDt1dG1fbWVkaXVtPWRpc3RyaWJ1dGUucGNfcmVsZXZhbnRfdDAubm9uZS10YXNrLWJsb2ctMg==\">http://blog.csdn.net/bifengmiaozhuan/article/details/79887692?spm=1001.2101.3001.6661.1&amp;utm_medium=distribute.pc_relevant_t0.none-task-blog-2</span><sub>default</sub>CTRLIST<sub>Rate-1.pc_relevant_default&amp;depth_1-utm_source=distribute.pc_relevant_t0.none-task-blog-2</sub>default<sub>CTRLIST</sub>Rate-1.pc_relevant_default&amp;utm_relevant_index=1</p>\n<p></p>\n<h4 id=\"1-åˆ›å»ºå¹¶ä¿®æ”¹é…ç½®æ–‡ä»¶\"><a class=\"anchor\" href=\"#1-åˆ›å»ºå¹¶ä¿®æ”¹é…ç½®æ–‡ä»¶\">#</a> 1ã€åˆ›å»ºå¹¶ä¿®æ”¹é…ç½®æ–‡ä»¶</h4>\n<p><strong>æ³¨ï¼š</strong></p>\n<pre><code>In certain deployments, Redis Cluster nodes address discovery fails, because addresses are NAT-ted or because ports are forwarded (the typical case is Docker and other containers).\n\nåœ¨æŸäº›éƒ¨ç½²ä¸­ï¼ŒRedisç¾¤é›†èŠ‚ç‚¹åœ°å€å‘ç°å¤±è´¥ï¼Œå› ä¸ºåœ°å€æ˜¯NATï¼Œæˆ–è€…ç«¯å£æ˜¯è½¬å‘çš„ï¼ˆå…¸å‹æƒ…å†µæ˜¯Dockerå’Œå…¶ä»–å®¹å™¨ï¼‰ã€‚\n\nIn order to make Redis Cluster working in such environments, a static configuration where each node knows its public address is needed. The following two options are used for this scope, and are:\n\nä¸ºäº†è®©Redisé›†ç¾¤åœ¨è¿™æ ·çš„ç¯å¢ƒä¸­å·¥ä½œï¼Œéœ€è¦ä¸€ç§é™æ€é…ç½®ï¼Œå…¶ä¸­æ¯ä¸ªèŠ‚ç‚¹éƒ½çŸ¥é“è‡ªå·±çš„å…¬å…±åœ°å€ã€‚ä»¥ä¸‹ä¸¤ä¸ªé€‰é¡¹ç”¨äºæ­¤èŒƒå›´ï¼Œåˆ†åˆ«æ˜¯ï¼š\n\ncluster-announce-ip\n\ncluster-announce-port\n---------------------------------------------------------------------------------------\nä½ çš„dockerå†…ç½‘æ˜¯172ï¼Œä½ å®¿ä¸»çš„IPæ˜¯192ç½‘æ®µ\n\næ ¹æ®redisçš„é…ç½®æ–‡ä»¶ä¸­çš„è§£é‡Š\n\nè¦åœ¨ä½ çš„é…ç½®æ–‡ä»¶ä¸ŠåŠ ä¸Šä¸Šé¢çš„2ä¸ªé…ç½®\n</code></pre>\n<p>** æ–¹æ³•ä¸€ï¼š** å‚è€ƒä¸Šé¢çš„æ–¹æ³•ä¸€æ ·è¡Œã€‚</p>\n<p>** æ–¹æ³•äºŒï¼š** ä½¿ç”¨è„šæœ¬</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">#cat &lt;&lt;EOF EOF åœ¨è¿™é‡Œæ²¡æœ‰ç‰¹æ®Šçš„å«ä¹‰ï¼Œä½ å¯ä»¥ä½¿ç”¨ FOE æˆ– 000 ç­‰ï¼›</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\">#è¡¨ç¤ºä»¥ cat &lt;&lt;EOF å¼€å§‹è¾“å…¥ä»¥ EOF ç»“æŸç»“æŸè¾“å…¥</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">#cat > åˆ›å»ºæ–‡ä»¶ï¼Œå¹¶æŠŠæ ‡å‡†è¾“å…¥è¾“å‡ºåˆ°åé¢çš„ filename æ–‡ä»¶</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token comment\"># * cluster-announce-ip\t\t\t\t\t192.168.1.195\t#* ç¾¤é›† ip</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\"># * cluster-announce-port\t\t\t\t700$&#123;port&#125;\t\t#* ç¾¤é›†æ€»çº¿ç«¯å£</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token comment\"># * cluster-announce-bus-port#* ç¾¤é›† ip    1700$&#123;port&#125;\t   #* ç¾¤é›†å…¬å¸ƒç«¯å£</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token comment\"># é›†ç¾¤ ip æ˜¯å›ºå®š + 10000</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token comment\"># å¯ä»¥ä½¿ç”¨ :  % s/7001/7002/g     è¿›è¡Œå…¨å±€ä¿®æ”¹ã€‚ --- å°†å…¨å±€çš„ 7001 ä¿®æ”¹æˆ 7002</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token keyword\">for</span> <span class=\"token for-or-select variable\">port</span> <span class=\"token keyword\">in</span> <span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">seq</span> <span class=\"token number\">1</span> <span class=\"token number\">6</span><span class=\"token variable\">)</span></span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">\\</span> </pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token keyword\">do</span> <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token function\">mkdir</span>  <span class=\"token parameter variable\">-p</span>  /root/myredis/conf700<span class=\"token variable\">$&#123;port&#125;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token function\">touch</span>  /root/myredis/conf700<span class=\"token variable\">$&#123;port&#125;</span>/redis.conf</pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token function\">cat</span> <span class=\"token operator\">&lt;&lt;</span><span class=\"token string\">TTT<span class=\"token bash punctuation\"> <span class=\"token operator\">></span> /root/myredis/conf700<span class=\"token variable\">$&#123;port&#125;</span>/redis.conf port <span class=\"token number\">6379</span></span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>bind 0.0.0.0</pre></td></tr><tr><td data-num=\"19\"></td><td><pre>port 700<span class=\"token variable\">$&#123;port&#125;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>cluster-enabled yes</pre></td></tr><tr><td data-num=\"21\"></td><td><pre>cluster-config-file nodes-700<span class=\"token variable\">$&#123;port&#125;</span>.conf</pre></td></tr><tr><td data-num=\"22\"></td><td><pre>cluster-node-timeout 15000</pre></td></tr><tr><td data-num=\"23\"></td><td><pre>protected-mode no</pre></td></tr><tr><td data-num=\"24\"></td><td><pre>pidfile /var/run/redis_ 700<span class=\"token variable\">$&#123;port&#125;</span>.pid</pre></td></tr><tr><td data-num=\"25\"></td><td><pre>cluster-announce-ip  192.168.1.195 </pre></td></tr><tr><td data-num=\"26\"></td><td><pre>cluster-announce-port  700$&#123;port) </pre></td></tr><tr><td data-num=\"27\"></td><td><pre>cluster-announce-bus-port 1700$&#123;port) </pre></td></tr><tr><td data-num=\"28\"></td><td><pre>appendonly yes </pre></td></tr><tr><td data-num=\"29\"></td><td><pre>TTT</span> </pre></td></tr><tr><td data-num=\"30\"></td><td><pre><span class=\"token keyword\">done</span></pre></td></tr></table></figure><h4 id=\"2-åˆ›å»ºå®¹å™¨\"><a class=\"anchor\" href=\"#2-åˆ›å»ºå®¹å™¨\">#</a> 2ã€åˆ›å»ºå®¹å™¨</h4>\n<p>** æ–¹æ³•ä¸€ï¼š** æ‰‹åŠ¨åˆ›å»ºå®¹å™¨ï¼Œå¹¶å¯åŠ¨</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">docker</span> run <span class=\"token parameter variable\">-p</span> <span class=\"token number\">7001</span>:7001   <span class=\"token parameter variable\">-p</span> <span class=\"token number\">17001</span>:17001  <span class=\"token parameter variable\">--name</span> redis7001  <span class=\"token parameter variable\">-v</span> /root/myredis/conf7001/redis.conf:/etc/redis/redis.conf <span class=\"token parameter variable\">-v</span> /root/myredis/data7001:/data <span class=\"token parameter variable\">-d</span> redis redis-server /etc/redis/redis.conf <span class=\"token parameter variable\">--appendonly</span> <span class=\"token function\">yes</span></pre></td></tr></table></figure><p>â€‹\t7002 ~~~7006 åŒä¸Šï¼Œè‡ªè¡Œä¿®æ”¹å‚æ•°</p>\n<p>** æ–¹æ³•äºŒï¼š** è„šæœ¬ä¸€é”®å¯åŠ¨ï¼Œæ•ˆæœåŒä¸Š</p>\n<p>â€‹\t<strong>æ³¨æ„ï¼š</strong></p>\n<ul>\n<li>å…¶ä¸­è¦æŒ‡å®šä¸¤ä¸ªç«¯å£å· **-p 1700<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mrow><mi>p</mi><mi>o</mi><mi>r</mi><mi>t</mi></mrow><mo>:</mo><mn>1700</mn></mrow><annotation encoding=\"application/x-tex\">{port}:1700</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.80952em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\">t</span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">:</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">1</span><span class=\"mord\">7</span><span class=\"mord\">0</span><span class=\"mord\">0</span></span></span></span> {port}** ä¸è¦å¿˜è®°ï¼Œå¦åˆ™ä¼šåœ¨åˆ›å»ºå‡ ç¾¤çš„æ—¶å€™å‡ºç°  **Waiting for the cluster to join   ** ã€‚ã€å…·ä½“åŸå› ï¼Œæˆ‘è¿˜æ²¡æŸ¥å‡ºæ¥ï¼Œåé¢è¡¥å……ã€‘</li>\n<li>åœ¨ docker åˆ›å»ºé›†ç¾¤å®¹å™¨çš„æ—¶å€™ï¼Œ<strong>ä¸€å®šè¦</strong> æŒ‡å®š  ip</li>\n</ul>\n<p><strong>è¡¥å……ï¼š</strong></p>\n<ul>\n<li>é‚£è‚¯å®šæ˜¯ä½ ç«¯å£æ²¡æœ‰å¼€å¯ï¼Œä¸è¦è´¨ç–‘ï¼Œè¿™é‡Œçš„ç«¯å£ä¸æ˜¯ 7000-7005ï¼Œè€Œæ˜¯ 17000-17005ï¼Œå› ä¸º redis è®¾ç½®é›†ç¾¤çš„ç«¯å£å·æ˜¯â€redis ç«¯å£ + 10000â€œï¼Œè¿™ä¸ªéå¸¸é‡è¦ã€‚å¹¶ä¸” 7001:7006 ä¹Ÿæ˜¯å¿…é¡»æ‰“å¼€çš„ã€‚</li>\n</ul>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">for</span> <span class=\"token for-or-select variable\">port</span> <span class=\"token keyword\">in</span> <span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">seq</span> <span class=\"token number\">1</span> <span class=\"token number\">6</span><span class=\"token variable\">)</span></span><span class=\"token punctuation\">;</span>  <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">do</span> <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">docker</span> run <span class=\"token parameter variable\">-p</span> <span class=\"token number\">700</span><span class=\"token variable\">$&#123;port&#125;</span>:700<span class=\"token variable\">$&#123;port&#125;</span>   <span class=\"token parameter variable\">-p</span> <span class=\"token number\">1700</span><span class=\"token variable\">$&#123;port&#125;</span>:1700<span class=\"token variable\">$&#123;port&#125;</span>  <span class=\"token parameter variable\">--name</span> redis700<span class=\"token variable\">$&#123;port&#125;</span>  <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token parameter variable\">-v</span> /root/redis/redis700<span class=\"token variable\">$&#123;port&#125;</span>.conf:/etc/redis/redis.conf <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token parameter variable\">-v</span> /root/redis/data700<span class=\"token variable\">$&#123;port&#125;</span>:/data <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token parameter variable\">-d</span> <span class=\"token parameter variable\">--ip</span> <span class=\"token number\">192.168</span>.1.195 redis redis-server /etc/redis/redis.conf </pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">done</span></pre></td></tr></table></figure><h4 id=\"3-è¿›å…¥å®¹å™¨-2\"><a class=\"anchor\" href=\"#3-è¿›å…¥å®¹å™¨-2\">#</a> 3ã€è¿›å…¥å®¹å™¨</h4>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">docker</span> <span class=\"token builtin class-name\">exec</span> <span class=\"token parameter variable\">-it</span> redis7001 /bin/bash</pre></td></tr></table></figure><h4 id=\"4-åˆ›å»ºé›†ç¾¤\"><a class=\"anchor\" href=\"#4-åˆ›å»ºé›†ç¾¤\">#</a> 4ã€åˆ›å»ºé›†ç¾¤</h4>\n<p>â€‹\t** æ³¨ï¼š** æœ‰ä¸€æ­¥æ“ä½œï¼Œè¦è‡ªè¡Œè¿›è¡Œç¡®è®¤ï¼Œä¸€å®šè¦è¾“å…¥ <strong>yes</strong> è€Œä¸æ˜¯ <strong>y</strong> æˆ–è€…å…¶ä»–ä¹‹ç±»çš„ï¼Œé™¤äº† yes ä¸€å¾‹è§†ä¸º <strong>no</strong> ã€‚</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>redis-cli <span class=\"token parameter variable\">--cluster</span> create <span class=\"token number\">192.168</span>.1.195:7001 <span class=\"token number\">192.168</span>.1.195:7002 <span class=\"token number\">192.168</span>.1.195:7003 <span class=\"token number\">192.168</span>.1.195:7004 <span class=\"token number\">192.168</span>.1.195:7005 <span class=\"token number\">192.168</span>.1.195:7006 --cluster-replicas <span class=\"token number\">1</span></pre></td></tr></table></figure><h4 id=\"5-æµ‹è¯•\"><a class=\"anchor\" href=\"#5-æµ‹è¯•\">#</a> 5ã€æµ‹è¯•</h4>\n<p>â€‹\té›†ç¾¤æµ‹è¯•æ—¶ï¼Œåƒä¸‡ä¸è¦å¿˜è®°æœ€åä¸€ä¸ª - c å‚æ•°ã€‚</p>\n<pre><code class=\"language-shel\">redis-cli -p 7001 -c\n</code></pre>\n<h4 id=\"6-å…³é—­é›†ç¾¤\"><a class=\"anchor\" href=\"#6-å…³é—­é›†ç¾¤\">#</a> 6ã€å…³é—­é›†ç¾¤</h4>\n<p><strong>æ–¹æ³•ä¸€ï¼š</strong></p>\n<p>â€‹\tè‡ªè¡Œæ‰‹åŠ¨ä¸€ä¸ªä¸€ä¸ªåœæ­¢ï¼Œå¹¶ä¸”åˆ é™¤å®¹å™¨</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">docker</span> stop redis7001 <span class=\"token comment\">#7002 ~~~7006</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">docker</span> <span class=\"token function\">rm</span> <span class=\"token parameter variable\">-f</span> redis7001</pre></td></tr></table></figure><p><strong>æ–¹æ³•äºŒï¼š</strong></p>\n<p>â€‹\tè„šæœ¬ç¨‹åºï¼Œä¸€åŠ³æ°¸é€¸</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">for</span> <span class=\"token for-or-select variable\">port</span> <span class=\"token keyword\">in</span> <span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">seq</span> <span class=\"token number\">1</span> <span class=\"token number\">6</span><span class=\"token variable\">)</span></span><span class=\"token punctuation\">;</span>  <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">do</span> <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">docker</span> stop redis700<span class=\"token variable\">$&#123;port&#125;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token function\">docker</span> <span class=\"token function\">rm</span> <span class=\"token parameter variable\">-f</span> redis700<span class=\"token variable\">$&#123;port&#125;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">done</span></pre></td></tr></table></figure><h4 id=\"7-æ¸…ç©ºé›†ç¾¤æ–‡ä»¶\"><a class=\"anchor\" href=\"#7-æ¸…ç©ºé›†ç¾¤æ–‡ä»¶\">#</a> 7ã€æ¸…ç©ºé›†ç¾¤æ–‡ä»¶</h4>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">for</span> <span class=\"token for-or-select variable\">port</span> <span class=\"token keyword\">in</span> <span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">seq</span> <span class=\"token number\">1</span> <span class=\"token number\">6</span><span class=\"token variable\">)</span></span><span class=\"token punctuation\">;</span>  <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">do</span> <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">rm</span>  <span class=\"token parameter variable\">-rf</span>  ./data700<span class=\"token variable\">$&#123;port&#125;</span>/* </pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">done</span></pre></td></tr></table></figure><h2 id=\"solrå®‰è£…\"><a class=\"anchor\" href=\"#solrå®‰è£…\">#</a> Solr å®‰è£…</h2>\n<h3 id=\"1-8\"><a class=\"anchor\" href=\"#1-8\">#</a> â€”â€”1</h3>\n<p>â€‹\tSolr æ˜¯ä½¿ç”¨ Java ç¼–å†™ï¼Œæ‰€ä»¥å¿…é€‰å…ˆå®‰è£… JDKã€‚</p>\n<h4 id=\"1ä¸Šä¼ å¹¶è§£å‹\"><a class=\"anchor\" href=\"#1ä¸Šä¼ å¹¶è§£å‹\">#</a> 1. ä¸Šä¼ å¹¶è§£å‹</h4>\n<p>â€‹\tä¸Šä¼ å‹ç¼©åŒ… solr-7.7.2.tgz åˆ° /usr/local/tmp ä¸­ã€‚</p>\n<p>â€‹\tè§£å‹</p>\n<pre><code> cd /usr/local/tmp\n tar zxf solr-7.7.2.tgz -C /usr/local/tmp\n</code></pre>\n<h4 id=\"2å¤åˆ¶åˆ°usrlocalä¸­\"><a class=\"anchor\" href=\"#2å¤åˆ¶åˆ°usrlocalä¸­\">#</a> 2. å¤åˆ¶åˆ° /usr/local ä¸­</h4>\n<pre><code> cp -r solr-7.7.2 ../solr\n</code></pre>\n<h4 id=\"3ä¿®æ”¹å¯åŠ¨å‚æ•°\"><a class=\"anchor\" href=\"#3ä¿®æ”¹å¯åŠ¨å‚æ•°\">#</a> 3. ä¿®æ”¹å¯åŠ¨å‚æ•°</h4>\n<p>â€‹\tä¿®æ”¹å¯åŠ¨å‚æ•°ï¼Œå¦åˆ™å¯åŠ¨æ—¶æŠ¥è­¦å‘Šã€‚æç¤ºè®¾ç½® SOLR_ULIMIT_CHECKS=false</p>\n<pre><code> cd /usr/local/solr/bin\n vim solr.in.sh\n</code></pre>\n<p></p>\n<h4 id=\"4å¯åŠ¨solr\"><a class=\"anchor\" href=\"#4å¯åŠ¨solr\">#</a> 4. å¯åŠ¨ Solr</h4>\n<p>â€‹\tSolr å†…åµŒ Jettyï¼Œç›´æ¥å¯åŠ¨å³å¯ã€‚ç›‘å¬ 8983 ç«¯å£ã€‚</p>\n<p>â€‹\tsolr é»˜è®¤ä¸æ¨è root è´¦æˆ·å¯åŠ¨ï¼Œå¦‚æœæ˜¯ root è´¦æˆ·å¯åŠ¨éœ€è¦æ·»åŠ  - force å‚æ•°ã€‚</p>\n<pre><code># ./solr start -force\n</code></pre>\n<h4 id=\"5-å¯è§†åŒ–ç®¡ç†ç•Œé¢\"><a class=\"anchor\" href=\"#5-å¯è§†åŒ–ç®¡ç†ç•Œé¢\">#</a> 5ã€å¯è§†åŒ–ç®¡ç†ç•Œé¢</h4>\n<p>â€‹\tåœ¨å…³é—­é˜²ç«å¢™çš„å‰æä¸‹ï¼Œå¯ä»¥åœ¨ windows çš„æµè§ˆå™¨ä¸­è®¿é—® Solrã€‚</p>\n<p>â€‹\tè¾“å…¥: <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguOTMuMTA6ODk4Mw==\">http://192.168.93.10:8983</span> å°±å¯ä»¥è®¿é—® Solr çš„å¯è§†åŒ–ç®¡ç†ç•Œé¢ã€‚</p>\n<p>â€‹\tå·¦ä¾§æœ‰ 5 ä¸ªèœå•ã€‚åˆ†åˆ«æ˜¯ï¼š</p>\n<p>â€‹\tï¼ˆ1ï¼‰Dashboardï¼šé¢æ¿æ˜¾ç¤º Solr çš„æ€»ä½“ä¿¡æ¯ã€‚</p>\n<p>â€‹\tï¼ˆ2ï¼‰Loggingï¼šæ—¥å¿—</p>\n<p>â€‹\tï¼ˆ3ï¼‰Core Adminï¼šSolr çš„æ ¸å¿ƒã€‚ç±»ä¼¼äºæ•°æ®çš„ Database</p>\n<p>â€‹\tï¼ˆ4ï¼‰Java Perpertiesï¼šæ‰€æœ‰ Java ç›¸å…³å±æ€§ã€‚</p>\n<p>â€‹\tï¼ˆ5ï¼‰Thread Dumpï¼šçº¿ç¨‹ç›¸å…³ä¿¡æ¯ã€‚</p>\n<p>â€‹\tï¼ˆ6ï¼‰å¦‚æœæœ‰ Coreï¼Œå°†æ˜¾ç¤ºåœ¨æ­¤å¤„ã€‚</p>\n<p></p>\n<h4 id=\"6-æ–°å»ºæ ¸å¿ƒ\"><a class=\"anchor\" href=\"#6-æ–°å»ºæ ¸å¿ƒ\">#</a> 6ã€æ–°å»ºæ ¸å¿ƒ</h4>\n<p>â€‹\tSolr å®‰è£…å®Œæˆåé»˜è®¤æ˜¯æ²¡æœ‰æ ¸å¿ƒçš„ã€‚éœ€è¦æ‰‹åŠ¨é…ç½®ã€‚</p>\n<p>â€‹\téœ€è¦åœ¨ solr/server/solr ä¸‹æ–°å»ºæ–‡ä»¶å¤¹ï¼Œå¹¶ç»™å®šé…ç½®æ–‡ä»¶ï¼Œå¦åˆ™æ— æ³•å»ºç«‹ã€‚</p>\n<p></p>\n<h5 id=\"61æ–°å»ºç›®å½•\"><a class=\"anchor\" href=\"#61æ–°å»ºç›®å½•\">#</a> 6.1. æ–°å»ºç›®å½•</h5>\n<p>â€‹\tåœ¨ /usr/local/solr/server/solr ä¸­æ–°å»ºè‡ªå®šä¹‰åç§°ç›®å½•ã€‚æ­¤å¤„ç¤ºä¾‹åç§°ä¸º testcoreã€‚</p>\n<pre><code> cd /usr/local/solr/server/solr\n mkdir testcore\n</code></pre>\n<h5 id=\"62å¤åˆ¶é…ç½®æ–‡ä»¶\"><a class=\"anchor\" href=\"#62å¤åˆ¶é…ç½®æ–‡ä»¶\">#</a> 6.2. å¤åˆ¶é…ç½®æ–‡ä»¶</h5>\n<p>â€‹\tåœ¨ configsets é‡Œé¢åŒ…å«äº†_default å’Œ sample_techproducts_configsã€‚é‡Œé¢éƒ½æ˜¯é…ç½®æ–‡ä»¶ç¤ºä¾‹ã€‚_default å±äºé»˜è®¤é…ç½®ï¼Œè¾ƒçº¯å‡€ã€‚sample_techproducts_configs æ˜¯å¸¦æœ‰äº†ä¸€äº›é…ç½®ç¤ºä¾‹ã€‚</p>\n<pre><code># cp -r configsets/_default/conf/ testcore/\n</code></pre>\n<h5 id=\"63å¡«å†™coreä¿¡æ¯\"><a class=\"anchor\" href=\"#63å¡«å†™coreä¿¡æ¯\">#</a> 6.3. å¡«å†™ Core ä¿¡æ¯</h5>\n<p>â€‹\tåœ¨å¯è§†åŒ–ç®¡ç†ç•Œé¢ä¸­ Core Admin ä¸­ç¼–å†™ä¿¡æ¯åç‚¹å‡» Add Core åï¼ŒçŸ­æš‚å»¶è¿Ÿå testcore å°±ä¼šåˆ›å»ºæˆåŠŸã€‚schema å¤„ä¸ç”¨æ›´æ”¹ã€‚</p>\n<p></p>\n<h5 id=\"64å‡ºç°testcore\"><a class=\"anchor\" href=\"#64å‡ºç°testcore\">#</a> 6.4. å‡ºç° testcore</h5>\n<p>â€‹\tåœ¨å®¢æˆ·ç«¯ç®¡ç†ç•Œé¢ä¸­ï¼Œé€‰æ‹©æ–°å»ºçš„ Core åï¼Œå°±å¯ä»¥æŒ‰ç…§è‡ªå·±é¡¹ç›®çš„éœ€æ±‚è¿›è¡Œæ“ä½œäº†ã€‚</p>\n<p></p>\n<h4 id=\"7-åˆ†è¯analysis\"><a class=\"anchor\" href=\"#7-åˆ†è¯analysis\">#</a> 7ã€åˆ†è¯ Analysis</h4>\n<p>â€‹\tåœ¨ Solr å¯è§†åŒ–ç®¡ç†ç•Œé¢ä¸­ï¼ŒCore çš„ç®¡ç†èœå•é¡¹ä¸­éƒ½ä¼šæœ‰ Analysisã€‚è¡¨ç¤ºæ ¹æ® Scheme.xml (managed-schema) ä¸­é…ç½®è¦æ±‚è¿›è¡Œè§£æã€‚</p>\n<p>â€‹\tå¯¹è‹±æ–‡è§£æå°±æ¯”è¾ƒç®€å•äº†ï¼Œåªè¦æŒ‰ç…§ç©ºæ ¼æŠŠè‹±æ–‡è¯­å¥æ‹†åˆ†æˆè‹±æ–‡å•è¯å³å¯ã€‚</p>\n<p></p>\n<p>â€‹\tä½†æ˜¯å¦‚æœæ¡ä»¶æ˜¯ä¸­æ–‡æ—¶ï¼ŒæŠŠä¸€å¥è¯æŒ‰ç…§å­—è¿›è¡Œæ‹†åˆ†å°±ä¸æ˜¯å¾ˆåˆç†äº†ã€‚æ­£ç¡®çš„æ–¹å¼æ˜¯æŒ‰ç…§åˆç†çš„è¯ç»„è¿›è¡Œæ‹†åˆ†ã€‚![](D:/ é©¬å£«å…µ / Java è¯¾ç¨‹ / 13_åˆ†å¸ƒå¼èµ„æ–™ / 5_Solr / æ–‡æ¡£ / Solr.assets/solr-08.jpg)</p>\n<h5 id=\"71é…ç½®æ­¥éª¤\"><a class=\"anchor\" href=\"#71é…ç½®æ­¥éª¤\">#</a> 7.1. é…ç½®æ­¥éª¤</h5>\n<p>â€‹\tä¸Šä¼  ik-analyzer.jar åˆ° webapps ä¸­ã€‚</p>\n<p>â€‹\tå» https://search.maven.org/search?q=com.github.magese ä¸‹è½½å¯¹åº”ç‰ˆæœ¬çš„ ik-analyzerã€‚å¯ä»¥åœ¨èµ„æ–™ä¸­ç›´æ¥è·å–ã€‚</p>\n<h5 id=\"711ä¸Šä¼ jaråˆ°æŒ‡å®šç›®å½•\"><a class=\"anchor\" href=\"#711ä¸Šä¼ jaråˆ°æŒ‡å®šç›®å½•\">#</a> 7.1.1 ä¸Šä¼  jar åˆ°æŒ‡å®šç›®å½•</h5>\n<p>â€‹\tä¸Šä¼  ik-analyzer-7.7.0.jar åˆ°</p>\n<p>â€‹\t/usr/local/solr/server/solr-webapp/webapp/WEB-INF/lib ç›®å½•ä¸­</p>\n<h5 id=\"712ä¿®æ”¹é…ç½®æ–‡ä»¶\"><a class=\"anchor\" href=\"#712ä¿®æ”¹é…ç½®æ–‡ä»¶\">#</a> 7.1.2 ä¿®æ”¹é…ç½®æ–‡ä»¶</h5>\n<p>â€‹\tä¿®æ”¹ /usr/local/solr/server/solr/testcore/conf/managed-schema</p>\n<pre><code># vim /usr/local/solr/server/solr/testcore/conf/managed-schema\n</code></pre>\n<p>â€‹\tæ·»åŠ ä¸‹é¢å†…å®¹ã€‚</p>\n<p>â€‹\tæ’ç‰ˆï¼šEsc é€€å‡ºç¼–è¾‘çŠ¶æ€ä¸‹ï¼šgg=G</p>\n<pre><code>&lt;field name=&quot;myfield&quot; type=&quot;text_ik&quot; indexed=&quot;true&quot; stored=&quot;true&quot; /&gt;\n    &lt;fieldType name=&quot;text_ik&quot; class=&quot;solr.TextField&quot;&gt;\n            &lt;analyzer type=&quot;index&quot;&gt;\n                    &lt;tokenizer class=&quot;org.wltea.analyzer.lucene.IKTokenizerFactory&quot; useSmart=&quot;false&quot; conf=&quot;ik.conf&quot;/&gt;\n                    &lt;filter class=&quot;solr.LowerCaseFilterFactory&quot;/&gt;\n            &lt;/analyzer&gt;\n            &lt;analyzer type=&quot;query&quot;&gt;\n                    &lt;tokenizer class=&quot;org.wltea.analyzer.lucene.IKTokenizerFactory&quot; useSmart=&quot;true&quot; conf=&quot;ik.conf&quot;/&gt;\n                    &lt;filter class=&quot;solr.LowerCaseFilterFactory&quot;/&gt;\n            &lt;/analyzer&gt;\n    &lt;/fieldType&gt;\n</code></pre>\n<h5 id=\"713é‡å¯\"><a class=\"anchor\" href=\"#713é‡å¯\">#</a> 7.1.3 é‡å¯</h5>\n<pre><code># cd /usr/local/solr/bin\n# ./solr stop -all\n# ./solr start -force\n</code></pre>\n<h5 id=\"714éªŒè¯\"><a class=\"anchor\" href=\"#714éªŒè¯\">#</a> 7.1.4 éªŒè¯</h5>\n<p>â€‹\tå¯ä»¥åœ¨å¯è§†åŒ–ç®¡ç†ç•Œé¢ä¸­æ‰¾åˆ° myfield å±æ€§è¿›è¡ŒéªŒè¯ã€‚</p>\n<p></p>\n<h5 id=\"72managed-schemaé…ç½®è¯´æ˜\"><a class=\"anchor\" href=\"#72managed-schemaé…ç½®è¯´æ˜\">#</a> 7.2.managed-schema é…ç½®è¯´æ˜</h5>\n<h5 id=\"721-fieldtype\"><a class=\"anchor\" href=\"#721-fieldtype\">#</a> 7.2.1&lt; fieldType/&gt;</h5>\n<p>â€‹\tè¡¨ç¤ºå®šä¹‰ä¸€ä¸ªå±æ€§ç±»å‹ã€‚åœ¨ Solr ä¸­å±æ€§ç±»å‹éƒ½æ˜¯è‡ªå®šä¹‰çš„ã€‚åœ¨ä¸Šé¢é…ç½®ä¸­ name=â€text_ikâ€ ä¸ºè‡ªå®šä¹‰ç±»å‹ã€‚å½“æŸä¸ªå±æ€§å–å€¼ä¸º text_ik æ—¶ IK Analyzer æ‰èƒ½ç”Ÿæ•ˆã€‚</p>\n<h5 id=\"722-field\"><a class=\"anchor\" href=\"#722-field\">#</a> 7.2.2&lt; field/&gt;</h5>\n<p>â€‹\tè¡¨ç¤ºå‘ Document ä¸­æ·»åŠ ä¸€ä¸ªå±æ€§ã€‚</p>\n<p>â€‹\tå¸¸ç”¨å±æ€§ï¼š</p>\n<p>â€‹\t\tname: å±æ€§å</p>\n<p>â€‹\t\ttype: å±æ€§ç±»å‹ã€‚æ‰€æœ‰ç±»å‹éƒ½æ˜¯ solr ä½¿ç”¨ &lt;fieldType&gt; é…ç½®çš„</p>\n<p>â€‹\t\tindexed: æ˜¯å¦å»ºç«‹ç´¢å¼•</p>\n<p>â€‹\t\tstored: solr æ˜¯å¦æŠŠè¯¥å±æ€§å€¼å“åº”ç»™æœç´¢ç”¨æˆ·ã€‚</p>\n<p>â€‹\t\trequiredï¼šè¯¥å±æ€§æ˜¯å¦æ˜¯å¿…é¡»çš„ã€‚é»˜è®¤ id æ˜¯å¿…é¡»çš„ã€‚</p>\n<p>â€‹\t\tmultiValuedï¼šå¦‚æœä¸º trueï¼Œè¡¨ç¤ºè¯¥å±æ€§ä¸ºå¤åˆå±æ€§ï¼Œæ­¤å±æ€§ä¸­åŒ…å«äº†å¤šä¸ªå…¶ä»–çš„å±æ€§ã€‚å¸¸ç”¨åœ¨å¤šä¸ªåˆ—ä½œä¸ºæœç´¢æ¡ä»¶æ—¶ï¼ŒæŠŠè¿™äº›åˆ—å®šä¹‰å®šä¹‰æˆä¸€ä¸ªæ–°çš„å¤åˆå±æ€§ï¼Œé€šè¿‡æœç´¢ä¸€ä¸ªå¤åˆå±æ€§å°±å¯ä»¥å®ç°æœç´¢å¤šä¸ªåˆ—ã€‚å½“è®¾ç½®ä¸º true æ—¶ä¸ &lt;copyField source=&quot;&quot;dest=&quot;&quot;/&gt; ç»“åˆä½¿ç”¨</p>\n<h5 id=\"723-uniquekey\"><a class=\"anchor\" href=\"#723-uniquekey\">#</a> 7.2.3&lt; uniqueKey&gt;</h5>\n<p>â€‹\tå”¯ä¸€ä¸»é”®ï¼ŒSolr ä¸­é»˜è®¤å®šä¹‰ id å±æ€§ä¸ºå”¯ä¸€ä¸»é”®ã€‚ID çš„å€¼æ˜¯ä¸å…è®¸é‡å¤çš„ã€‚</p>\n<h5 id=\"724-dynamicfield\"><a class=\"anchor\" href=\"#724-dynamicfield\">#</a> 7.2.4&lt; dynamicField&gt;</h5>\n<p>â€‹\tåç§°ä¸­å…è®¸ * è¿›è¡Œé€šé…ã€‚ä»£è¡¨æ»¡è¶³ç‰¹å®šåç§°è¦æ±‚çš„ä¸€ç»„å±æ€§ã€‚</p>\n<pre><code>msb_java    \n</code></pre>\n<p>â€‹\tmsb_bigdata</p>\n<p>â€‹\tmsb_UI</p>\n<p>â€‹        msb_*</p>\n<h4 id=\"8-dataimport\"><a class=\"anchor\" href=\"#8-dataimport\">#</a> 8ã€Dataimport</h4>\n<p>â€‹\tå¯ä»¥ä½¿ç”¨ Solr è‡ªå¸¦çš„ Dataimport åŠŸèƒ½æŠŠæ•°æ®åº“ä¸­æ•°æ®å¿«é€Ÿå¯¼å…¥åˆ° solr ä¸­.</p>\n<p>â€‹\t<strong>å¿…é¡»ä¿è¯ managed-schema å’Œæ•°æ®åº“ä¸­è¡¨çš„åˆ—å¯¹åº”ã€‚ï¼Œæ·»åŠ é…ç½®</strong></p>\n<h5 id=\"81ä¿®æ”¹é…ç½®æ–‡ä»¶\"><a class=\"anchor\" href=\"#81ä¿®æ”¹é…ç½®æ–‡ä»¶\">#</a> 8.1. ä¿®æ”¹é…ç½®æ–‡ä»¶</h5>\n<p>â€‹\tä¿®æ”¹ solrconfig.xmlï¼Œæ·»åŠ ä¸‹é¢å†…å®¹</p>\n<pre><code> &lt;!-- é…ç½®æ•°æ®å¯¼å…¥çš„å¤„ç†å™¨ --&gt;\n  &lt;requestHandler name=&quot;/dataimport&quot; class=&quot;org.apache.solr.handler.dataimport.DataImportHandler&quot;&gt;\n    &lt;lst name=&quot;defaults&quot;&gt;\n\t  &lt;!--  åŠ è½½data-config.xml  --&gt;\n      &lt;str name=&quot;config&quot;&gt;data-config.xml&lt;/str&gt;\n     &lt;/lst&gt;\n  &lt;/requestHandler&gt;\n</code></pre>\n<h5 id=\"82æ–°å»ºdata-configxml\"><a class=\"anchor\" href=\"#82æ–°å»ºdata-configxml\">#</a> 8.2. æ–°å»º data-config.xml</h5>\n<p>â€‹\tå’Œ solrconfig.xml åŒä¸€ç›®å½•ä¸‹æ–°å»º data-config.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;dataConfig&gt;\n        &lt;dataSource type=&quot;JdbcDataSource&quot;   \n                driver=&quot;com.mysql.jdbc.Driver&quot;   \n                url=&quot;jdbc:mysql://192.168.1.135:3306/mytest&quot;   \n                user=&quot;root&quot;   \n                password=&quot;root&quot;/&gt;\n        &lt;document&gt;\n            &lt;entity name=&quot;product&quot; query=&quot;SELECT id,name,price from t_product&quot;&gt;\n                &lt;!-- \n                 å®ç°æ•°æ®åº“çš„åˆ—å’Œç´¢å¼•åº“çš„å­—æ®µçš„æ˜ å°„\n                 column æŒ‡å®šæ•°æ®åº“çš„åˆ—è¡¨\n                 name  æŒ‡å®šç´¢å¼•åº“çš„å­—æ®µåå­—ï¼Œå¿…é¡»å’Œschema.xmlä¸­å®šä¹‰çš„ä¸€æ ·\n                 --&gt;\n                 &lt;field column=&quot;id&quot; name=&quot;id&quot;/&gt;\n                 &lt;field column=&quot;name&quot; name=&quot;name&quot;/&gt;\n\t\t\t\t &lt;field column=&quot;price&quot; name=&quot;price&quot;/&gt;\n            &lt;/entity&gt;\n         &lt;/document&gt;\n&lt;/dataConfig&gt;\n</code></pre>\n<h5 id=\"83æ·»åŠ jar\"><a class=\"anchor\" href=\"#83æ·»åŠ jar\">#</a> 8.3. æ·»åŠ  jar</h5>\n<p>â€‹\tå‘ solr-webapp ä¸­æ·»åŠ <strong>ä¸‰ä¸ª jar</strong>ã€‚åœ¨<strong> dist ä¸­ä¸¤ä¸ªè¿˜æœ‰ä¸€ä¸ªæ•°æ®åº“é©±åŠ¨ã€‚ï¼ˆè‡ªå·±å» maven-repository é‡Œé¢æ‰¾ä¸€ä¸ª mysql-connector-java ï¼‰</strong></p>\n<p></p>\n<h5 id=\"84æ“ä½œ\"><a class=\"anchor\" href=\"#84æ“ä½œ\">#</a> 8.4. æ“ä½œ</h5>\n<p>â€‹\té‡å¯ solr åï¼Œåœ¨å¯è§†åŒ–ç®¡ç†é¡µé¢ä¸­è¿›è¡Œæ•°æ®å¯¼å…¥ã€‚</p>\n<p>â€‹\tæ³¨æ„ï¼š</p>\n<p>â€‹\tç‚¹å‡»å¯¼å…¥æŒ‰é’®åï¼Œè¦è®°å¾—ç‚¹å‡»åˆ·æ–°æŒ‰é’®ã€‚</p>\n<h2 id=\"erlangå®‰è£…\"><a class=\"anchor\" href=\"#erlangå®‰è£…\">#</a> <strong>Erlang å®‰è£…</strong></h2>\n<h3 id=\"1-9\"><a class=\"anchor\" href=\"#1-9\">#</a> â€”â€”1</h3>\n<p>â€‹\tRabbitMQ æ˜¯ä½¿ç”¨ Erlang è¯­è¨€ç¼–å†™çš„ï¼Œæ‰€ä»¥éœ€è¦å…ˆé…ç½® Erlang</p>\n<h4 id=\"1-ä¿®æ”¹ä¸»æœºå\"><a class=\"anchor\" href=\"#1-ä¿®æ”¹ä¸»æœºå\">#</a> 1 <strong>ä¿®æ”¹ä¸»æœºå</strong></h4>\n<p>â€‹\tRabbitMQ æ˜¯é€šè¿‡ä¸»æœºåè¿›è¡Œè®¿é—®çš„ï¼Œå¿…é¡»æŒ‡å®šèƒ½è®¿é—®çš„ä¸»æœºåã€‚</p>\n<pre><code>  vim /etc/sysconfig/network\n  \n  æ·»åŠ \n  NETWORKING=yes\n  HOSTNAME=node-1 #åå­—å¯ä»¥éšæ„\n</code></pre>\n<p></p>\n<pre><code>    vim /etc/hosts\n  \n    ip network_hostname\neg: 192.168.1.195 node-1  \n</code></pre>\n<p>â€‹\tæ–°æ·»åŠ äº†ä¸€è¡Œï¼Œå‰é¢ä¸ºæœåŠ¡å™¨ ipï¼Œç©ºæ ¼åé¢æ·»åŠ è®¡ç®—æœºä¸»æœºå</p>\n<p></p>\n<h4 id=\"2-å®‰è£…ä¾èµ–\"><a class=\"anchor\" href=\"#2-å®‰è£…ä¾èµ–\">#</a> 2 <strong>å®‰è£…ä¾èµ–</strong></h4>\n<pre><code>  yum -y install make gcc gcc-c++ kernel-devel m4 ncurses-devel openssl-devel unixODBC unixODBC-devel\n</code></pre>\n<h4 id=\"3-ä¸Šä¼ å¹¶è§£å‹\"><a class=\"anchor\" href=\"#3-ä¸Šä¼ å¹¶è§£å‹\">#</a> 3 <strong>ä¸Šä¼ å¹¶è§£å‹</strong></h4>\n<p>â€‹\tä¸Šä¼  otp_src_22.0.tar.gz åˆ° /usr/local/tmp ç›®å½•ä¸­ï¼Œè¿›å…¥ç›®å½•å¹¶è§£å‹ã€‚</p>\n<pre><code>è§£å‹æ—¶æ³¨æ„ï¼Œæ­¤å‹ç¼©åŒ…ä¸å…·æœ‰gzipå±æ€§ï¼Œè§£å‹å‚æ•°æ²¡æœ‰zï¼Œåªæœ‰xf\n</code></pre>\n<pre><code>  cd /usr/local/tmp\n  tar xf otp_src_22.0.tar.gz -C /usr/local/tmp\n</code></pre>\n<h4 id=\"4-é…ç½®å‚æ•°\"><a class=\"anchor\" href=\"#4-é…ç½®å‚æ•°\">#</a> 4 <strong>é…ç½®å‚æ•°</strong></h4>\n<p>â€‹\tå…ˆæ–°å»º /usr/local/erlang æ–‡ä»¶å¤¹ï¼Œä½œä¸ºå®‰è£…æ–‡ä»¶å¤¹</p>\n<pre><code>  mkdir -p /usr/local/erlang\n</code></pre>\n<p>â€‹\t è¿›å…¥æ–‡ä»¶å¤¹</p>\n<pre><code>  cd otp_src_22.0\n</code></pre>\n<p>â€‹\t é…ç½®å‚æ•°</p>\n<pre><code>  ./configure --prefix=/usr/local/erlang --with-ssl --enable-threads --enable-smp-support --enable-kernel-poll --enable-hipe --without-javac\n</code></pre>\n<h4 id=\"5-ç¼–è¯‘å¹¶å®‰è£…\"><a class=\"anchor\" href=\"#5-ç¼–è¯‘å¹¶å®‰è£…\">#</a> 5 <strong>ç¼–è¯‘å¹¶å®‰è£…</strong></h4>\n<p>â€‹\tç¼–è¯‘</p>\n<pre><code>  make\n</code></pre>\n<p>â€‹\t å®‰è£…</p>\n<pre><code>  make install\n</code></pre>\n<h4 id=\"6-ä¿®æ”¹ç¯å¢ƒå˜é‡\"><a class=\"anchor\" href=\"#6-ä¿®æ”¹ç¯å¢ƒå˜é‡\">#</a> 6 <strong>ä¿®æ”¹ç¯å¢ƒå˜é‡</strong></h4>\n<p>â€‹\tä¿®æ”¹ /etc/profile æ–‡ä»¶</p>\n<pre><code> vim /etc/profile\n</code></pre>\n<p>â€‹\t åœ¨æ–‡ä»¶ä¸­æ·»åŠ ä¸‹é¢ä»£ç </p>\n<pre><code>export PATH=$PATH:/usr/local/erlang/bin\n</code></pre>\n<p>â€‹\tè¿è¡Œæ–‡ä»¶ï¼Œè®©ä¿®æ”¹å†…å®¹ç”Ÿæ•ˆ</p>\n<pre><code>  source /etc/profile\n</code></pre>\n<h4 id=\"7-æŸ¥çœ‹é…ç½®æ˜¯å¦æˆåŠŸ\"><a class=\"anchor\" href=\"#7-æŸ¥çœ‹é…ç½®æ˜¯å¦æˆåŠŸ\">#</a> 7 <strong>æŸ¥çœ‹é…ç½®æ˜¯å¦æˆåŠŸ</strong></h4>\n<pre><code>  erl -version\n</code></pre>\n<p></p>\n<h2 id=\"rabbitmqå®‰è£…\"><a class=\"anchor\" href=\"#rabbitmqå®‰è£…\">#</a> RabbitMQ<strong> å®‰è£…</strong></h2>\n<h4 id=\"1-ä¸Šä¼ å¹¶è§£å‹\"><a class=\"anchor\" href=\"#1-ä¸Šä¼ å¹¶è§£å‹\">#</a> 1 <strong>ä¸Šä¼ å¹¶è§£å‹</strong></h4>\n<p>â€‹\tä¸Šä¼  rabbitmq-server-generic-unix-3.7.18.tar.xz åˆ° /usr/loca/tmp ä¸­</p>\n<pre><code>  cd /usr/local/tmp\n  \n  tar xf rabbitmq-server-generic-unix-3.7.18.tar.xz -C /usr/local/tmp\n</code></pre>\n<h4 id=\"2-å¤åˆ¶åˆ°localä¸‹\"><a class=\"anchor\" href=\"#2-å¤åˆ¶åˆ°localä¸‹\">#</a> 2 <strong>å¤åˆ¶åˆ° local ä¸‹</strong></h4>\n<p>â€‹\tå¤åˆ¶è§£å‹æ–‡ä»¶åˆ° /usr/local ä¸‹ï¼Œå‘½åä¸º rabbitmq</p>\n<pre><code>  cp -r rabbitmq_server-3.7.18 /usr/local/rabbitmq\n</code></pre>\n<h4 id=\"3-é…ç½®ç¯å¢ƒå˜é‡-3\"><a class=\"anchor\" href=\"#3-é…ç½®ç¯å¢ƒå˜é‡-3\">#</a> 3 <strong>é…ç½®ç¯å¢ƒå˜é‡</strong></h4>\n<pre><code>  vim /etc/profile\n</code></pre>\n<p>â€‹\tåœ¨æ–‡ä»¶ä¸­æ·»åŠ </p>\n<pre><code>export PATH=$PATH:/usr/local/rabbitmq/sbin\n</code></pre>\n<p>â€‹\tè§£ææ–‡ä»¶</p>\n<pre><code> source /etc/profile\n</code></pre>\n<h4 id=\"4-å¼€å¯webç®¡ç†æ’ä»¶\"><a class=\"anchor\" href=\"#4-å¼€å¯webç®¡ç†æ’ä»¶\">#</a> 4 <strong>å¼€å¯ web ç®¡ç†æ’ä»¶</strong></h4>\n<p>â€‹\tè¿›å…¥ rabbitmq/sbin ç›®å½•</p>\n<pre><code> cd /usr/local/rabbitmq/sbin\n</code></pre>\n<pre><code>æŸ¥çœ‹æ’ä»¶åˆ—è¡¨\n</code></pre>\n<pre><code>  ./rabbitmq-plugins list\n</code></pre>\n<pre><code>ç”Ÿæ•ˆç®¡ç†æ’ä»¶\n</code></pre>\n<pre><code>  ./rabbitmq-plugins enable rabbitmq_management\n</code></pre>\n<h4 id=\"5-åå°è¿è¡Œ\"><a class=\"anchor\" href=\"#5-åå°è¿è¡Œ\">#</a> 5 <strong>åå°è¿è¡Œ</strong></h4>\n<p>â€‹\tå¯åŠ¨ rabbitmqã€‚</p>\n<pre><code>  ./rabbitmq-server -detached\n</code></pre>\n<p>â€‹\tåœæ­¢å‘½ä»¤ï¼Œå¦‚æœæ— æ³•åœæ­¢ï¼Œä½¿ç”¨ kill -9 è¿›ç¨‹å·è¿›è¡Œå…³é—­</p>\n<pre><code> ./rabbitmqctl stop_app\n</code></pre>\n<h4 id=\"6-æŸ¥çœ‹webç®¡ç†ç•Œé¢\"><a class=\"anchor\" href=\"#6-æŸ¥çœ‹webç®¡ç†ç•Œé¢\">#</a> 6 <strong>æŸ¥çœ‹ web ç®¡ç†ç•Œé¢</strong></h4>\n<p>â€‹\té»˜è®¤å¯ä»¥åœ¨å®‰è£… rabbitmq çš„ç”µè„‘ä¸Šé€šè¿‡ç”¨æˆ·åï¼šguest å¯†ç  guest è¿›è¡Œè®¿é—® web ç®¡ç†ç•Œé¢</p>\n<p>â€‹\tç«¯å£å·ï¼š15672ï¼ˆæ”¾è¡Œç«¯å£ï¼Œæˆ–å…³é—­é˜²ç«å¢™ï¼‰</p>\n<p>â€‹\tåœ¨è™šæ‹Ÿæœºæµè§ˆå™¨ä¸­è¾“å…¥ï¼š</p>\n<p>â€‹\t<span class=\"exturl\" data-url=\"aHR0cDovL2xvY2FsaG9zdDoxNTY3Mg==\">http://localhost:15672</span></p>\n<h3 id=\"rabbitmqè´¦æˆ·ç®¡ç†\"><a class=\"anchor\" href=\"#rabbitmqè´¦æˆ·ç®¡ç†\">#</a> * RabbitMq è´¦æˆ·ç®¡ç†</h3>\n<h4 id=\"1-åˆ›å»ºè´¦æˆ·\"><a class=\"anchor\" href=\"#1-åˆ›å»ºè´¦æˆ·\">#</a> 1 <strong>åˆ›å»ºè´¦æˆ·</strong></h4>\n<p>â€‹\tè¯­æ³•ï¼š./rabbitmqctl add_user username password</p>\n<pre><code> cd /usr/local/rabbitmq/sbin\n \n ./rabbitmqctl add_user mashibing mashibing\n</code></pre>\n<h4 id=\"2-ç»™ç”¨æˆ·æˆäºˆç®¡ç†å‘˜è§’è‰²\"><a class=\"anchor\" href=\"#2-ç»™ç”¨æˆ·æˆäºˆç®¡ç†å‘˜è§’è‰²\">#</a> 2 <strong>ç»™ç”¨æˆ·æˆäºˆç®¡ç†å‘˜è§’è‰²</strong></h4>\n<p>â€‹\tå…¶ä¸­ smallming ä¸ºæ–°å»ºç”¨æˆ·çš„ç”¨æˆ·å</p>\n<pre><code> ./rabbitmqctl set_user_tags mashibing administrator\n</code></pre>\n<h4 id=\"3-ç»™ç”¨æˆ·æˆæƒ\"><a class=\"anchor\" href=\"#3-ç»™ç”¨æˆ·æˆæƒ\">#</a> 3 <strong>ç»™ç”¨æˆ·æˆæƒ</strong></h4>\n<p>â€‹\tâ€œ/â€ è¡¨ç¤ºè™šæ‹Ÿæœº</p>\n<p>â€‹\tmashibing è¡¨ç¤ºç”¨æˆ·å</p>\n<p>â€‹\t&quot;.<em>&quot; &quot;.</em>&quot;&quot;.*&quot; è¡¨ç¤ºå®Œæ•´æƒé™</p>\n<pre><code> ./rabbitmqctl set_permissions -p &quot;/&quot; mashibing &quot;.*&quot; &quot;.*&quot; &quot;.*&quot;\n</code></pre>\n<h4 id=\"4-ç™»å½•\"><a class=\"anchor\" href=\"#4-ç™»å½•\">#</a> 4 <strong>ç™»å½•</strong></h4>\n<p>â€‹\tä½¿ç”¨æ–°å»ºè´¦æˆ·å’Œå¯†ç åœ¨ windows ä¸­è®¿é—® rabbitmq å¹¶ç™»å½•</p>\n<p>â€‹\tåœ¨æµè§ˆå™¨åœ°å€æ è¾“å…¥ï¼š</p>\n<p>â€‹\t<span class=\"exturl\" data-url=\"aHR0cDovL2lwOjE1NjcyLw==\">http://ip:15672/</span></p>\n<pre><code>ç”¨æˆ·åï¼šmashibing\n</code></pre>\n<p>â€‹\tå¯†ç ï¼šmashibing</p>\n<h2 id=\"solrcloud\"><a class=\"anchor\" href=\"#solrcloud\">#</a> SolrCloud</h2>\n<p>â€‹\tSolr å¯ä»¥æ­å»ºå…·å¤‡å®¹é”™èƒ½åŠ›å’Œé«˜å¯ç”¨çš„ Solr é›†ç¾¤ã€‚é›†ç¾¤ä¸­é›†ç¾¤é…ç½®ã€è‡ªåŠ¨è´Ÿè½½å‡è¡¡å’ŒæŸ¥è¯¢æ•…éšœè½¬ç§»ã€\t\t\tZookeeper é›†ç¾¤å®ç°é›†ç¾¤åè°ƒç®¡ç†ï¼Œè¿™äº›å…¨éƒ¨åŠŸèƒ½ç»Ÿç§°ä¸º SolrCloudã€‚</p>\n<p>â€‹\tSolrCloud æ˜¯åŸºäº Zookeeper è¿›è¡Œç®¡ç†çš„ã€‚åœ¨ Solr ä¸­å·²ç»å†…ç½®äº† Zookeeper ç›¸å…³å†…å®¹ï¼Œå½“æ‰§è¡Œé›†ç¾¤åˆ›å»ºå‘½ä»¤ä¼šè‡ªåŠ¨åˆ›å»º Zookeeper ç›¸å…³å†…å®¹ã€‚è¿™ä¸ªä½¿ç”¨çš„æ˜¯ Zookeeper çš„é›†ç¾¤ç®¡ç†åŠŸèƒ½å®ç°çš„ã€‚</p>\n<h4 id=\"1æ­å»º\"><a class=\"anchor\" href=\"#1æ­å»º\">#</a> 1. æ­å»º</h4>\n<h5 id=\"11åˆ›å»º\"><a class=\"anchor\" href=\"#11åˆ›å»º\">#</a> 1.1 åˆ›å»º</h5>\n<p>â€‹\tSolrCloud å·²ç»åŒ…å«åœ¨äº† Solr ä¸­ï¼Œå¯ä»¥ç›´æ¥å¯åŠ¨ Solr é›†ç¾¤ã€‚</p>\n<pre><code> ./solr -e cloud -noprompt -force\n</code></pre>\n<p>â€‹\tæ­¤å‘½ä»¤ç­‰åŒäº# ./solr -e cloud -force å…¨éƒ¨å‚æ•°ä¸ºé»˜è®¤å€¼ã€‚</p>\n<p>â€‹\tè¿è¡ŒæˆåŠŸåä¼šåœ¨ example æ–‡ä»¶å¤¹å¤šå‡º cloud æ–‡ä»¶å¤¹ã€‚</p>\n<h5 id=\"12åœæ­¢\"><a class=\"anchor\" href=\"#12åœæ­¢\">#</a> 1.2 åœæ­¢</h5>\n<pre><code> ./solr stop -all\n</code></pre>\n<h5 id=\"13é‡æ–°è¿è¡Œ\"><a class=\"anchor\" href=\"#13é‡æ–°è¿è¡Œ\">#</a> 1.3 é‡æ–°è¿è¡Œ</h5>\n<pre><code> ./solr start -c -p 8983 -s ../example/cloud/node1/solr/ -force\n ./solr start -c -p 7574 -z localhost:9983 -s ../example/cloud/node2/solr/ -force\n</code></pre>\n<h2 id=\"hdfså®‰è£…\"><a class=\"anchor\" href=\"#hdfså®‰è£…\">#</a> HDFS å®‰è£…</h2>\n<h3 id=\"1-10\"><a class=\"anchor\" href=\"#1-10\">#</a> â€”â€”1</h3>\n<h3 id=\"2-8\"><a class=\"anchor\" href=\"#2-8\">#</a> â€”â€”2</h3>\n<p>1. æ‹‰å– Hadoop é•œåƒï¼ˆå¯ä»¥åœ¨ docker hub ä¸Šæ‰¾åˆé€‚çš„é•œåƒï¼‰ï¼š</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">docker</span> pull singularities/hadoop</pre></td></tr></table></figure><p>2. åˆ›å»º docker-compose.yml æ–‡ä»¶ï¼ˆå¯ä»¥åœ¨æ–‡æœ¬ç¼–è¾‘å™¨ä¸­å†™å¥½åï¼Œå¤åˆ¶ï¼‰ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight yml\"><figcaption data-lang=\"YAML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token key atrule\">version</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"2\"</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token key atrule\">services</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token key atrule\">namenode</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> singularities/hadoop</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token key atrule\">command</span><span class=\"token punctuation\">:</span> start<span class=\"token punctuation\">-</span>hadoop namenode</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token key atrule\">environment</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>      <span class=\"token key atrule\">HDFS_USER</span><span class=\"token punctuation\">:</span> hdfsuser</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token key atrule\">ports</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>      <span class=\"token punctuation\">-</span> <span class=\"token string\">\"8020:8020\"</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>      <span class=\"token punctuation\">-</span> <span class=\"token string\">\"14000:14000\"</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>      <span class=\"token punctuation\">-</span> <span class=\"token string\">\"50070:50070\"</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>      <span class=\"token punctuation\">-</span> <span class=\"token string\">\"10020:10020\"</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>      <span class=\"token punctuation\">-</span> <span class=\"token string\">\"13562:13562\"</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>      <span class=\"token punctuation\">-</span> <span class=\"token string\">\"19888:19888\"</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>  <span class=\"token key atrule\">datanode</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> singularities/hadoop</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token key atrule\">command</span><span class=\"token punctuation\">:</span> start<span class=\"token punctuation\">-</span>hadoop datanode namenode</pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token key atrule\">environment</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>      <span class=\"token key atrule\">HDFS_USER</span><span class=\"token punctuation\">:</span> hdfsuser</pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token key atrule\">links</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>      <span class=\"token punctuation\">-</span> namenode</pre></td></tr></table></figure><p>3. åˆ›å»º hadoopï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">docker-compose</span> up <span class=\"token parameter variable\">-d</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">docker</span> <span class=\"token function\">ps</span></pre></td></tr></table></figure><p>4. å¼€å¯å¤šä¸ª datanode</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">docker-compose</span> scale <span class=\"token assign-left variable\">datanode</span><span class=\"token operator\">=</span><span class=\"token number\">3</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">docker</span> <span class=\"token function\">ps</span></pre></td></tr></table></figure><p>5. æŸ¥çœ‹ hadoop æ§åˆ¶é¢æ¿ã€‚ç”±äºæœåŠ¡åˆšåˆå§‹åŒ–ï¼Œå¯èƒ½éœ€è¦ç­‰ä¸€ä¼šã€‚è®¿é—®ç±»ä¼¼å¦‚ä¸‹ urlï¼š</p>\n<figure class=\"highlight ruby\"><figcaption data-lang=\"ruby\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>http<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span><span class=\"token number\">192.168</span><span class=\"token number\">.1</span><span class=\"token number\">.195</span><span class=\"token operator\">:</span><span class=\"token number\">50070</span><span class=\"token operator\">/</span>dfshealth<span class=\"token punctuation\">.</span>html<span class=\"token comment\">#tab-datanode</span></pre></td></tr></table></figure><p>6. è¿›å…¥ä»»æ„ hadoop ç›¸å…³å®¹å™¨ï¼Œ<strong>ç›´æ¥è¿›è¡Œ hdfs åŸºç¡€æ“ä½œ</strong><br />\nåœ¨ä»»æ„ datanode çš„å®¹å™¨ä¸­æ“ä½œ hdfsï¼Œä¼šè‡ªåŠ¨åŒæ­¥åˆ°å…¶ä»–çš„ datanode å®¹å™¨ä¸­ã€‚</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># æŸ¥çœ‹æ‰€æœ‰å‘½ä»¤</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>hadoop fs</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\"># åˆ›å»ºç›®å½•</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>hadoop fs <span class=\"token parameter variable\">-mkdir</span> /hdfs <span class=\"token comment\">#åœ¨æ ¹ç›®å½•ä¸‹åˆ›å»º hdfs æ–‡ä»¶å¤¹</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\"># æŸ¥çœ‹ç›®å½•</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>hadoop fs <span class=\"token parameter variable\">-ls</span>  /   <span class=\"token comment\">#åˆ—å‡ºæ ¹ç›®å½•ä¸‹çš„æ–‡ä»¶åˆ—è¡¨</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\"># åˆ›å»ºå¤šçº§ç›®å½•</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>hadoop fs <span class=\"token parameter variable\">-mkdir</span> <span class=\"token parameter variable\">-p</span> /hdfs/d1/d2</pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token comment\"># ä¸Šä¼ æ–‡ä»¶åˆ° HDFS</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"hello world\"</span> <span class=\"token operator\">>></span> local.txt   <span class=\"token comment\">#åˆ›å»ºæ–‡ä»¶</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>hadoop fs <span class=\"token parameter variable\">-put</span> local.txt /hdfs/   <span class=\"token comment\">#ä¸Šä¼ æ–‡ä»¶åˆ° hdfs</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token comment\"># ä¸‹è½½ hdfs æ–‡ä»¶</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>hadoop fs <span class=\"token parameter variable\">-get</span> /hdfs/local.txt</pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token comment\"># åˆ é™¤ hdfs ä¸­çš„æ–‡ä»¶</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>hadoop fs <span class=\"token parameter variable\">-rm</span> /hdfs/local.txt</pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token comment\"># åˆ é™¤ hdfs ä¸­çš„ç›®å½•</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>hadoop fs <span class=\"token parameter variable\">-rmdir</span> /hdfs/d1/d2</pre></td></tr></table></figure><h2 id=\"kafka-å®‰è£…\"><a class=\"anchor\" href=\"#kafka-å®‰è£…\">#</a> Kafka å®‰è£…</h2>\n<blockquote>\n<p>å®‰è£…å‰æï¼Œkafka å®‰è£…è¿è¡Œæœ€ä½æ”¯æŒ jdk7ï¼›æœ¬ç¯‡æ¼”ç¤ºç‰ˆæœ¬æ˜¯åŸºäº jdk1.8ï¼›</p>\n</blockquote>\n<p>å®˜æ–¹ä¸‹è½½åœ°å€ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly9saW5rLnpoaWh1LmNvbS8/dGFyZ2V0PWh0dHAlM0EvL2thZmthLmFwYWNoZS5vcmcvZG93bmxvYWRz\">Apache Kafka</span></p>\n<p>kafka æ˜¯ç”± scala è¯­è¨€ç¼–å†™ï¼Œä¸‹è½½ç¨³å®šç‰ˆæœ¬ï¼Œå³å‰ä¸€ä¸ªç‰ˆæœ¬</p>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/onlymarryu/typora-ims-test@master/tools-All/v2-9f6503ade62cfa48df87cc9da984e87d_720w.jpg\" alt=\"img\" /></p>\n<p>ç‚¹å‡»è¿›å…¥åï¼ŒæŒ‰å¦‚ä¸‹æ–¹å¼ç‚¹å‡»ä¸‹è½½</p>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/onlymarryu/typora-ims-test@master/tools-All/v2-bd19bea83d1cb978fbeed614ee126da6_720w.jpg\" alt=\"img\" /></p>\n<p>ä¸‹è½½å®Œæˆåè¿›è¡Œè§£å‹ç¼©</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">tar</span> <span class=\"token parameter variable\">-zxvf</span> kafka_2.12-2.8.0.tgz </pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">mv</span> kafka_2.12-2.8.0 /usr/local/kafka</pre></td></tr></table></figure><p>è§£å‹å®Œæˆåè¿›å…¥ kafka ç›®å½•</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token builtin class-name\">cd</span> /usr/local/kafka</pre></td></tr></table></figure><p><img data-src=\"https://cdn.jsdelivr.net/gh/onlymarryu/typora-ims-test@master/tools-All/v2-dfe360dfc7561953761f8ce69f782f4d_720w.png\" alt=\"img\" /></p>\n<p>kafka æ˜¯åŸºäº Zookeeper çš„æ¶ˆæ¯ç®¡ç†ç³»ç»Ÿï¼Œæ‰€ä»¥å¯åŠ¨çš„æ—¶å€™æ˜¯éœ€è¦ä½¿ç”¨åˆ° Zookeeper ï¼Œä½†å…¶å†…ç½®äº† Zookeeper ï¼Œæ‰€ä»¥åªéœ€è¦æ ¹æ® bin ç›®å½•ä¸‹çš„æ–‡ä»¶è¿›è¡Œå¯åŠ¨å³å¯</p>\n<p>å¯åŠ¨ Zookeeper æœåŠ¡ç«¯å‘½ä»¤</p>\n<figure class=\"highlight text\"><figcaption data-lang=\"text\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>./bin/zookeeper-server-start.sh ./config/zookeeper.properties</pre></td></tr></table></figure><p>Zookeeper å¯åŠ¨æˆåŠŸåä¼šå‡ºç°  <code>binding to port 0.0.0.0/0.0.0.0:2181</code>  æ‰€ç¤ºç»“æœè¡¨ç¤ºå¯åŠ¨æˆåŠŸï¼›</p>\n<p><img data-src=\"https://pic1.zhimg.com/80/v2-6be2f91cd4ec47d589d3c5b58584c4b8_720w.png\" alt=\"img\" /></p>\n<p>å¯åŠ¨ kafka æœåŠ¡ç«¯å‘½ä»¤</p>\n<figure class=\"highlight text\"><figcaption data-lang=\"text\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>./bin/kafka-server-start.sh  ./config/server.properties</pre></td></tr></table></figure><h2 id=\"mycatserverå®‰è£…\"><a class=\"anchor\" href=\"#mycatserverå®‰è£…\">#</a> MyCat (Server å®‰è£…)</h2>\n<ul>\n<li>\n<p>å‰æï¼š</p>\n<ul>\n<li>1ã€<a href=\"#jdk_install\">jdk å®‰è£…</a></li>\n<li>2ã€<a href=\"#mysql_install\">mysql å®‰è£…</a></li>\n</ul>\n</li>\n<li>\n<p>å®˜ç½‘ï¼š<span class=\"exturl\" data-url=\"aHR0cDovL3d3dy5teWNhdC5vcmcuY24v\">http://www.mycat.org.cn/</span></p>\n</li>\n<li>\n<p>é¦–å…ˆå‡†å¤‡å››å°è™šæ‹Ÿæœºï¼Œå®‰è£…å¥½ mysqlï¼Œæ–¹ä¾¿åç»­åšè¯»å†™åˆ†ç¦»å’Œä¸»ä»å¤åˆ¶ã€‚<strong>(3.3 å†…å®¹)</strong></p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token number\">192.168</span>.85.45 node01</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token number\">192.168</span>.85.46 node02</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token number\">192.168</span>.85.47 node03</pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token number\">192.168</span>.85.48 node04</pre></td></tr></table></figure></li>\n</ul>\n<h4 id=\"1-ä¸‹è½½mycat\"><a class=\"anchor\" href=\"#1-ä¸‹è½½mycat\">#</a> 1ã€ä¸‹è½½ MyCat</h4>\n<p><span class=\"exturl\" data-url=\"aHR0cDovL2RsLm15Y2F0Lm9yZy5jbi8xLjYuNy42LzIwMjEwOTMwMjEzMDQ5L015Y2F0LXNlcnZlci0xLjYuNy42LXJlbGVhc2UtMjAyMTA5MzAyMTMwNDktbGludXgudGFyLmd6\">http://dl.mycat.org.cn/1.6.7.6/20210930213049/Mycat-server-1.6.7.6-release-20210930213049-linux.tar.gz</span></p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>windowsä¸‹è½½å®‰è£…åŒ…</pre></td></tr></table></figure><h4 id=\"2-ä¸Šä¼ å¹¶è§£å‹å‹ç¼©æ–‡ä»¶\"><a class=\"anchor\" href=\"#2-ä¸Šä¼ å¹¶è§£å‹å‹ç¼©æ–‡ä»¶\">#</a> 2ã€ä¸Šä¼ å¹¶è§£å‹å‹ç¼©æ–‡ä»¶</h4>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">tar</span> <span class=\"token parameter variable\">-zxvf</span> Mycat-server-1.6.7.5-release-20200422133810-linux.tar.gz <span class=\"token parameter variable\">-C</span> /usr/local/</pre></td></tr></table></figure><h4 id=\"3-ä¿®æ”¹é…ç½®\"><a class=\"anchor\" href=\"#3-ä¿®æ”¹é…ç½®\">#</a> 3ã€ä¿®æ”¹é…ç½®</h4>\n<p>0ã€é…ç½®ç¯å¢ƒå˜é‡ï¼ˆå¯é€‰ï¼‰</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">vim</span> /etc/profile</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\"># æ·»åŠ å¦‚ä¸‹é…ç½®ä¿¡æ¯ï¼š</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">MYCAT_HOME</span><span class=\"token operator\">=</span>/usr/local/mycat</pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\"><span class=\"token environment constant\">PATH</span></span><span class=\"token operator\">=</span><span class=\"token variable\">$MYCAT_HOME</span>/bin:<span class=\"token environment constant\">$PATH</span><span class=\"token builtin class-name\">:</span><span class=\"token variable\">$JAVA_HOME</span>/bin</pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token comment\"># ç”Ÿæ•ˆ</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token builtin class-name\">source</span> /etc/profile</pre></td></tr></table></figure><p><strong>ä¿®æ”¹ server.xml schema.xml ä¹‹å‰å…ˆå¤‡ä»½</strong></p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token builtin class-name\">cd</span> /usr/local/mycat</pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token builtin class-name\">cd</span> conf</pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token function\">cp</span> server.xml server.xml.list</pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token function\">cp</span> schema.xml schema.xml.list</pre></td></tr></table></figure><p>1ã€ä¿®æ”¹å®Œæˆåçš„  <strong>server.xml</strong></p>\n<figure class=\"highlight xml\"><figcaption data-lang=\"XML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token prolog\">&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\">&lt;!-- - - Licensed under the Apache License, Version 2.0 (the \"License\"); </pre></td></tr><tr><td data-num=\"3\"></td><td><pre>        - you may not use this file except in compliance with the License. - You </pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        may obtain a copy of the License at - - http://www.apache.org/licenses/LICENSE-2.0 </pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        - - Unless required by applicable law or agreed to in writing, software - </pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        distributed under the License is distributed on an \"AS IS\" BASIS, - WITHOUT </pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. - See the </pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        License for the specific language governing permissions and - limitations </pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        under the License. --></span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">DOCTYPE</span> <span class=\"token name\">mycat:server</span> <span class=\"token name\">SYSTEM</span> <span class=\"token string\">\"server.dtd\"</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token namespace\">mycat:</span>server</span> <span class=\"token attr-name\"><span class=\"token namespace\">xmlns:</span>mycat</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://io.mycat/<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>user</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>root<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">defaultAccount</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>true<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>password<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>root<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>schemas<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>TESTDB<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>defaultSchema<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>TESTDB<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>user</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token namespace\">mycat:</span>server</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><p>2ã€ä¿®æ”¹å®Œæˆåçš„ schema.xml</p>\n<figure class=\"highlight xml\"><figcaption data-lang=\"XML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token prolog\">&lt;?xml version=\"1.0\"?></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">DOCTYPE</span> <span class=\"token name\">mycat:schema</span> <span class=\"token name\">SYSTEM</span> <span class=\"token string\">\"schema.dtd\"</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token namespace\">mycat:</span>schema</span> <span class=\"token attr-name\"><span class=\"token namespace\">xmlns:</span>mycat</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://io.mycat/<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>schema</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>TESTDB<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">checkSQLschema</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>false<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">sqlMaxLimit</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>100<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">dataNode</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>dn1<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>schema</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>dataNode</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>dn1<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">dataHost</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>host1<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">database</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>msb<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>dataHost</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>host1<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">maxCon</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>1000<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">minCon</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>10<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">balance</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>0<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>                          <span class=\"token attr-name\">writeType</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>0<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">dbType</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>mysql<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">dbDriver</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>native<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">switchType</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>1<span class=\"token punctuation\">\"</span></span>  <span class=\"token attr-name\">slaveThreshold</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>100<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>heartbeat</span><span class=\"token punctuation\">></span></span>select user()<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>heartbeat</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>writeHost</span> <span class=\"token attr-name\">host</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>hostM1<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">url</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>192.168.1.45:3306<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">user</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>root<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>                                   <span class=\"token attr-name\">password</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>root<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>                         <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>readHost</span> <span class=\"token attr-name\">host</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>hostS1<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">url</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>192.168.1.46:3306<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">user</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>root<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">password</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>root<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>readHost</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>writeHost</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>dataHost</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token namespace\">mycat:</span>schema</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><p>3ã€ä¿®æ”¹ <strong>hosts</strong>  æ–‡ä»¶</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">vim</span> /etc/hosts</pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">#æ·»åŠ </span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\">#ip name</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token number\">192.168</span>.1.164 node01</pre></td></tr></table></figure><h4 id=\"4-å¯åŠ¨mycat\"><a class=\"anchor\" href=\"#4-å¯åŠ¨mycat\">#</a> 4ã€å¯åŠ¨ mycat</h4>\n<p>â€‹\t\tmycat çš„å¯åŠ¨æœ‰ä¸¤ç§æ–¹å¼ï¼Œä¸€ç§æ˜¯æ§åˆ¶å°å¯åŠ¨ï¼Œä¸€ç§æ˜¯åå°å¯åŠ¨ï¼Œåœ¨åˆå­¦çš„æ—¶å€™å»ºè®®å¤§å®¶ä½¿ç”¨æ§åˆ¶å°å¯åŠ¨çš„æ–¹å¼ï¼Œå½“é…ç½®æ–‡ä»¶å†™é”™ä¹‹åï¼Œå¯ä»¥æ–¹ä¾¿çš„çœ‹åˆ°é”™è¯¯ï¼ŒåŠæ—¶ä¿®æ”¹ï¼Œä½†æ˜¯åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œä½¿ç”¨åå°å¯åŠ¨çš„æ–¹å¼æ¯”è¾ƒç¨³å¦¥ã€‚</p>\n<p>â€‹\t\t<strong>æ§åˆ¶å°å¯åŠ¨ï¼š</strong></p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token builtin class-name\">cd</span> /usrlocal/mycat/bin</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>./mycat console</pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\">#åŠ å…¥ç¯å¢ƒå˜é‡åå¯ç›´æ¥å¯åŠ¨</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>mycat console</pre></td></tr></table></figure><p>â€‹\t\t<strong>åå°å¯åŠ¨ï¼š</strong></p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token builtin class-name\">cd</span> /usrlocal/mycat/bin</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>./mycat start</pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\">#åŠ å…¥ç¯å¢ƒå˜é‡åå¯ç›´æ¥å¯åŠ¨</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>mycat start</pre></td></tr></table></figure><p>â€‹\t\tæŒ‰ç…§å¦‚ä¸Šé…ç½®åœ¨å®‰è£…çš„æ—¶å€™åº”è¯¥ä¸ä¼šæŠ¥é”™ï¼Œå¦‚æœå‡ºç°é”™è¯¯ï¼Œæ ¹æ®é”™è¯¯çš„æç¤ºè§£å†³å³å¯ã€‚</p>\n<h4 id=\"5-ç™»å½•éªŒè¯\"><a class=\"anchor\" href=\"#5-ç™»å½•éªŒè¯\">#</a> 5ã€ç™»å½•éªŒè¯</h4>\n<p>â€‹\t\t<strong>ç®¡ç†çª—å£çš„ç™»å½•</strong></p>\n<p>â€‹\t\tä»å¦å¤–çš„è™šæ‹Ÿæœºå»ç™»å½•è®¿é—®å½“å‰ mycatï¼Œè¾“å…¥å¦‚ä¸‹å‘½ä»¤å³å¯</p>\n<pre><code>mysql -uroot -proot -P 9066 -h ip\n</code></pre>\n<p>â€‹\t\tæ­¤æ—¶è®¿é—®çš„æ˜¯ mycat çš„ç®¡ç†çª—å£ï¼Œå¯ä»¥é€šè¿‡ show @@help æŸ¥çœ‹å¯ä»¥æ‰§è¡Œçš„å‘½ä»¤</p>\n<p>â€‹\t\t<strong>æ•°æ®çª—å£çš„ç™»å½•</strong></p>\n<p>â€‹\t\tä»å¦å¤–çš„è™šæ‹Ÿæœºå»ç™»å½•è®¿é—® mycatï¼Œè¾“å…¥å‘½ä»¤å¦‚ä¸‹ï¼šã€ç”¨æˆ·è®¾ç½®ã€‘</p>\n<pre><code>mysql -uroot -proot -P8066 -h ip\n</code></pre>\n<p>â€‹\t\tå½“éƒ½èƒ½å¤ŸæˆåŠŸçš„æ—¶å€™ä»¥ä¸ºç€ mycat å·²ç»æ­å»ºå®Œæˆã€‚</p>\n<h2 id=\"haproxyå®‰è£…\"><a class=\"anchor\" href=\"#haproxyå®‰è£…\">#</a> HAProxy å®‰è£…</h2>\n<h3 id=\"1-11\"><a class=\"anchor\" href=\"#1-11\">#</a> â€”â€”1</h3>\n<h4 id=\"1-å‡†å¤‡å¥½haproxyçš„å®‰è£…åŒ…\"><a class=\"anchor\" href=\"#1-å‡†å¤‡å¥½haproxyçš„å®‰è£…åŒ…\">#</a> 1ã€å‡†å¤‡å¥½ HAProxy çš„å®‰è£…åŒ…</h4>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9zcmMuZmVkb3JhcHJvamVjdC5vcmcvcmVwby9wa2dzL2hhcHJveHkv\">https://src.fedoraproject.org/repo/pkgs/haproxy/</span></p>\n<h4 id=\"2-è§£å‹åˆ°usrlocalç›®å½•\"><a class=\"anchor\" href=\"#2-è§£å‹åˆ°usrlocalç›®å½•\">#</a> 2ã€è§£å‹åˆ° /usr/local ç›®å½•</h4>\n<h4 id=\"3-è¿›å…¥åˆ°è§£å‹åçš„ç›®å½•æŸ¥çœ‹å†…æ ¸ç‰ˆæœ¬è¿›è¡Œç¼–è¯‘\"><a class=\"anchor\" href=\"#3-è¿›å…¥åˆ°è§£å‹åçš„ç›®å½•æŸ¥çœ‹å†…æ ¸ç‰ˆæœ¬è¿›è¡Œç¼–è¯‘\">#</a> 3ã€è¿›å…¥åˆ°è§£å‹åçš„ç›®å½•ï¼ŒæŸ¥çœ‹å†…æ ¸ç‰ˆæœ¬ï¼Œè¿›è¡Œç¼–è¯‘</h4>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token builtin class-name\">cd</span> <span class=\"token builtin class-name\">cd</span> /usr/local/haproxy-1.8.25/</pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\"># æŸ¥çœ‹å†…æ ¸ç‰ˆæœ¬ 3.10=31</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token function\">uname</span> <span class=\"token parameter variable\">-r</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token function\">make</span> <span class=\"token assign-left variable\">TARGET</span><span class=\"token operator\">=</span>linux31</pre></td></tr></table></figure><h4 id=\"4-ç¼–è¯‘å®Œæˆä¹‹åå¼€å§‹è¿›è¡Œå®‰è£…\"><a class=\"anchor\" href=\"#4-ç¼–è¯‘å®Œæˆä¹‹åå¼€å§‹è¿›è¡Œå®‰è£…\">#</a> 4ã€ç¼–è¯‘å®Œæˆä¹‹åï¼Œå¼€å§‹è¿›è¡Œå®‰è£…</h4>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">make</span> <span class=\"token function\">install</span> <span class=\"token assign-left variable\">PREFIX</span><span class=\"token operator\">=</span>/usr/local/haproxy</pre></td></tr></table></figure><h4 id=\"5-å®‰è£…å®Œæˆä¹‹ååˆ›å»ºç›®å½•åˆ›å»ºhaproxyé…ç½®æ–‡ä»¶\"><a class=\"anchor\" href=\"#5-å®‰è£…å®Œæˆä¹‹ååˆ›å»ºç›®å½•åˆ›å»ºhaproxyé…ç½®æ–‡ä»¶\">#</a> 5ã€å®‰è£…å®Œæˆä¹‹åï¼Œåˆ›å»ºç›®å½•ï¼Œåˆ›å»º HAProxy é…ç½®æ–‡ä»¶</h4>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">mkdir</span> <span class=\"token parameter variable\">-p</span> /usr/data/haproxy</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">mkdir</span> /usr/local/haproxy/conf</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">vi</span> /usr/local/haproxy/confã€haproxy.conf</pre></td></tr></table></figure><p>6ã€å‘é…ç½®æ–‡ä»¶ä¸­æ·»åŠ é…ç½®ä¿¡æ¯</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>global</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>\t\tlog <span class=\"token number\">127.0</span>.0.1 local0</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>\t\t<span class=\"token comment\">#log 127.0.0.1 local1 notice</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>\t\t<span class=\"token comment\">#log loghost local0 info</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>\t\tmaxconn <span class=\"token number\">4096</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>\t\t<span class=\"token function\">chroot</span> /usr/local/haproxy</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>\t\tpidfile /usr/data/haproxy/haproxy.pid</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>\t\tuid <span class=\"token number\">99</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>\t\tgid <span class=\"token number\">99</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>\t\tdaemon</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>\t\t<span class=\"token comment\">#debug</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>\t\t<span class=\"token comment\">#quiet</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>defaults</pre></td></tr><tr><td data-num=\"14\"></td><td><pre>\t\tlog global</pre></td></tr><tr><td data-num=\"15\"></td><td><pre>\t\tmode tcp</pre></td></tr><tr><td data-num=\"16\"></td><td><pre>\t\toption abortonclose</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>\t\toption redispatch</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>\t\tretries <span class=\"token number\">3</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>\t\tmaxconn <span class=\"token number\">2000</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>\t\t<span class=\"token function\">timeout</span> connect <span class=\"token number\">5000</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>\t\t<span class=\"token function\">timeout</span> client <span class=\"token number\">50000</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>\t\t<span class=\"token function\">timeout</span> server <span class=\"token number\">50000</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>listen proxy_status</pre></td></tr><tr><td data-num=\"24\"></td><td><pre>\t<span class=\"token builtin class-name\">bind</span> :48066</pre></td></tr><tr><td data-num=\"25\"></td><td><pre>\t\tmode tcp</pre></td></tr><tr><td data-num=\"26\"></td><td><pre>\t\tbalance roundrobin</pre></td></tr><tr><td data-num=\"27\"></td><td><pre>\t\tserver mycat_1 <span class=\"token number\">192.168</span>.85.111:8066 check inter 10s</pre></td></tr><tr><td data-num=\"28\"></td><td><pre>\t\tserver mycat_2 <span class=\"token number\">192.168</span>.85.112:8066 check inter 10s</pre></td></tr><tr><td data-num=\"29\"></td><td><pre>frontend admin_stats</pre></td></tr><tr><td data-num=\"30\"></td><td><pre>\t<span class=\"token builtin class-name\">bind</span> :7777</pre></td></tr><tr><td data-num=\"31\"></td><td><pre>\t\tmode http</pre></td></tr><tr><td data-num=\"32\"></td><td><pre>\t\tstats <span class=\"token builtin class-name\">enable</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>\t\toption httplog</pre></td></tr><tr><td data-num=\"34\"></td><td><pre>\t\tmaxconn <span class=\"token number\">10</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>\t\tstats refresh 30s</pre></td></tr><tr><td data-num=\"36\"></td><td><pre>\t\tstats uri /admin</pre></td></tr><tr><td data-num=\"37\"></td><td><pre>\t\tstats auth admin:123123</pre></td></tr><tr><td data-num=\"38\"></td><td><pre>\t\tstats hide-version</pre></td></tr><tr><td data-num=\"39\"></td><td><pre>\t\tstats admin <span class=\"token keyword\">if</span> TRUE</pre></td></tr></table></figure><ul>\n<li>stats uri /admin                   \t\t   <strong>è´¦å·</strong></li>\n<li>stats auth admin:123123       \t   <strong>å¯†ç </strong></li>\n</ul>\n<h4 id=\"7-å¯åŠ¨haproxyæœåŠ¡\"><a class=\"anchor\" href=\"#7-å¯åŠ¨haproxyæœåŠ¡\">#</a> 7ã€å¯åŠ¨ haproxy æœåŠ¡</h4>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>/usr/local/haproxy/sbin/haproxy <span class=\"token parameter variable\">-f</span> /usr/local/haproxy/conf/haproxy.conf</pre></td></tr></table></figure><h4 id=\"8-æŸ¥çœ‹haproxyçš„è¿›ç¨‹å¦‚æœå­˜åœ¨åˆ™è¯´æ˜æ²¡æœ‰é—®é¢˜\"><a class=\"anchor\" href=\"#8-æŸ¥çœ‹haproxyçš„è¿›ç¨‹å¦‚æœå­˜åœ¨åˆ™è¯´æ˜æ²¡æœ‰é—®é¢˜\">#</a> 8ã€æŸ¥çœ‹ haproxy çš„è¿›ç¨‹ï¼Œå¦‚æœå­˜åœ¨åˆ™è¯´æ˜æ²¡æœ‰é—®é¢˜</h4>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">ps</span> <span class=\"token parameter variable\">-ef</span> <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> haproxy</pre></td></tr></table></figure><h4 id=\"9-æ‰“å¼€æµè§ˆå™¨è®¿é—®ç”¨æˆ·åä¸ºadminå¯†ç ä¸º123123\"><a class=\"anchor\" href=\"#9-æ‰“å¼€æµè§ˆå™¨è®¿é—®ç”¨æˆ·åä¸ºadminå¯†ç ä¸º123123\">#</a> 9ã€æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼Œç”¨æˆ·åä¸º adminï¼Œå¯†ç ä¸º 123123</h4>\n<p>â€‹\t<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMS4xNjQ6Nzc3Ny9hZG1pbg==\">http://192.168.1.164:7777/admin</span></p>\n<h2 id=\"keepalivedå®‰è£…\"><a class=\"anchor\" href=\"#keepalivedå®‰è£…\">#</a> Keepalived å®‰è£…</h2>\n<h3 id=\"1-12\"><a class=\"anchor\" href=\"#1-12\">#</a> â€”â€”1</h3>\n<h4 id=\"1-å‡†å¤‡å¥½keepalivedå®‰è£…åŒ…\"><a class=\"anchor\" href=\"#1-å‡†å¤‡å¥½keepalivedå®‰è£…åŒ…\">#</a> 1ã€å‡†å¤‡å¥½ Keepalived å®‰è£…åŒ…</h4>\n<h4 id=\"2-è§£å‹åˆ°usrlocalç›®å½•-2\"><a class=\"anchor\" href=\"#2-è§£å‹åˆ°usrlocalç›®å½•-2\">#</a> 2ã€è§£å‹åˆ° /usr/local ç›®å½•</h4>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">tar</span> <span class=\"token parameter variable\">-zxvf</span> /usr/local/tmp/keepalived-1.4.5.tar.gz <span class=\"token parameter variable\">-C</span> /usr/local/</pre></td></tr></table></figure><h4 id=\"3-å®‰è£…éœ€è¦ä¾èµ–çš„ç¯å¢ƒç»„ä»¶\"><a class=\"anchor\" href=\"#3-å®‰è£…éœ€è¦ä¾èµ–çš„ç¯å¢ƒç»„ä»¶\">#</a> 3ã€å®‰è£…éœ€è¦ä¾èµ–çš„ç¯å¢ƒç»„ä»¶</h4>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>yum <span class=\"token function\">install</span> gcc openssl-devel popt-devel <span class=\"token parameter variable\">-y</span></pre></td></tr></table></figure><h4 id=\"4-è¿›å…¥åˆ°è§£å‹ç›®å½•è¿›è¡Œç¼–è¯‘\"><a class=\"anchor\" href=\"#4-è¿›å…¥åˆ°è§£å‹ç›®å½•è¿›è¡Œç¼–è¯‘\">#</a> 4ã€è¿›å…¥åˆ°è§£å‹ç›®å½•ï¼Œè¿›è¡Œç¼–è¯‘</h4>\n<pre><code>cd /usr/local/keepalived-1.4.5\n./configure --prefix=/usr/local/keepalived\t\n</code></pre>\n<h4 id=\"5-ç¼–è¯‘å®Œæˆä¹‹åè¿›è¡Œå®‰è£…\"><a class=\"anchor\" href=\"#5-ç¼–è¯‘å®Œæˆä¹‹åè¿›è¡Œå®‰è£…\">#</a> 5ã€ç¼–è¯‘å®Œæˆä¹‹åï¼Œè¿›è¡Œå®‰è£…</h4>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">make</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">make</span> <span class=\"token function\">install</span></pre></td></tr></table></figure><h4 id=\"6-å°†keepalivedçš„æœåŠ¡æ³¨å†Œä¸ºç³»ç»ŸæœåŠ¡\"><a class=\"anchor\" href=\"#6-å°†keepalivedçš„æœåŠ¡æ³¨å†Œä¸ºç³»ç»ŸæœåŠ¡\">#</a> 6ã€å°† keepalived çš„æœåŠ¡æ³¨å†Œä¸ºç³»ç»ŸæœåŠ¡</h4>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">cp</span>  <span class=\"token parameter variable\">-rf</span>   /usr/local/keepalived-1.4.5/keepalived/etc/init.d/keepalived /etc/init.d/</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">mkdir</span> /etc/keepalived</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">cp</span>   <span class=\"token parameter variable\">-rf</span>  /usr/local/keepalived/etc/keepalived/keepalived.conf /etc/keepalived/</pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token function\">cp</span>   <span class=\"token parameter variable\">-rf</span>  /usr/local/keepalived-1.4.5/keepalived/etc/sysconfig/keepalived /etc/sysconfig/</pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token function\">cp</span>   <span class=\"token parameter variable\">-rf</span>  /usr/local/keepalived/sbin/keepalived /usr/sbin/</pre></td></tr></table></figure><h4 id=\"7-ä¿®æ”¹é…ç½®æ–‡ä»¶\"><a class=\"anchor\" href=\"#7-ä¿®æ”¹é…ç½®æ–‡ä»¶\">#</a> 7ã€ä¿®æ”¹é…ç½®æ–‡ä»¶</h4>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">vim</span>  /etc/keepalived/keepalived.conf</pre></td></tr></table></figure><p><strong>CentOS-6   ä¸‹çš„é…ç½®æ–‡ä»¶</strong></p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token operator\">!</span> Configuration File <span class=\"token keyword\">for</span> keepalived</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>global_defs <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>   notification_email <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>     acassen@firewall.loc</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>     failover@firewall.loc</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>     sysadmin@firewall.loc</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>   <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>   notification_email_from Alexandre.Cassen@firewall.loc</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>   smtp_server <span class=\"token number\">127.0</span>.0.1</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>   smtp_connect_timeout <span class=\"token number\">30</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>   router_id LVS_DEVEL</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>   vrrp_skip_check_adv_addr</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>   vrrp_garp_interval <span class=\"token number\">0</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>   vrrp_gna_interval <span class=\"token number\">0</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>vrrp_instance VI_1 <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>\t<span class=\"token comment\"># é…ç½®ä¸ºä¸»</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    state MASTER</pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token comment\"># è®¾ç½®ç½‘å¡</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    interface eth0</pre></td></tr><tr><td data-num=\"22\"></td><td><pre>     <span class=\"token comment\"># è™šæ‹Ÿè·¯ç”± IDï¼Œå…¨å±€å”¯ä¸€</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    virtual_router_id <span class=\"token number\">51</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token comment\"># ä¼˜å…ˆçº§ï¼Œæƒé‡å€¼</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    priority <span class=\"token number\">100</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    advert_int <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    authentication <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>        auth_type PASS</pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        auth_pass <span class=\"token number\">1111</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>    virtual_ipaddress <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>         <span class=\"token number\">192.168</span>.1.100/24  dev eth0 label eth0:3:</pre></td></tr><tr><td data-num=\"33\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p><strong>CentOS-7   ä¸‹çš„é…ç½®æ–‡ä»¶</strong></p>\n<pre><code class=\"language-conf\">! Configuration File for keepalived\nglobal_defs &#123;\n   notification_email &#123;\n     acassen@firewall.loc\n     failover@firewall.loc\n     sysadmin@firewall.loc\n   &#125;\n   notification_email_from Alexandre.Cassen@firewall.loc\n   smtp_server 127.0.0.1\n   smtp_connect_timeout 30\n   router_id LVS_DEVEL\n   vrrp_skip_check_adv_addr\n   vrrp_garp_interval 0\n   vrrp_gna_interval 0\n&#125;\n\nvrrp_instance VI_1 &#123;\n\t# é…ç½®ä¸ºä¸»\n    state MASTER\n    # è®¾ç½®ç½‘å¡\n    interface ens33\n     # è™šæ‹Ÿè·¯ç”±IDï¼Œå…¨å±€å”¯ä¸€\n    virtual_router_id 51\n    # ä¼˜å…ˆçº§ï¼Œæƒé‡å€¼\n    priority 100\n    advert_int 1\n    authentication &#123;\n        auth_type PASS\n        auth_pass 1111\n    &#125;\n    virtual_ipaddress &#123;\n        192.168.1.100/24 \n    &#125;\n&#125;\n\n</code></pre>\n<h4 id=\"8-å¯åŠ¨keepalived\"><a class=\"anchor\" href=\"#8-å¯åŠ¨keepalived\">#</a> 8ã€å¯åŠ¨ keepalived</h4>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">service</span> keepalived start</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\">#æˆ–è€…</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>systemctl start keepalived.service</pre></td></tr></table></figure><h4 id=\"9-ç™»å½•éªŒè¯\"><a class=\"anchor\" href=\"#9-ç™»å½•éªŒè¯\">#</a> 9ã€ç™»å½•éªŒè¯</h4>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>mysql <span class=\"token parameter variable\">-uroot</span> <span class=\"token parameter variable\">-p123456</span> <span class=\"token parameter variable\">-h</span> <span class=\"token number\">192.168</span>.1.100 <span class=\"token parameter variable\">-P</span> <span class=\"token number\">48066</span></pre></td></tr></table></figure><h2 id=\"mycat-web\"><a class=\"anchor\" href=\"#mycat-web\">#</a> mycat-web</h2>\n<h3 id=\"1-13\"><a class=\"anchor\" href=\"#1-13\">#</a> â€”â€”1</h3>\n<h4 id=\"1-ä¸‹è½½mycat-webå®‰è£…åŒ…\"><a class=\"anchor\" href=\"#1-ä¸‹è½½mycat-webå®‰è£…åŒ…\">#</a> 1ã€ä¸‹è½½ mycat-web å®‰è£…åŒ…</h4>\n<p>â€‹\tå®˜æ–¹åœ°å€ï¼š<span class=\"exturl\" data-url=\"aHR0cDovL2RsLm15Y2F0Lm9yZy5jbi8=\">http://dl.mycat.org.cn/</span></p>\n<h4 id=\"2-è§£å‹å®‰è£…åŒ…åˆ°usrlocalç›®å½•\"><a class=\"anchor\" href=\"#2-è§£å‹å®‰è£…åŒ…åˆ°usrlocalç›®å½•\">#</a> 2ã€è§£å‹å®‰è£…åŒ…åˆ° /usr/local ç›®å½•</h4>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">tar</span> <span class=\"token parameter variable\">-zxvf</span> Mycat-web-1.0-SNAPSHOT-20170102153329-linux.tar.gz <span class=\"token parameter variable\">-C</span> /usr/local/</pre></td></tr></table></figure><h4 id=\"3-è¿›å…¥mycat-webçš„ç›®å½•è¿è¡Œå¯åŠ¨å‘½ä»¤\"><a class=\"anchor\" href=\"#3-è¿›å…¥mycat-webçš„ç›®å½•è¿è¡Œå¯åŠ¨å‘½ä»¤\">#</a> 3ã€è¿›å…¥ mycat-web çš„ç›®å½•è¿è¡Œå¯åŠ¨å‘½ä»¤</h4>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>./start.sh <span class=\"token operator\">&amp;</span></pre></td></tr></table></figure><h4 id=\"4-mycat-webçš„æœåŠ¡ç«¯å£æ˜¯8082æŸ¥çœ‹æœåŠ¡æ˜¯å¦å¯åŠ¨\"><a class=\"anchor\" href=\"#4-mycat-webçš„æœåŠ¡ç«¯å£æ˜¯8082æŸ¥çœ‹æœåŠ¡æ˜¯å¦å¯åŠ¨\">#</a> 4ã€mycat-web çš„æœåŠ¡ç«¯å£æ˜¯ 8082ï¼ŒæŸ¥çœ‹æœåŠ¡æ˜¯å¦å¯åŠ¨</h4>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">netstat</span> <span class=\"token parameter variable\">-nlpt</span> <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> <span class=\"token number\">8082</span></pre></td></tr></table></figure><h4 id=\"5-é€šè¿‡åœ°å€è®¿é—®æœåŠ¡\"><a class=\"anchor\" href=\"#5-é€šè¿‡åœ°å€è®¿é—®æœåŠ¡\">#</a> 5ã€é€šè¿‡åœ°å€è®¿é—®æœåŠ¡</h4>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token number\">192.168</span>.1.164:8082/mycat/</pre></td></tr></table></figure><h4 id=\"6-mycat-webé…ç½®\"><a class=\"anchor\" href=\"#6-mycat-webé…ç½®\">#</a> 6ã€mycat-web é…ç½®</h4>\n<h5 id=\"61-é…ç½®zookeeperå¯é€‰\"><a class=\"anchor\" href=\"#61-é…ç½®zookeeperå¯é€‰\">#</a> 6.1ã€é…ç½® zookeeper (å¯é€‰)</h5>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token builtin class-name\">cd</span> /usr/local/mycat-web/mycat-web/WEB-INF/classes</pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">#ä¿®æ”¹ mycat.properties æ–‡ä»¶ï¼Œå¯ä»¥ä¿®æ”¹ zookeeper çš„åœ°å€</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token function\">vim</span> mycat.properties</pre></td></tr></table></figure><h5 id=\"62-æ·»åŠ mycatå®ä¾‹\"><a class=\"anchor\" href=\"#62-æ·»åŠ mycatå®ä¾‹\">#</a> 6.2ã€æ·»åŠ  mycat å®ä¾‹</h5>\n<pre><code>* åœ¨é¡µé¢çš„mycaté…ç½®\n\n* mycatæœåŠ¡ç®¡ç†ä¸­æ·»åŠ mycatå®ä¾‹ï¼Œéœ€è¦å¡«å†™ç›¸å…³çš„å‚æ•°\n</code></pre>\n<h2 id=\"nacoså®‰è£…\"><a class=\"anchor\" href=\"#nacoså®‰è£…\">#</a> Nacos å®‰è£…</h2>\n<p><strong>æ³¨ï¼š</strong></p>\n<ul>\n<li>\n<p>å®‰è£…ä¹‹å‰å¿…é¡» é…ç½®  <a href=\"#jdk_install\">jdk</a></p>\n</li>\n<li>\n<p>å®‰è£…ä¹‹å‰å¿…é¡» é…ç½®  <a href=\"#mysql_install\">mysql5.6.+</a></p>\n</li>\n</ul>\n<p>&lt;div name=&quot;nacos_install_1&quot;&gt;</p>\n<h3 id=\"1-14\"><a class=\"anchor\" href=\"#1-14\">#</a> â€”â€”1</h3>\n<h4 id=\"1-å‡†å¤‡å®‰è£…åŒ…\"><a class=\"anchor\" href=\"#1-å‡†å¤‡å®‰è£…åŒ…\">#</a> 1ã€å‡†å¤‡å®‰è£…åŒ…</h4>\n<p>å®˜ç½‘ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2FsaWJhYmEvbmFjb3MvcmVsZWFzZXM=\">https://github.com/alibaba/nacos/releases</span></p>\n<p>æœ¬ç¯‡æˆ‘ä»¬é€‰æ‹© versionï¼š2.0.3</p>\n<h4 id=\"2-ä¸Šä¼ å¹¶è§£å‹\"><a class=\"anchor\" href=\"#2-ä¸Šä¼ å¹¶è§£å‹\">#</a> 2ã€ä¸Šä¼ å¹¶è§£å‹</h4>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">tar</span> <span class=\"token parameter variable\">-zxvf</span> nacos-server-2.0.3 .tar.gz <span class=\"token parameter variable\">-C</span> /usr/local/</pre></td></tr></table></figure><h4 id=\"3-ä¿®æ”¹é…ç½®-2\"><a class=\"anchor\" href=\"#3-ä¿®æ”¹é…ç½®-2\">#</a> 3ã€ä¿®æ”¹é…ç½®</h4>\n<blockquote>\n<p>1ã€ä½¿ç”¨ nacos-mysql.sql</p>\n<p>â€‹\t\tä¸ºæˆ‘ä»¬å‚¨å­˜æ•°æ®å»ºç«‹æ•°æ®åº“ã€è¡¨</p>\n<p>2ã€ <code>application.propertiesé‡Œé¢ä¿®æ”¹æ•°æ®å‚¨å­˜ä½ç½®ä¸ºmysql</code></p>\n</blockquote>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token builtin class-name\">cd</span> /usr/local/nacos/conf</pre></td></tr></table></figure><figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">-- 1 å»ºç«‹æ•°æ®åº“</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">create</span>  <span class=\"token keyword\">database</span> nacos_config<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">use</span> nacos_config<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token identifier\"><span class=\"token punctuation\">`</span>config_info<span class=\"token punctuation\">`</span></span> <span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>id<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">bigint</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">AUTO_INCREMENT</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'id'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>data_id<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">255</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'data_id'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>group_id<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">255</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>content<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">longtext</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'content'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>md5<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">32</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'md5'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>gmt_create<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">datetime</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token keyword\">CURRENT_TIMESTAMP</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'åˆ›å»ºæ—¶é—´'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>gmt_modified<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">datetime</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token keyword\">CURRENT_TIMESTAMP</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'ä¿®æ”¹æ—¶é—´'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>src_user<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">text</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'source user'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>src_ip<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">50</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'source ip'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>app_name<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">128</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>tenant_id<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">128</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token string\">''</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'ç§Ÿæˆ·å­—æ®µ'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>c_desc<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">256</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>c_use<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">64</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>effect<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">64</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>type<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">64</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>c_schema<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">text</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>  <span class=\"token keyword\">PRIMARY</span> <span class=\"token keyword\">KEY</span> <span class=\"token punctuation\">(</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>id<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>  <span class=\"token keyword\">UNIQUE</span> <span class=\"token keyword\">KEY</span> <span class=\"token identifier\"><span class=\"token punctuation\">`</span>uk_configinfo_datagrouptenant<span class=\"token punctuation\">`</span></span> <span class=\"token punctuation\">(</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>data_id<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">,</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>group_id<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">,</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>tenant_id<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre><span class=\"token punctuation\">)</span> <span class=\"token keyword\">ENGINE</span><span class=\"token operator\">=</span><span class=\"token keyword\">InnoDB</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token keyword\">CHARSET</span><span class=\"token operator\">=</span>utf8 <span class=\"token keyword\">COLLATE</span><span class=\"token operator\">=</span>utf8_bin <span class=\"token keyword\">COMMENT</span><span class=\"token operator\">=</span><span class=\"token string\">'config_info'</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre></pre></td></tr><tr><td data-num=\"26\"></td><td><pre></pre></td></tr><tr><td data-num=\"27\"></td><td><pre><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token identifier\"><span class=\"token punctuation\">`</span>config_info_aggr<span class=\"token punctuation\">`</span></span> <span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>id<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">bigint</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">AUTO_INCREMENT</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'id'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>data_id<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">255</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'data_id'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>group_id<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">255</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'group_id'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>datum_id<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">255</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'datum_id'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>content<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">longtext</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'å†…å®¹'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>gmt_modified<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">datetime</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'ä¿®æ”¹æ—¶é—´'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>app_name<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">128</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>tenant_id<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">128</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token string\">''</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'ç§Ÿæˆ·å­—æ®µ'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>  <span class=\"token keyword\">PRIMARY</span> <span class=\"token keyword\">KEY</span> <span class=\"token punctuation\">(</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>id<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>  <span class=\"token keyword\">UNIQUE</span> <span class=\"token keyword\">KEY</span> <span class=\"token identifier\"><span class=\"token punctuation\">`</span>uk_configinfoaggr_datagrouptenantdatum<span class=\"token punctuation\">`</span></span> <span class=\"token punctuation\">(</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>data_id<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">,</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>group_id<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">,</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>tenant_id<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">,</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>datum_id<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre><span class=\"token punctuation\">)</span> <span class=\"token keyword\">ENGINE</span><span class=\"token operator\">=</span><span class=\"token keyword\">InnoDB</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token keyword\">CHARSET</span><span class=\"token operator\">=</span>utf8 <span class=\"token keyword\">COLLATE</span><span class=\"token operator\">=</span>utf8_bin <span class=\"token keyword\">COMMENT</span><span class=\"token operator\">=</span><span class=\"token string\">'å¢åŠ ç§Ÿæˆ·å­—æ®µ'</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre></pre></td></tr><tr><td data-num=\"40\"></td><td><pre></pre></td></tr><tr><td data-num=\"41\"></td><td><pre></pre></td></tr><tr><td data-num=\"42\"></td><td><pre><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token identifier\"><span class=\"token punctuation\">`</span>config_info_beta<span class=\"token punctuation\">`</span></span> <span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>id<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">bigint</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">AUTO_INCREMENT</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'id'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>data_id<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">255</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'data_id'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>group_id<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">128</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'group_id'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>app_name<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">128</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'app_name'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>content<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">longtext</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'content'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>beta_ips<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">1024</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'betaIps'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>md5<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">32</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'md5'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>gmt_create<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">datetime</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token keyword\">CURRENT_TIMESTAMP</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'åˆ›å»ºæ—¶é—´'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>gmt_modified<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">datetime</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token keyword\">CURRENT_TIMESTAMP</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'ä¿®æ”¹æ—¶é—´'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>src_user<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">text</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'source user'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>src_ip<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">50</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'source ip'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>tenant_id<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">128</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token string\">''</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'ç§Ÿæˆ·å­—æ®µ'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"55\"></td><td><pre>  <span class=\"token keyword\">PRIMARY</span> <span class=\"token keyword\">KEY</span> <span class=\"token punctuation\">(</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>id<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"56\"></td><td><pre>  <span class=\"token keyword\">UNIQUE</span> <span class=\"token keyword\">KEY</span> <span class=\"token identifier\"><span class=\"token punctuation\">`</span>uk_configinfobeta_datagrouptenant<span class=\"token punctuation\">`</span></span> <span class=\"token punctuation\">(</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>data_id<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">,</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>group_id<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">,</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>tenant_id<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"57\"></td><td><pre><span class=\"token punctuation\">)</span> <span class=\"token keyword\">ENGINE</span><span class=\"token operator\">=</span><span class=\"token keyword\">InnoDB</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token keyword\">CHARSET</span><span class=\"token operator\">=</span>utf8 <span class=\"token keyword\">COLLATE</span><span class=\"token operator\">=</span>utf8_bin <span class=\"token keyword\">COMMENT</span><span class=\"token operator\">=</span><span class=\"token string\">'config_info_beta'</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"58\"></td><td><pre></pre></td></tr><tr><td data-num=\"59\"></td><td><pre></pre></td></tr><tr><td data-num=\"60\"></td><td><pre><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token identifier\"><span class=\"token punctuation\">`</span>config_info_tag<span class=\"token punctuation\">`</span></span> <span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"61\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>id<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">bigint</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">AUTO_INCREMENT</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'id'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"62\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>data_id<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">255</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'data_id'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"63\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>group_id<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">128</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'group_id'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"64\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>tenant_id<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">128</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token string\">''</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'tenant_id'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"65\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>tag_id<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">128</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'tag_id'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"66\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>app_name<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">128</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'app_name'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"67\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>content<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">longtext</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'content'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"68\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>md5<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">32</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'md5'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"69\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>gmt_create<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">datetime</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token keyword\">CURRENT_TIMESTAMP</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'åˆ›å»ºæ—¶é—´'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"70\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>gmt_modified<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">datetime</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token keyword\">CURRENT_TIMESTAMP</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'ä¿®æ”¹æ—¶é—´'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"71\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>src_user<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">text</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'source user'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"72\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>src_ip<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">50</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'source ip'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"73\"></td><td><pre>  <span class=\"token keyword\">PRIMARY</span> <span class=\"token keyword\">KEY</span> <span class=\"token punctuation\">(</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>id<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"74\"></td><td><pre>  <span class=\"token keyword\">UNIQUE</span> <span class=\"token keyword\">KEY</span> <span class=\"token identifier\"><span class=\"token punctuation\">`</span>uk_configinfotag_datagrouptenanttag<span class=\"token punctuation\">`</span></span> <span class=\"token punctuation\">(</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>data_id<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">,</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>group_id<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">,</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>tenant_id<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">,</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>tag_id<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"75\"></td><td><pre><span class=\"token punctuation\">)</span> <span class=\"token keyword\">ENGINE</span><span class=\"token operator\">=</span><span class=\"token keyword\">InnoDB</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token keyword\">CHARSET</span><span class=\"token operator\">=</span>utf8 <span class=\"token keyword\">COLLATE</span><span class=\"token operator\">=</span>utf8_bin <span class=\"token keyword\">COMMENT</span><span class=\"token operator\">=</span><span class=\"token string\">'config_info_tag'</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"76\"></td><td><pre></pre></td></tr><tr><td data-num=\"77\"></td><td><pre></pre></td></tr><tr><td data-num=\"78\"></td><td><pre><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token identifier\"><span class=\"token punctuation\">`</span>config_tags_relation<span class=\"token punctuation\">`</span></span> <span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"79\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>id<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">bigint</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'id'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"80\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>tag_name<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">128</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'tag_name'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"81\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>tag_type<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">64</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'tag_type'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"82\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>data_id<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">255</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'data_id'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"83\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>group_id<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">128</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'group_id'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"84\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>tenant_id<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">128</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token string\">''</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'tenant_id'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"85\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>nid<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">bigint</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">AUTO_INCREMENT</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"86\"></td><td><pre>  <span class=\"token keyword\">PRIMARY</span> <span class=\"token keyword\">KEY</span> <span class=\"token punctuation\">(</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>nid<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"87\"></td><td><pre>  <span class=\"token keyword\">UNIQUE</span> <span class=\"token keyword\">KEY</span> <span class=\"token identifier\"><span class=\"token punctuation\">`</span>uk_configtagrelation_configidtag<span class=\"token punctuation\">`</span></span> <span class=\"token punctuation\">(</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>id<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">,</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>tag_name<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">,</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>tag_type<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"88\"></td><td><pre>  <span class=\"token keyword\">KEY</span> <span class=\"token identifier\"><span class=\"token punctuation\">`</span>idx_tenant_id<span class=\"token punctuation\">`</span></span> <span class=\"token punctuation\">(</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>tenant_id<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"89\"></td><td><pre><span class=\"token punctuation\">)</span> <span class=\"token keyword\">ENGINE</span><span class=\"token operator\">=</span><span class=\"token keyword\">InnoDB</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token keyword\">CHARSET</span><span class=\"token operator\">=</span>utf8 <span class=\"token keyword\">COLLATE</span><span class=\"token operator\">=</span>utf8_bin <span class=\"token keyword\">COMMENT</span><span class=\"token operator\">=</span><span class=\"token string\">'config_tag_relation'</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"90\"></td><td><pre></pre></td></tr><tr><td data-num=\"91\"></td><td><pre></pre></td></tr><tr><td data-num=\"92\"></td><td><pre><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token identifier\"><span class=\"token punctuation\">`</span>group_capacity<span class=\"token punctuation\">`</span></span> <span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"93\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>id<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">bigint</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">unsigned</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">AUTO_INCREMENT</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'ä¸»é”®ID'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"94\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>group_id<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">128</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token string\">''</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'Group IDï¼Œç©ºå­—ç¬¦è¡¨ç¤ºæ•´ä¸ªé›†ç¾¤'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"95\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>quota<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">int</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">unsigned</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token string\">'0'</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'é…é¢ï¼Œ0è¡¨ç¤ºä½¿ç”¨é»˜è®¤å€¼'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"96\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>usage<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">int</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">unsigned</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token string\">'0'</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'ä½¿ç”¨é‡'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"97\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>max_size<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">int</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">unsigned</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token string\">'0'</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'å•ä¸ªé…ç½®å¤§å°ä¸Šé™ï¼Œå•ä½ä¸ºå­—èŠ‚ï¼Œ0è¡¨ç¤ºä½¿ç”¨é»˜è®¤å€¼'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"98\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>max_aggr_count<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">int</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">unsigned</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token string\">'0'</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'èšåˆå­é…ç½®æœ€å¤§ä¸ªæ•°ï¼Œï¼Œ0è¡¨ç¤ºä½¿ç”¨é»˜è®¤å€¼'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"99\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>max_aggr_size<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">int</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">unsigned</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token string\">'0'</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'å•ä¸ªèšåˆæ•°æ®çš„å­é…ç½®å¤§å°ä¸Šé™ï¼Œå•ä½ä¸ºå­—èŠ‚ï¼Œ0è¡¨ç¤ºä½¿ç”¨é»˜è®¤å€¼'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"100\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>max_history_count<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">int</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">unsigned</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token string\">'0'</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'æœ€å¤§å˜æ›´å†å²æ•°é‡'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"101\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>gmt_create<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">datetime</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token keyword\">CURRENT_TIMESTAMP</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'åˆ›å»ºæ—¶é—´'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"102\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>gmt_modified<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">datetime</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token keyword\">CURRENT_TIMESTAMP</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'ä¿®æ”¹æ—¶é—´'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"103\"></td><td><pre>  <span class=\"token keyword\">PRIMARY</span> <span class=\"token keyword\">KEY</span> <span class=\"token punctuation\">(</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>id<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"104\"></td><td><pre>  <span class=\"token keyword\">UNIQUE</span> <span class=\"token keyword\">KEY</span> <span class=\"token identifier\"><span class=\"token punctuation\">`</span>uk_group_id<span class=\"token punctuation\">`</span></span> <span class=\"token punctuation\">(</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>group_id<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"105\"></td><td><pre><span class=\"token punctuation\">)</span> <span class=\"token keyword\">ENGINE</span><span class=\"token operator\">=</span><span class=\"token keyword\">InnoDB</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token keyword\">CHARSET</span><span class=\"token operator\">=</span>utf8 <span class=\"token keyword\">COLLATE</span><span class=\"token operator\">=</span>utf8_bin <span class=\"token keyword\">COMMENT</span><span class=\"token operator\">=</span><span class=\"token string\">'é›†ç¾¤ã€å„Groupå®¹é‡ä¿¡æ¯è¡¨'</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"106\"></td><td><pre></pre></td></tr><tr><td data-num=\"107\"></td><td><pre></pre></td></tr><tr><td data-num=\"108\"></td><td><pre><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token identifier\"><span class=\"token punctuation\">`</span>his_config_info<span class=\"token punctuation\">`</span></span> <span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"109\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>id<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">bigint</span><span class=\"token punctuation\">(</span><span class=\"token number\">64</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">unsigned</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"110\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>nid<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">bigint</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">unsigned</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">AUTO_INCREMENT</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"111\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>data_id<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">255</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"112\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>group_id<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">128</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"113\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>app_name<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">128</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'app_name'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"114\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>content<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">longtext</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"115\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>md5<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">32</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"116\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>gmt_create<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">datetime</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token keyword\">CURRENT_TIMESTAMP</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"117\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>gmt_modified<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">datetime</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token keyword\">CURRENT_TIMESTAMP</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"118\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>src_user<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">text</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"119\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>src_ip<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">50</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"120\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>op_type<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">char</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"121\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>tenant_id<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">128</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token string\">''</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'ç§Ÿæˆ·å­—æ®µ'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"122\"></td><td><pre>  <span class=\"token keyword\">PRIMARY</span> <span class=\"token keyword\">KEY</span> <span class=\"token punctuation\">(</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>nid<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"123\"></td><td><pre>  <span class=\"token keyword\">KEY</span> <span class=\"token identifier\"><span class=\"token punctuation\">`</span>idx_gmt_create<span class=\"token punctuation\">`</span></span> <span class=\"token punctuation\">(</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>gmt_create<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"124\"></td><td><pre>  <span class=\"token keyword\">KEY</span> <span class=\"token identifier\"><span class=\"token punctuation\">`</span>idx_gmt_modified<span class=\"token punctuation\">`</span></span> <span class=\"token punctuation\">(</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>gmt_modified<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"125\"></td><td><pre>  <span class=\"token keyword\">KEY</span> <span class=\"token identifier\"><span class=\"token punctuation\">`</span>idx_did<span class=\"token punctuation\">`</span></span> <span class=\"token punctuation\">(</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>data_id<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"126\"></td><td><pre><span class=\"token punctuation\">)</span> <span class=\"token keyword\">ENGINE</span><span class=\"token operator\">=</span><span class=\"token keyword\">InnoDB</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token keyword\">CHARSET</span><span class=\"token operator\">=</span>utf8 <span class=\"token keyword\">COLLATE</span><span class=\"token operator\">=</span>utf8_bin <span class=\"token keyword\">COMMENT</span><span class=\"token operator\">=</span><span class=\"token string\">'å¤šç§Ÿæˆ·æ”¹é€ '</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"127\"></td><td><pre></pre></td></tr><tr><td data-num=\"128\"></td><td><pre></pre></td></tr><tr><td data-num=\"129\"></td><td><pre><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token identifier\"><span class=\"token punctuation\">`</span>tenant_capacity<span class=\"token punctuation\">`</span></span> <span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"130\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>id<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">bigint</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">unsigned</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">AUTO_INCREMENT</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'ä¸»é”®ID'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"131\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>tenant_id<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">128</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token string\">''</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'Tenant ID'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"132\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>quota<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">int</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">unsigned</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token string\">'0'</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'é…é¢ï¼Œ0è¡¨ç¤ºä½¿ç”¨é»˜è®¤å€¼'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"133\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>usage<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">int</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">unsigned</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token string\">'0'</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'ä½¿ç”¨é‡'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"134\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>max_size<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">int</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">unsigned</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token string\">'0'</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'å•ä¸ªé…ç½®å¤§å°ä¸Šé™ï¼Œå•ä½ä¸ºå­—èŠ‚ï¼Œ0è¡¨ç¤ºä½¿ç”¨é»˜è®¤å€¼'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"135\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>max_aggr_count<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">int</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">unsigned</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token string\">'0'</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'èšåˆå­é…ç½®æœ€å¤§ä¸ªæ•°'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"136\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>max_aggr_size<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">int</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">unsigned</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token string\">'0'</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'å•ä¸ªèšåˆæ•°æ®çš„å­é…ç½®å¤§å°ä¸Šé™ï¼Œå•ä½ä¸ºå­—èŠ‚ï¼Œ0è¡¨ç¤ºä½¿ç”¨é»˜è®¤å€¼'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"137\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>max_history_count<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">int</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">unsigned</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token string\">'0'</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'æœ€å¤§å˜æ›´å†å²æ•°é‡'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"138\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>gmt_create<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">datetime</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token keyword\">CURRENT_TIMESTAMP</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'åˆ›å»ºæ—¶é—´'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"139\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>gmt_modified<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">datetime</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token keyword\">CURRENT_TIMESTAMP</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'ä¿®æ”¹æ—¶é—´'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"140\"></td><td><pre>  <span class=\"token keyword\">PRIMARY</span> <span class=\"token keyword\">KEY</span> <span class=\"token punctuation\">(</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>id<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"141\"></td><td><pre>  <span class=\"token keyword\">UNIQUE</span> <span class=\"token keyword\">KEY</span> <span class=\"token identifier\"><span class=\"token punctuation\">`</span>uk_tenant_id<span class=\"token punctuation\">`</span></span> <span class=\"token punctuation\">(</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>tenant_id<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"142\"></td><td><pre><span class=\"token punctuation\">)</span> <span class=\"token keyword\">ENGINE</span><span class=\"token operator\">=</span><span class=\"token keyword\">InnoDB</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token keyword\">CHARSET</span><span class=\"token operator\">=</span>utf8 <span class=\"token keyword\">COLLATE</span><span class=\"token operator\">=</span>utf8_bin <span class=\"token keyword\">COMMENT</span><span class=\"token operator\">=</span><span class=\"token string\">'ç§Ÿæˆ·å®¹é‡ä¿¡æ¯è¡¨'</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"143\"></td><td><pre></pre></td></tr><tr><td data-num=\"144\"></td><td><pre></pre></td></tr><tr><td data-num=\"145\"></td><td><pre><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token identifier\"><span class=\"token punctuation\">`</span>tenant_info<span class=\"token punctuation\">`</span></span> <span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"146\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>id<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">bigint</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">AUTO_INCREMENT</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'id'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"147\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>kp<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">128</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'kp'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"148\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>tenant_id<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">128</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">default</span> <span class=\"token string\">''</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'tenant_id'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"149\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>tenant_name<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">128</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">default</span> <span class=\"token string\">''</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'tenant_name'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"150\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>tenant_desc<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">256</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'tenant_desc'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"151\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>create_source<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">32</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'create_source'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"152\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>gmt_create<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">bigint</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'åˆ›å»ºæ—¶é—´'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"153\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>gmt_modified<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">bigint</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'ä¿®æ”¹æ—¶é—´'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"154\"></td><td><pre>  <span class=\"token keyword\">PRIMARY</span> <span class=\"token keyword\">KEY</span> <span class=\"token punctuation\">(</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>id<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"155\"></td><td><pre>  <span class=\"token keyword\">UNIQUE</span> <span class=\"token keyword\">KEY</span> <span class=\"token identifier\"><span class=\"token punctuation\">`</span>uk_tenant_info_kptenantid<span class=\"token punctuation\">`</span></span> <span class=\"token punctuation\">(</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>kp<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">,</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>tenant_id<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"156\"></td><td><pre>  <span class=\"token keyword\">KEY</span> <span class=\"token identifier\"><span class=\"token punctuation\">`</span>idx_tenant_id<span class=\"token punctuation\">`</span></span> <span class=\"token punctuation\">(</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>tenant_id<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"157\"></td><td><pre><span class=\"token punctuation\">)</span> <span class=\"token keyword\">ENGINE</span><span class=\"token operator\">=</span><span class=\"token keyword\">InnoDB</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token keyword\">CHARSET</span><span class=\"token operator\">=</span>utf8 <span class=\"token keyword\">COLLATE</span><span class=\"token operator\">=</span>utf8_bin <span class=\"token keyword\">COMMENT</span><span class=\"token operator\">=</span><span class=\"token string\">'tenant_info'</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"158\"></td><td><pre></pre></td></tr><tr><td data-num=\"159\"></td><td><pre><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token identifier\"><span class=\"token punctuation\">`</span>users<span class=\"token punctuation\">`</span></span> <span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"160\"></td><td><pre>\t<span class=\"token identifier\"><span class=\"token punctuation\">`</span>username<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">50</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">PRIMARY</span> <span class=\"token keyword\">KEY</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"161\"></td><td><pre>\t<span class=\"token identifier\"><span class=\"token punctuation\">`</span>password<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">500</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"162\"></td><td><pre>\t<span class=\"token identifier\"><span class=\"token punctuation\">`</span>enabled<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">boolean</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span></pre></td></tr><tr><td data-num=\"163\"></td><td><pre><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"164\"></td><td><pre></pre></td></tr><tr><td data-num=\"165\"></td><td><pre><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token identifier\"><span class=\"token punctuation\">`</span>roles<span class=\"token punctuation\">`</span></span> <span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"166\"></td><td><pre>\t<span class=\"token identifier\"><span class=\"token punctuation\">`</span>username<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">50</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"167\"></td><td><pre>\t<span class=\"token identifier\"><span class=\"token punctuation\">`</span>role<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">50</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"168\"></td><td><pre>\t<span class=\"token keyword\">UNIQUE</span> <span class=\"token keyword\">INDEX</span> <span class=\"token identifier\"><span class=\"token punctuation\">`</span>idx_user_role<span class=\"token punctuation\">`</span></span> <span class=\"token punctuation\">(</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>username<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">ASC</span><span class=\"token punctuation\">,</span> <span class=\"token identifier\"><span class=\"token punctuation\">`</span>role<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">ASC</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">USING</span> <span class=\"token keyword\">BTREE</span></pre></td></tr><tr><td data-num=\"169\"></td><td><pre><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"170\"></td><td><pre></pre></td></tr><tr><td data-num=\"171\"></td><td><pre><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token identifier\"><span class=\"token punctuation\">`</span>permissions<span class=\"token punctuation\">`</span></span> <span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"172\"></td><td><pre>    <span class=\"token identifier\"><span class=\"token punctuation\">`</span>role<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">50</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"173\"></td><td><pre>    <span class=\"token identifier\"><span class=\"token punctuation\">`</span>resource<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">255</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"174\"></td><td><pre>    <span class=\"token identifier\"><span class=\"token punctuation\">`</span>action<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">8</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"175\"></td><td><pre>    <span class=\"token keyword\">UNIQUE</span> <span class=\"token keyword\">INDEX</span> <span class=\"token identifier\"><span class=\"token punctuation\">`</span>uk_role_permission<span class=\"token punctuation\">`</span></span> <span class=\"token punctuation\">(</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>role<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">,</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>resource<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">,</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>action<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">USING</span> <span class=\"token keyword\">BTREE</span></pre></td></tr><tr><td data-num=\"176\"></td><td><pre><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"177\"></td><td><pre></pre></td></tr><tr><td data-num=\"178\"></td><td><pre><span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> users <span class=\"token punctuation\">(</span>username<span class=\"token punctuation\">,</span> password<span class=\"token punctuation\">,</span> enabled<span class=\"token punctuation\">)</span> <span class=\"token keyword\">VALUES</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'nacos'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'$2a$10$EuWPZHzz32dJN7jexM34MOeYirDdFAZm2kuWj7VEOJhhZkDrxfvUu'</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">TRUE</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"179\"></td><td><pre></pre></td></tr><tr><td data-num=\"180\"></td><td><pre><span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> roles <span class=\"token punctuation\">(</span>username<span class=\"token punctuation\">,</span> role<span class=\"token punctuation\">)</span> <span class=\"token keyword\">VALUES</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'nacos'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'ROLE_ADMIN'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">#2 å…ˆç•™å–å¤‡ä»½</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">cp</span> application.properties application.properties.bk</pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token function\">vim</span> application.properties</pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token comment\"># åœ¨ application.properties æœ€åæ·»åŠ ä»¥ä¸‹å†…å®¹</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token assign-left variable\">spring.datasource.platform</span><span class=\"token operator\">=</span>mysql</pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token assign-left variable\">db.num</span><span class=\"token operator\">=</span><span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token assign-left variable\">db.url.0</span><span class=\"token operator\">=</span>jdbc:mysql://127.0.0.1:3306/nacos_config?characterEncoding<span class=\"token operator\">=</span>utf8<span class=\"token operator\">&amp;</span><span class=\"token assign-left variable\">connectTimeout</span><span class=\"token operator\">=</span><span class=\"token number\">1000</span><span class=\"token operator\">&amp;</span><span class=\"token assign-left variable\">socketTimeout</span><span class=\"token operator\">=</span><span class=\"token number\">3000</span><span class=\"token operator\">&amp;</span><span class=\"token assign-left variable\">autoReconnect</span><span class=\"token operator\">=</span>true<span class=\"token operator\">&amp;</span><span class=\"token assign-left variable\">serverTimezone</span><span class=\"token operator\">=</span>UTC</pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token assign-left variable\">db.user</span><span class=\"token operator\">=</span>root</pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token assign-left variable\">db.password</span><span class=\"token operator\">=</span>root</pre></td></tr></table></figure><h4 id=\"4-å¼€å¯nacos\"><a class=\"anchor\" href=\"#4-å¼€å¯nacos\">#</a> 4ã€å¼€å¯ nacos</h4>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>/usr/local/nacos/bin/startup.sh</pre></td></tr></table></figure><h4 id=\"5-æŸ¥çœ‹\"><a class=\"anchor\" href=\"#5-æŸ¥çœ‹\">#</a> 5ã€æŸ¥çœ‹</h4>\n<ul>\n<li>æµ‹è¯•ä¹‹å‰å…ˆå…³é—­é˜²ç«å¢™</li>\n</ul>\n<p><span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMS41Mjo4ODQ4L25hY29z\">http://192.168.1.52:8848/nacos</span></p>\n<h2 id=\"nacosé›†ç¾¤é…ç½®\"><a class=\"anchor\" href=\"#nacosé›†ç¾¤é…ç½®\">#</a> Nacos é›†ç¾¤é…ç½®</h2>\n<ul>\n<li>å‰æ</li>\n</ul>\n<blockquote>\n<p>1ã€å®‰è£…  <a href=\"#jdk_install\">jdk</a></p>\n<p>2ã€å®‰è£…ä¹‹å‰å¿…é¡» é…ç½®  <a href=\"#mysql_install\">mysql5.6.+</a></p>\n<p>3ã€é…ç½® <a href=\"#nginx_install_1\">nginx</a></p>\n<p>4ã€é…ç½® <a href=\"#nacos_install_1\">Nacosï¼ˆå•æœºç‰ˆ - 1ï¼‰</a></p>\n</blockquote>\n<ul>\n<li>æ‡’åŠ è½½</li>\n</ul>\n<blockquote>\n<p>æˆ‘ä»¬å¯åŠ¨ nginx ä¹‹åå¯èƒ½ä¸ä¼šç«‹å³å¼€å§‹ä»£ç†ï¼Œæ‰“å¼€æ—¥å¿—ç­‰ä¸€ä¼šï¼Œæ²¡æœ‰ç»“æœçš„æ—¶å€™é‡é…ä¸€ä¸‹</p>\n</blockquote>\n<h3 id=\"1-15\"><a class=\"anchor\" href=\"#1-15\">#</a> â€”â€”1</h3>\n<p>â€‹\t* æ­¤ä¾‹ä¸­   <code>nginx:1.16</code>  å®‰è£…æ•™ç¨‹ä¸ºï¼š <a href=\"#nacos_install_1\">Nacosï¼ˆå•æœºç‰ˆ - 1ï¼‰</a></p>\n<h4 id=\"1-ä¿®æ”¹é›†ç¾¤é…ç½®æ–‡ä»¶\"><a class=\"anchor\" href=\"#1-ä¿®æ”¹é›†ç¾¤é…ç½®æ–‡ä»¶\">#</a> 1ã€ä¿®æ”¹é›†ç¾¤é…ç½®æ–‡ä»¶</h4>\n<p>â€‹\tè¿™é‡Œå¼€å§‹æ­£å¼é…ç½®é›†ç¾¤ï¼Œé¦–å…ˆæˆ‘ä»¬è¦æ›´æ”¹   <strong>cluter.conf</strong>   è¿™ä¸ªé…ç½®æ–‡ä»¶ï¼Œå½“ç„¶æˆ‘ä»¬ä¹Ÿéœ€è¦å¤‡ä»½ï¼Œä½†æ˜¯è¿™é‡Œå®ƒçš„<strong>åŸå§‹åç§°</strong>ä¸ºï¼š<strong>cluster.conf.example</strong> ï¼Œæˆ‘ä»¬éœ€è¦æŠŠå®ƒä¿ç•™åŒæ—¶å¤åˆ¶å‡ºä¸€ä¸ª cluster.conf æ¥è¿›è¡Œæ›´æ”¹</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token builtin class-name\">cd</span> /usr/local/nacos/conf</pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\"># å…ˆå¤‡ä»½</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token function\">cp</span> cluster.conf.example cluster.conf</pre></td></tr></table></figure><p>ä¿®æ”¹ cluster.conf</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># æ ¼å¼ï¼š ip åœ°å€ï¼šç«¯å£å·</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\">#</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\"># Copyright 1999-2018 Alibaba Group Holding Ltd.</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\">#</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\"># Licensed under the Apache License, Version 2.0 (the \"License\");</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token comment\"># you may not use this file except in compliance with the License.</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\"># You may obtain a copy of the License at</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token comment\">#</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token comment\">#      http://www.apache.org/licenses/LICENSE-2.0</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token comment\">#</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token comment\"># Unless required by applicable law or agreed to in writing, software</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token comment\"># distributed under the License is distributed on an \"AS IS\" BASIS,</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token comment\"># WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token comment\"># See the License for the specific language governing permissions and</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token comment\"># limitations under the License.</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token comment\">#</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token comment\">#it is ip</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token comment\">#example</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token comment\">#192.168.16.101:8847</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token comment\">#192.168.16.102</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token comment\">#192.168.16.10</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre></pre></td></tr><tr><td data-num=\"24\"></td><td><pre><span class=\"token comment\">#ip:port</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre><span class=\"token number\">192.168</span>.124.133:3333</pre></td></tr><tr><td data-num=\"26\"></td><td><pre><span class=\"token number\">192.168</span>.124.133:4444</pre></td></tr><tr><td data-num=\"27\"></td><td><pre><span class=\"token number\">192.168</span>.124.133:5555</pre></td></tr></table></figure><h4 id=\"2-ç¼–è¾‘nacosçš„å¯åŠ¨è„šæœ¬startupsh\"><a class=\"anchor\" href=\"#2-ç¼–è¾‘nacosçš„å¯åŠ¨è„šæœ¬startupsh\">#</a> 2ã€<span class=\"exturl\" data-url=\"aHR0cDovL3huLS1OYWNvc3N0YXJ0dXAtYmg3dDI5bmx0MGd1azlicnA0YXZ1aDd2NWUuc2g=\">ç¼–è¾‘ Nacos çš„å¯åŠ¨è„šæœ¬ startup.sh</span></h4>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token builtin class-name\">cd</span> /usr/local/nacos/bin</pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\"># å…ˆå¤‡ä»½</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token function\">cp</span> startup.sh starup.sh.bk</pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token function\">vim</span>  startup.sh</pre></td></tr></table></figure><figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">#1  åœ¨ while çš„å˜é‡ä¸­æ·»åŠ  o å¹¶ä¸”åœ¨ case ä¸­æ·»åŠ å¯¹åº”å¤„ç†</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>        o<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>            <span class=\"token assign-left variable\">PORT</span><span class=\"token operator\">=</span><span class=\"token variable\">$OPTARG</span><span class=\"token punctuation\">;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        </pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\">#2  åœ¨ nohup å’Œ \"$JAVA_OPT_EXT_FIX\" ä¹‹å‰é…ç½®è¿™ä¸ª</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>     <span class=\"token variable\">$JAVA</span> <span class=\"token parameter variable\">-Dserver.port</span><span class=\"token operator\">=</span><span class=\"token variable\">$&#123;PORT&#125;</span></pre></td></tr></table></figure><p><img data-src=\"/2022/10/15/tools-All/1648643016965.png\" class=\"\" width=\"1648643016965\"></p>\n<p><img data-src=\"/2022/10/15/tools-All/1648643157451.png\" class=\"\" width=\"1648643157451\"></p>\n<h4 id=\"3-é…ç½®nginx\"><a class=\"anchor\" href=\"#3-é…ç½®nginx\">#</a> 3ã€é…ç½® nginx</h4>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>upstream  cluster<span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>\tserver <span class=\"token number\">192.168</span>.1.52:3333<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>\tserver <span class=\"token number\">192.168</span>.1.52:4444<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>\tserver <span class=\"token number\">192.168</span>.1.52:5555<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>\tproxy_pass  http://cluter<span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p><strong>å›¾ç‰‡ä¸­  <code>cluster</code>  å†™é”™äº† å°‘äº†ä¸€ä¸ª <code>s</code>  ï¼Œå…¶å®é—®é¢˜ä¹Ÿä¸å¤§ï¼Œä½†æ˜¯è¦ä¸“ä¸šï½ï½</strong></p>\n<p><img data-src=\"/2022/10/15/tools-All/1648643539716.png\" class=\"\" width=\"1648643539716\"></p>\n<h4 id=\"4-å¯åŠ¨nginx\"><a class=\"anchor\" href=\"#4-å¯åŠ¨nginx\">#</a> 4ã€å¯åŠ¨ Nginx</h4>\n<pre><code class=\"language-shell\">\n</code></pre>\n<h4 id=\"5-æŸ¥çœ‹æµ‹è¯•\"><a class=\"anchor\" href=\"#5-æŸ¥çœ‹æµ‹è¯•\">#</a> 5ã€æŸ¥çœ‹æµ‹è¯•</h4>\n<p><span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMS41Mjo4MC9uYWNvcw==\">http://192.168.1.52:80/nacos</span></p>\n<h2 id=\"opensslå®‰è£…\"><a class=\"anchor\" href=\"#opensslå®‰è£…\">#</a> OpenSSL å®‰è£…</h2>\n<h3 id=\"1-16\"><a class=\"anchor\" href=\"#1-16\">#</a> â€”â€”1</h3>\n<p>å‚è€ƒé“¾æ¥ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3ZlY3Rvcl9kYXRhL2FydGljbGUvZGV0YWlscy8xMDc1NTc5NDE=\">https://blog.csdn.net/vector_data/article/details/107557941</span></p>\n<h4 id=\"1å®‰è£…ä¾èµ–cè¯­è¨€ä¾èµ–-2\"><a class=\"anchor\" href=\"#1å®‰è£…ä¾èµ–cè¯­è¨€ä¾èµ–-2\">#</a> 1. å®‰è£…ä¾èµ– C è¯­è¨€ä¾èµ–</h4>\n<p>â€‹\tredis ä½¿ç”¨ C è¯­è¨€ç¼–å†™ï¼Œæ‰€ä»¥éœ€è¦å®‰è£… C è¯­è¨€åº“</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>yum <span class=\"token function\">install</span> <span class=\"token parameter variable\">-y</span> gcc zlib</pre></td></tr></table></figure><p>â€‹</p>\n<h4 id=\"2ä¸Šä¼ å¹¶è§£å‹-2\"><a class=\"anchor\" href=\"#2ä¸Šä¼ å¹¶è§£å‹-2\">#</a> 2. ä¸Šä¼ å¹¶è§£å‹</h4>\n<p>â€‹\tæŠŠ  <code>openssl-1.1.1j.tar.gz</code>  ä¸Šä¼ åˆ° /usr/local/tmp ä¸­ï¼Œè§£å‹æ–‡ä»¶</p>\n<pre><code> cd /usr/local/tmp\n\n tar zxf openssl-1.1.1j.tar.gz \n mv openssl-1.1.1j ../openssl\n \n</code></pre>\n<h4 id=\"3ç¼–è¯‘å¹¶å®‰è£…-2\"><a class=\"anchor\" href=\"#3ç¼–è¯‘å¹¶å®‰è£…-2\">#</a> 3. ç¼–è¯‘å¹¶å®‰è£…</h4>\n<p>â€‹\tè¿›å…¥è§£å‹æ–‡ä»¶å¤¹</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token builtin class-name\">cd</span> /usr/local/openssl</pre></td></tr></table></figure><p>â€‹\t é…ç½®ç¼–è¯‘</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>./config</pre></td></tr></table></figure><p>â€‹\tç¼–è¯‘å®‰è£…</p>\n<pre><code>make clean &amp;&amp; make install\n</code></pre>\n<p>â€‹\tæµ‹è¯•</p>\n<pre><code>openssl version -a\n</code></pre>\n<h2 id=\"kettleå®‰è£…\"><a class=\"anchor\" href=\"#kettleå®‰è£…\">#</a> Kettle å®‰è£…</h2>\n<p><a href=\"#Windows_kettle\">ä»–æ˜¯ java å†™çš„ï¼Œæ‰€ä»¥è·¨å¹³å°ï¼Œå»çœ‹ Windows é‡Œé¢çš„å®‰è£…æ–¹æ³•</a></p>\n<h1 id=\"æœªå®Œæˆ-linux\"><a class=\"anchor\" href=\"#æœªå®Œæˆ-linux\">#</a> æœªå®Œæˆ ï¼â€”â€”â€”â€”Linux</h1>\n<h1 id=\"path-windows\"><a class=\"anchor\" href=\"#path-windows\">#</a> PATH-------Windows</h1>\n<h2 id=\"mysqlå®‰è£…\"><a class=\"anchor\" href=\"#mysqlå®‰è£…\">#</a> MySQL å®‰è£…</h2>\n<h3 id=\"1mysqlçš„ç‰ˆæœ¬\"><a class=\"anchor\" href=\"#1mysqlçš„ç‰ˆæœ¬\">#</a> ã€1ã€‘MySQL çš„ç‰ˆæœ¬ï¼š</h3>\n<p>è¿‘æœŸä¸»è¦å†å²ç‰ˆæœ¬æœ‰ 5.0/5.1/5.5/5.6/5.7ï¼Œç›®å‰æœ€æ–°ç‰ˆæœ¬æ˜¯ MySQL8ã€‚6.0 æ›¾ç»æ˜¯ä¸ªå†…éƒ¨è¯•éªŒç‰ˆæœ¬ï¼Œå·²å–æ¶ˆäº†ã€‚</p>\n<p>MySQL8.0 çš„ç‰ˆæœ¬å†å²</p>\n<ol>\n<li>2016-09-12 ç¬¬ä¸€ä¸ª DM (development milestone) ç‰ˆæœ¬ 8.0.0 å‘å¸ƒ</li>\n<li>2018-04-19 ç¬¬ä¸€ä¸ª GA (General Availability) ç‰ˆæœ¬å¼€å§‹ï¼Œ8.0.11 å‘å¸ƒ</li>\n<li>2018-07-27 8.0.12GA å‘å¸ƒ</li>\n<li>2018-10-22 8.0.13GA å‘å¸ƒ</li>\n<li>2019-01-21 8.0.14GA å‘å¸ƒ</li>\n<li>2019-02-01 8.0.15GA å‘å¸ƒ</li>\n<li>æœ€æ–°çš„ç‰ˆæœ¬æ˜¯ 8.0.18,2019 å¹´ 10 æœˆ 14 æ—¥æ­£å¼å‘å¸ƒ</li>\n<li>.... åç»­æ›´æ–°</li>\n</ol>\n<h3 id=\"2å®˜æ–¹ä¸‹è½½åœ°å€\"><a class=\"anchor\" href=\"#2å®˜æ–¹ä¸‹è½½åœ°å€\">#</a> ã€2ã€‘å®˜æ–¹ä¸‹è½½åœ°å€ï¼š</h3>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9kZXYubXlzcWwuY29tL2Rvd25sb2Fkcy93aW5kb3dzL2luc3RhbGxlci84LjAuaHRtbA==\">https://dev.mysql.com/downloads/windows/installer/8.0.html</span></p>\n<p></p>\n<h3 id=\"3å®‰è£…è¿‡ç¨‹\"><a class=\"anchor\" href=\"#3å®‰è£…è¿‡ç¨‹\">#</a> ã€3ã€‘å®‰è£…è¿‡ç¨‹ï¼š</h3>\n<p><strong>1. åŒå‡» MySQL å®‰è£…æ–‡ä»¶ mysql-installer-community-8.0.18.0.msiï¼Œå‡ºç°å®‰è£…ç±»å‹é€‰é¡¹ã€‚</strong></p>\n<ul>\n<li>\n<p>Developer Defaultï¼šå¼€å‘è€…é»˜è®¤</p>\n</li>\n<li>\n<p>Server onlyï¼šåªå®‰è£…æœåŠ¡å™¨ç«¯</p>\n</li>\n<li>\n<p>Client onlyï¼šåªå®‰è£…å®¢æˆ·ç«¯</p>\n</li>\n<li>\n<p>Fullï¼šå®‰è£…å…¨éƒ¨é€‰é¡¹</p>\n</li>\n<li>\n<p>Customï¼šè‡ªå®šä¹‰å®‰è£…</p>\n</li>\n</ul>\n<p></p>\n<p><strong>2. é€‰æ‹©ï¼Œç„¶åç»§ç»­ï¼š</strong></p>\n<p></p>\n<p><strong>3. è¿›å…¥äº§å“é…ç½®å‘å¯¼ï¼Œé…ç½®å¤šä¸ªå®‰è£…ç»†èŠ‚ï¼Œç‚¹å‡» Next æŒ‰é’®å³å¯ã€‚</strong></p>\n<p></p>\n<p><strong>4. é«˜å¯é æ€§ High Availabilityï¼Œé‡‡ç”¨é»˜è®¤é€‰é¡¹å³å¯ã€‚</strong></p>\n<ul>\n<li>\n<p>Standalone MySQL Server/Classic MySQL Replication: ç‹¬ç«‹ MySQL æœåŠ¡å™¨ / ç»å…¸ MySQL å¤åˆ¶</p>\n</li>\n<li>\n<p>InnoDB Cluster:InnoDB é›†ç¾¤</p>\n</li>\n</ul>\n<p></p>\n<p><strong>5. ç±»å‹å’Œç½‘ç»œ Type and Networkingï¼Œé‡‡ç”¨é»˜è®¤é€‰é¡¹å³å¯ã€‚è®°ä½ MySQL çš„ç›‘å¬ç«¯å£é»˜è®¤æ˜¯ 3306ã€‚</strong></p>\n<p></p>\n<p><strong>6. èº«ä»½éªŒè¯æ–¹æ³• Authentication Methodï¼Œé‡‡ç”¨é»˜è®¤é€‰é¡¹å³å¯ã€‚</strong></p>\n<p><img data-src=\"tools-All%5C1646193956569.png\" alt=\"1646193956569\" /></p>\n<p><strong>7. è´¦æˆ·å’Œè§’è‰² Accounts and Rolesã€‚MySQL ç®¡ç†å‘˜è´¦æˆ·åç§°æ˜¯ rootï¼Œåœ¨æ­¤å¤„æŒ‡å®š root ç”¨æˆ·çš„å¯†ç ã€‚è¿˜å¯ä»¥åœ¨æ­¤å¤„é€šè¿‡ Add User æŒ‰é’®æ·»åŠ å…¶ä»–æ–°è´¦æˆ·ï¼Œæ­¤å¤„çœç•¥è¯¥æ“ä½œã€‚</strong></p>\n<p></p>\n<p><strong>8.Windows æœåŠ¡ï¼šWindows Serviceã€‚</strong></p>\n<ul>\n<li>\n<p>Configure MySQL Server as a Windows Service: ç»™ MySQL æœåŠ¡å™¨é…ç½®ä¸€ä¸ªæœåŠ¡é¡¹ã€‚</p>\n</li>\n<li>\n<p>Windows Service Name: æœåŠ¡åç§°ï¼Œé‡‡ç”¨é»˜è®¤åç§° MySQL80 å³å¯ã€‚</p>\n</li>\n<li>\n<p>Start the MySQL at System Startupï¼šç³»ç»Ÿå¯åŠ¨æ—¶å¼€å¯ MySQL æœåŠ¡</p>\n</li>\n</ul>\n<p></p>\n<p><strong>9.Apply Configurationï¼šç‚¹å‡» Execute æŒ‰é’®æ‰§è¡Œå¼€å§‹åº”ç”¨è¿™äº›é…ç½®é¡¹ã€‚</strong></p>\n<ul>\n<li>\n<p>Writing configuration file: å†™é…ç½®æ–‡ä»¶ã€‚</p>\n</li>\n<li>\n<p>Updating Windows Firewall rulesï¼šæ›´æ–° Windows é˜²ç«å¢™è§„åˆ™</p>\n</li>\n<li>\n<p>Adjusting Windows servicesï¼šè°ƒæ•´ Windows æœåŠ¡</p>\n</li>\n<li>\n<p>Initializing databaseï¼šåˆå§‹åŒ–æ•°æ®åº“</p>\n</li>\n<li>\n<p>Starting the serverï¼š å¯åŠ¨æœåŠ¡å™¨</p>\n</li>\n<li>\n<p>Applying security settingï¼šåº”ç”¨å®‰å…¨è®¾ç½®</p>\n</li>\n<li>\n<p>Updating the Start menu linkï¼šæ›´æ–°å¼€å§‹èœå•å¿«æ·æ–¹å¼é“¾æ¥</p>\n</li>\n</ul>\n<p></p>\n<p><strong>PSï¼šå¦‚æœé…ç½®å‡ºé”™ï¼ŒæŸ¥çœ‹å³ä¾§çš„ logï¼ŒæŸ¥çœ‹å¯¹åº”é”™è¯¯ä¿¡æ¯ã€‚</strong><br />\n<strong>æ‰§è¡Œå®Œæˆåï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚å•å‡» Finish å®Œæˆå®‰è£…ï¼Œè¿›å…¥äº§å“é…ç½®ç¯èŠ‚ã€‚</strong></p>\n<p></p>\n<p><strong>10. äº§å“é…ç½® Product Configuration åˆ°æ­¤ç»“æŸï¼šç‚¹å‡» Next æŒ‰é’®ã€‚</strong></p>\n<p></p>\n<p><strong>11. å®‰è£…å®Œæˆ Installation Completeã€‚ç‚¹å‡» Finish æŒ‰é’®å®Œæˆå®‰è£…ã€‚</strong></p>\n<p></p>\n<h3 id=\"4mysqlé…ç½®-ç™»å½•\"><a class=\"anchor\" href=\"#4mysqlé…ç½®-ç™»å½•\">#</a> ã€4ã€‘MySQL é…ç½®ã€ç™»å½•</h3>\n<p><strong>ã€1ã€‘ç™»å½•ï¼š</strong><br />\nè®¿é—® MySQL æœåŠ¡å™¨å¯¹åº”çš„å‘½ä»¤ï¼šmysql.exe , ä½ç½®ï¼šC:\\Program Files\\MySQL\\MySQL Server 8.0\\bin</p>\n<p></p>\n<p>ï¼ˆmysql.exe éœ€è¦å¸¦å‚æ•°æ‰§è¡Œï¼Œæ‰€ä»¥ç›´æ¥åœ¨å›¾å½¢ç•Œé¢ä¸‹æ‰§è¡Œè¯¥å‘½ä»¤ä¼šè‡ªåŠ¨ç»“æŸï¼‰</p>\n<p>æ‰“å¼€æ§åˆ¶å‘½ä»¤å°ï¼šwin+r:</p>\n<p></p>\n<p>æ‰§è¡Œ mysql.exe å‘½ä»¤çš„æ—¶å€™å‡ºç°é”™è¯¯ï¼š</p>\n<p></p>\n<p>éœ€è¦é…ç½®ç¯å¢ƒå˜é‡ path:</p>\n<p></p>\n<p><strong>æ³¨æ„ï¼šæ§åˆ¶å‘½ä»¤å°å¿…é¡»é‡å¯æ‰ä¼šç”Ÿæ•ˆï¼š</strong></p>\n<p><strong>ç™»å½•çš„å‘½ä»¤ï¼šmysql  -hlocalhost -uroot â€“p</strong></p>\n<ul>\n<li>\n<p>mysqlï¼šbin ç›®å½•ä¸‹çš„æ–‡ä»¶ mysql.exeã€‚mysql æ˜¯ MySQL çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œæ˜¯ä¸€ä¸ªå®¢æˆ·ç«¯è½¯ä»¶ï¼Œå¯ä»¥å¯¹ä»»ä½•ä¸»æœºçš„ mysql æœåŠ¡ï¼ˆå³åå°è¿è¡Œçš„ mysqldï¼‰å‘èµ·è¿æ¥ã€‚</p>\n</li>\n<li>\n<p>-hï¼šhost ä¸»æœºåã€‚åé¢è·Ÿè¦è®¿é—®çš„æ•°æ®åº“æœåŠ¡å™¨çš„åœ°å€ï¼›<strong>å¦‚æœæ˜¯ç™»å½•æœ¬æœºï¼Œå¯ä»¥çœç•¥</strong></p>\n</li>\n<li>\n<p>-uï¼šuser ç”¨æˆ·åã€‚åé¢è·Ÿç™»å½•æ•°æ®çš„ç”¨æˆ·åï¼Œç¬¬ä¸€æ¬¡å®‰è£…åä»¥ root ç”¨æˆ·æ¥ç™»å½•ï¼Œæ˜¯ MySQL çš„ç®¡ç†å‘˜ç”¨æˆ·</p>\n</li>\n<li>\n<p>-p:   password å¯†ç ã€‚ä¸€èˆ¬ä¸ç›´æ¥è¾“å…¥ï¼Œè€Œæ˜¯å›è½¦åä»¥ä¿å¯†æ–¹å¼è¾“å…¥ã€‚</p>\n<p><img data-src=\"tools-All%5C1646194262329.png\" alt=\"1646194262329\" /></p>\n</li>\n</ul>\n<p><strong>ã€2ã€‘è®¿é—®æ•°æ®åº“</strong></p>\n<p>æ˜¾ç¤º MySQL ä¸­çš„æ•°æ®åº“åˆ—è¡¨ï¼š</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>show databases<span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p>é»˜è®¤æœ‰å››ä¸ªè‡ªå¸¦çš„æ•°æ®åº“ï¼Œæ¯ä¸ªæ•°æ®åº“ä¸­å¯ä»¥æœ‰å¤šä¸ªæ•°æ®åº“è¡¨ã€è§†å›¾ç­‰å¯¹è±¡ã€‚</p>\n<p>åˆ‡æ¢å½“å‰æ•°æ®åº“çš„å‘½ä»¤ï¼š</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>use mysql<span class=\"token punctuation\">;</span></pre></td></tr></table></figure><ul>\n<li>\n<p>MySQL ä¸‹å¯ä»¥æœ‰å¤šä¸ªæ•°æ®åº“ï¼Œå¦‚æœè¦è®¿é—®å“ªä¸ªæ•°æ®åº“ï¼Œéœ€è¦å°†å…¶ç½®ä¸ºå½“å‰æ•°æ®åº“ã€‚</p>\n</li>\n<li>\n<p>è¯¥å‘½ä»¤çš„ä½œç”¨å°±æ˜¯å°†æ•°æ®åº“ mysqlï¼ˆé»˜è®¤æä¾›çš„å››ä¸ªæ•°æ®åº“ä¹‹ä¸€çš„åå­—ï¼‰ç½®ä¸ºå½“å‰æ•°æ®åº“</p>\n</li>\n</ul>\n<p>æ˜¾ç¤ºå½“å‰æ•°æ®åº“çš„æ‰€æœ‰æ•°æ®åº“è¡¨ï¼š</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>show tables<span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p>MySQL å±‚æ¬¡ï¼šä¸åŒé¡¹ç›®å¯¹åº”ä¸åŒçš„æ•°æ®åº“ç»„æˆ - æ¯ä¸ªæ•°æ®åº“ä¸­æœ‰å¾ˆå¤šè¡¨  - æ¯ä¸ªè¡¨ä¸­æœ‰å¾ˆå¤šæ•°æ®</p>\n<p><strong>ã€3ã€‘é€€å‡ºæ•°æ®åº“</strong></p>\n<p>é€€å‡ºæ•°æ®åº“å¯ä»¥ä½¿ç”¨ quit æˆ–è€… exit å‘½ä»¤å®Œæˆï¼Œä¹Ÿå¯ä»¥ç”¨ \\q;  å®Œæˆé€€å‡ºæ“ä½œ</p>\n<p></p>\n<h3 id=\"5å¸è½½\"><a class=\"anchor\" href=\"#5å¸è½½\">#</a> ã€5ã€‘å¸è½½</h3>\n<p><strong>1) åœæ­¢ MySQL æœåŠ¡ï¼šåœ¨å‘½ä»¤è¡Œæ¨¡å¼ä¸‹æ‰§è¡Œ net stop mysql æˆ–è€…åœ¨ Windows æœåŠ¡çª—å£ä¸‹åœæ­¢æœåŠ¡</strong></p>\n<p></p>\n<p><strong>2) åœ¨æ§åˆ¶é¢æ¿ä¸­åˆ é™¤ MySQL è½¯ä»¶</strong></p>\n<p></p>\n<p><strong>3) åˆ é™¤è½¯ä»¶æ–‡ä»¶å¤¹ï¼šç›´æ¥åˆ é™¤å®‰è£…æ–‡ä»¶å¤¹ C:\\Program Files\\MySQLï¼Œå…¶å®æ­¤æ—¶è¯¥æ–‡ä»¶å¤¹å·²ç»è¢«åˆ é™¤æˆ–è€…å‰©ä¸‹ä¸€ä¸ªç©ºæ–‡ä»¶å¤¹ã€‚</strong></p>\n<p><strong>4) åˆ é™¤æ•°æ®æ–‡ä»¶å¤¹ï¼šç›´æ¥åˆ é™¤æ–‡ä»¶å¤¹ C:\\ProgramData\\MySQLã€‚æ­¤æ­¥ä¸è¦å¿˜è®°ï¼Œå¦åˆ™ä¼šå½±å“ MySQL çš„å†æ¬¡å®‰è£…ã€‚</strong><br />\n<strong>ï¼ˆProgramData æ–‡ä»¶å¤¹å¯èƒ½æ˜¯éšè—çš„ï¼Œæ˜¾ç¤ºå‡ºæ¥å³å¯ï¼‰</strong><br />\n<strong>ï¼ˆMySQL æ–‡ä»¶ä¸‹çš„å†…å®¹æ‰æ˜¯çœŸæ­£çš„ MySQL ä¸­æ•°æ®ï¼‰</strong></p>\n<p><strong>5) åˆ é™¤ path ç¯å¢ƒå˜é‡ä¸­å…³äº MySQL å®‰è£…è·¯å¾„çš„é…ç½®</strong></p>\n<h2 id=\"tomcatå®‰è£…-2\"><a class=\"anchor\" href=\"#tomcatå®‰è£…-2\">#</a> Tomcat å®‰è£…</h2>\n<p>ä¸‹è½½</p>\n<p>ä¸‹è½½åœ°å€ï¼š<span class=\"exturl\" data-url=\"aHR0cDovL3RvbWNhdC5hcGFjaGUub3JnLw==\">http://tomcat.apache.org/</span></p>\n<p></p>\n<h3 id=\"å®‰è£…\"><a class=\"anchor\" href=\"#å®‰è£…\">#</a> å®‰è£…</h3>\n<p>tomcat ç”± apache å¼€æºç»„ç»‡ä½¿ç”¨ java å¼€å‘çš„ä¸€æ¬¾ web å®¹å™¨ï¼Œåœ¨ä½¿ç”¨ä¹‹å‰éœ€è¦å®‰è£… JDK åŠé…ç½® JAVA_HOME.Tomcat æ˜¯ç»¿è‰²è½¯è§£ï¼Œ<strong>è§£å‹å°±å¯ä½¿ç”¨</strong>ã€‚å¦‚æœä¹‹å‰å·²ç»å®‰è£…äº†å…¶ä»– tomcat å¹¶ä¸”è¿˜é…ç½®äº† CATALINA_HOME ä¸è¦å¿˜è®°ä¿®æ”¹ CATALINA_HOME æŒ‡å‘æˆ‘ä»¬ç°åœ¨ä½¿ç”¨çš„è¿™ä¸ª tomcat</p>\n<h3 id=\"tomcatå¯åŠ¨\"><a class=\"anchor\" href=\"#tomcatå¯åŠ¨\">#</a> Tomcat å¯åŠ¨</h3>\n<p>è¿è¡Œ startup.bat æ–‡ä»¶ã€‚</p>\n<p>ä¸€å®šè¦é…ç½® JAVA_HOME   C:\\Program Files\\Java\\jdk1.8.0_161<br />\n éƒ¨åˆ†ç”µè„‘éœ€è¦é…ç½® CATALINA_HOME   D:/<em><strong>/</strong></em>/apache-tomcat-9.0.41<br />\n è®°ä½ä¸€ä¸ªä¹ æƒ¯ï¼šä»¥åæˆ‘ä»¬è£…ä»»ä½•ä¸€ä¸ªè½¯ä»¶è·¯å¾„éƒ½åº”è¯¥é¿å…ä¸­æ–‡ï¼Œç©ºæ ¼å’Œç‰¹æ®Šç¬¦å·ï¼Œå¯ä»¥ä½¿ç”¨_</p>\n<h3 id=\"tomcatå…³é—­\"><a class=\"anchor\" href=\"#tomcatå…³é—­\">#</a> Tomcat å…³é—­</h3>\n<p>è¿è¡Œ shutdown.bat æ–‡ä»¶æˆ–è€…ç›´æ¥å…³é—­æ‰å¯åŠ¨çª—å£ã€‚</p>\n<h3 id=\"è®¿é—®tomcat\"><a class=\"anchor\" href=\"#è®¿é—®tomcat\">#</a> è®¿é—® Tomcat</h3>\n<p>è®¿é—® Tomcat çš„ URL æ ¼å¼ï¼š<span class=\"exturl\" data-url=\"aHR0cDovL2lw\">http://ip</span>:port</p>\n<p>è®¿é—®æœ¬æœº Tomcat çš„ URL æ ¼å¼ï¼š<span class=\"exturl\" data-url=\"aHR0cDovL2xvY2FsaG9zdDo4MDgw\">http://localhost:8080</span></p>\n<h2 id=\"gitå®‰è£…\"><a class=\"anchor\" href=\"#gitå®‰è£…\">#</a> Git å®‰è£…</h2>\n<p>ã€1ã€‘Git å®˜ç½‘ï¼š<br />\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXQtc2NtLmNvbS8=\">https://git-scm.com/</span></p>\n<p>ã€2ã€‘å®‰è£…è¿‡ç¨‹ï¼š</p>\n<p>ä¸€ç›´ä¸‹ä¸€æ­¥</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>ç‚¹å‡» Git Bash Here æ‰“å¼€ Git ç»ˆç«¯ï¼š</p>\n<p></p>\n<h2 id=\"opensslå®‰è£…æ•™ç¨‹\"><a class=\"anchor\" href=\"#opensslå®‰è£…æ•™ç¨‹\">#</a> OpenSSL å®‰è£…æ•™ç¨‹</h2>\n<p>openssl å®˜ç½‘ä¸‹è½½åœ°å€ï¼š<span class=\"exturl\" data-url=\"aHR0cDovL3NscHJvd2ViLmNvbS9wcm9kdWN0cy9XaW4zMk9wZW5TU0wuaHRtbA==\">http://slproweb.com/products/Win32OpenSSL.html</span></p>\n<h3 id=\"å®‰è£…ç¯å¢ƒ\"><a class=\"anchor\" href=\"#å®‰è£…ç¯å¢ƒ\">#</a> å®‰è£…ç¯å¢ƒ:</h3>\n<blockquote>\n<p>windows 10<br />\nWin64 OpenSSL v1.1.1i</p>\n</blockquote>\n<h3 id=\"ä¸€ä¸‹è½½opensslå®‰è£…ç‰ˆ\"><a class=\"anchor\" href=\"#ä¸€ä¸‹è½½opensslå®‰è£…ç‰ˆ\">#</a> ä¸€ã€‚ä¸‹è½½ openssl å®‰è£…ç‰ˆ</h3>\n<p>â€‹\tæˆ‘è¿™é‡Œæ˜¯ win10 64 ä½ï¼Œæ‰€ä»¥é€‰çš„ä¸­é—´é‚£ä¸ª</p>\n<p><img data-src=\"https://tools-All-blog.csdnimg.cn/20201222101342278.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2NTUwOTY0,size_16,color_FFFFFF,t_70#pic_center\" alt=\"æŒ‰ç…§æ“ä½œç³»ç»Ÿé€‰æ‹©\" /></p>\n<h3 id=\"äºŒå®‰è£…è¿‡ç¨‹\"><a class=\"anchor\" href=\"#äºŒå®‰è£…è¿‡ç¨‹\">#</a> äºŒã€‚å®‰è£…è¿‡ç¨‹</h3>\n<p>â€‹\tä¹Ÿæ²¡å•¥ç‰¹æ®Šçš„ ï¼Œä¸€ç›´ nextï¼Œåªæœ‰ä¸¤ç‚¹æ³¨æ„ï¼š</p>\n<p>1ã€ä¿®æ”¹å®‰è£…åœ°å€</p>\n<p>2ã€æœ€åä¸€æ­¥ï¼Œä¸è¦å‹¾é€‰ï¼Œä¼šæé’±ã€‚</p>\n<p><img data-src=\"https://tools-All-blog.csdnimg.cn/20201222102601218.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2NTUwOTY0,size_16,color_FFFFFF,t_70\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" /></p>\n<p><img data-src=\"https://tools-All-blog.csdnimg.cn/20201222102703276.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2NTUwOTY0,size_16,color_FFFFFF,t_70\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" /></p>\n<p><img data-src=\"https://tools-All-blog.csdnimg.cn/20201222102703268.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2NTUwOTY0,size_16,color_FFFFFF,t_70\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" /></p>\n<p><img data-src=\"https://tools-All-blog.csdnimg.cn/20201222102721958.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2NTUwOTY0,size_16,color_FFFFFF,t_70\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" /></p>\n<p><img data-src=\"/2022/10/15/tools-All/1650347562395.png\" class=\"\" width=\"1650347562395\"></p>\n<h3 id=\"ä¸‰é…ç½®ç¯å¢ƒå˜é‡\"><a class=\"anchor\" href=\"#ä¸‰é…ç½®ç¯å¢ƒå˜é‡\">#</a> ä¸‰ã€‚é…ç½®ç¯å¢ƒå˜é‡</h3>\n<p><img data-src=\"/2022/10/15/tools-All/1650351119292.png\" class=\"\" width=\"1650351119292\"></p>\n<p><img data-src=\"/2022/10/15/tools-All/1650351138506.png\" class=\"\" width=\"1650351138506\"></p>\n<h3 id=\"å››æµ‹è¯•\"><a class=\"anchor\" href=\"#å››æµ‹è¯•\">#</a> å››ã€‚æµ‹è¯•</h3>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>openssl <span class=\"token parameter variable\">-version</span></pre></td></tr></table></figure><p><img data-src=\"/2022/10/15/tools-All/1650351011263.png\" class=\"\" width=\"1650351011263\"></p>\n<h2 id=\"kafkaå®‰è£…\"><a class=\"anchor\" href=\"#kafkaå®‰è£…\">#</a> Kafka å®‰è£…</h2>\n<p>â€‹\tkafka çš„å®‰è£…åŒ…å…¶å®æ²¡æœ‰åˆ† window è¿˜æ˜¯ linux, æ‰€ä»¥ä¸‹è½½çš„å®‰è£…åŒ…è¿˜æ˜¯ä¹‹å‰çš„å®‰è£…åŒ…ï¼Œç›´æ¥è§£å‹å‡ºæ¥å³å¯ï¼›</p>\n<p><img data-src=\"https://pic3.zhimg.com/80/v2-5ea0647a0e4acab3a7c6de90df11fe3e_720w.jpg\" alt=\"img\" /></p>\n<p>å¯åŠ¨ Zookeeper æœåŠ¡ç«¯å‘½ä»¤</p>\n<figure class=\"highlight text\"><figcaption data-lang=\"text\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>./bin\\windows\\zookeeper-server-start.bat  ./config\\zookeeper.properties</pre></td></tr></table></figure><p>è¿™è¾¹ä¼šæŠ¥ä¸€ä¸ªå¥‡è‘©çš„é”™è¯¯ï¼Œå‘½ä»¤è¡Œå¤ªé•¿ï¼Œç›´æ¥å°†å‹ç¼©åŒ…è§£å‹åˆ°æ ¹ç›®å½•æˆ–è€…æ¡Œé¢è¿›è¡Œæ“ä½œ</p>\n<p><img data-src=\"https://pic4.zhimg.com/80/v2-0f8d03dbe85bdf6f44e05a20d87bc60b_720w.png\" alt=\"img\" /></p>\n<p>å¯åŠ¨æˆåŠŸ</p>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/onlymarryu/typora-ims-test@master/tools-All/v2-348c2d162934ac0844103a2cfcf2f16c_720w.jpg\" alt=\"img\" /></p>\n<p>å¯åŠ¨ kafka æœåŠ¡ç«¯å‘½ä»¤</p>\n<figure class=\"highlight text\"><figcaption data-lang=\"text\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>./bin\\windows\\kafka-server-start.bat  ./config\\server.properties</pre></td></tr></table></figure><p>å¯åŠ¨æˆåŠŸ</p>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/onlymarryu/typora-ims-test@master/tools-All/v2-4f9527f5ed1fb0a09b90cd598b5c09c3_720w.jpg\" alt=\"img\" /></p>\n<p>&lt;div name=&quot;Windows_kettle&quot;&gt;</p>\n<h2 id=\"kettleå®‰è£…-2\"><a class=\"anchor\" href=\"#kettleå®‰è£…-2\">#</a> Kettle å®‰è£…</h2>\n<p>ä¸‹è½½åœ°å€ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly9saW5rLnpoaWh1LmNvbS8/dGFyZ2V0PWh0dHBzJTNBLy9zb3VyY2Vmb3JnZS5uZXQvcHJvamVjdHMvcGVudGFoby9maWxlcy9EYXRhJTIwSW50ZWdyYXRpb24v\">https://sourceforge.net/project</span></p>\n<p>ä¸‹è½½å®Œæˆè§£å‹åˆ°ä»»æ„è·¯å¾„</p>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/onlymarryu/typora-ims-test@master/tools-All/v2-9b34b600471d87b624e1a355af5e1a77_720w.png\" alt=\"img\" /></p>\n<p>æ‰“å¼€æ–‡ä»¶å¤¹ï¼Œæ‰¾åˆ° Spoon.batï¼Œåˆ›å»ºæ¡Œé¢å¿«æ·æ–¹å¼ï¼Œæ‰“å¼€</p>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/onlymarryu/typora-ims-test@master/tools-All/v2-304e8e08f977c9e1f6c3c1aef07d76ad_720w.png\" alt=\"img\" /></p>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/onlymarryu/typora-ims-test@master/tools-All/v2-5a6b50aa38075f30a80868319b57189a_720w.jpg\" alt=\"img\" /></p>\n<p>æˆåŠŸæ‰“å¼€ï¼Œå®‰è£…å®Œæˆ</p>\n<p>æœ€åè¿˜è¦é…ç½®ä¸‹ oracle çš„é©±åŠ¨</p>\n<p>æ‰¾åˆ° oracle çš„å®‰è£…ç›®å½•æœç´¢å…³é”®å­—ï¼šojdbc</p>\n<p>æŠŠ ojdbc5.jar æ–‡ä»¶å¤åˆ¶åˆ° ETL çš„ lib ç›®å½•ä¸‹</p>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/onlymarryu/typora-ims-test@master/tools-All/v2-dd6bd35ae080600c32d3cf75ccc40389_720w.jpg\" alt=\"img\" /></p>\n<p>è¿™æ ·å°±å¯ä»¥åœ¨ kettle é‡Œè¿æ¥åˆ°æ•°æ®åº“äº†</p>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/onlymarryu/typora-ims-test@master/tools-All/v2-79043e230a5f8c040c429855c8766b9c_720w.jpg\" alt=\"img\" /></p>\n<h2 id=\"rediså®‰è£…-2\"><a class=\"anchor\" href=\"#rediså®‰è£…-2\">#</a> redis å®‰è£…</h2>\n<p>** ä¸‹è½½åœ°å€ï¼š**<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3Rwb3JhZG93c2tpL3JlZGlzL3JlbGVhc2Vz\">https://github.com/tporadowski/redis/releases</span></p>\n<p><img data-src=\"/2022/10/15/tools-All/3B8D633F-14CE-42E3-B174-FCCD48B11FF3.jpg\" class=\"\" title=\"img\"></p>\n<p>æ‰“å¼€æ–‡ä»¶å¤¹ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>\n<p><img data-src=\"https://www.runoob.com/wp-content/uploads/2014/11/C2CEBAA0-30B9-4340-8D23-78F6FEB8CBE2.png%22\" alt=\"img\" /></p>\n<p>æ‰“å¼€ä¸€ä¸ª <strong>cmd</strong> çª—å£ ä½¿ç”¨ cd å‘½ä»¤åˆ‡æ¢ç›®å½•åˆ° <strong>C:\\redis</strong> è¿è¡Œï¼š</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>redis-server.exe redis.windows.conf</pre></td></tr></table></figure><p>å¦‚æœæƒ³æ–¹ä¾¿çš„è¯ï¼Œå¯ä»¥æŠŠ redis çš„è·¯å¾„åŠ åˆ°ç³»ç»Ÿçš„ç¯å¢ƒå˜é‡é‡Œï¼Œè¿™æ ·å°±çœå¾—å†è¾“è·¯å¾„äº†ï¼Œåé¢çš„é‚£ä¸ª redis.windows.conf å¯ä»¥çœç•¥ï¼Œå¦‚æœçœç•¥ï¼Œä¼šå¯ç”¨é»˜è®¤çš„ã€‚è¾“å…¥ä¹‹åï¼Œä¼šæ˜¾ç¤ºå¦‚ä¸‹ç•Œé¢ï¼š</p>\n<p><img data-src=\"/2022/10/15/tools-All/redis-install1.png\" class=\"\" title=\"Redis å®‰è£…\"></p>\n<p>è¿™æ—¶å€™å¦å¯ä¸€ä¸ª cmd çª—å£ï¼ŒåŸæ¥çš„ä¸è¦å…³é—­ï¼Œä¸ç„¶å°±æ— æ³•è®¿é—®æœåŠ¡ç«¯äº†ã€‚</p>\n<p>åˆ‡æ¢åˆ° redis ç›®å½•ä¸‹è¿è¡Œ:</p>\n<pre><code>redis-cli.exe -h 127.0.0.1 -p 6379\n</code></pre>\n<h1 id=\"æœªå®Œæˆ-windows\"><a class=\"anchor\" href=\"#æœªå®Œæˆ-windows\">#</a> æœªå®Œæˆ ï¼â€”â€”â€”â€” Windows</h1>\n<h1 id=\"-2\"><a class=\"anchor\" href=\"#-2\">#</a> â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</h1>\n<h1 id=\"é—®é¢˜-2\"><a class=\"anchor\" href=\"#é—®é¢˜-2\">#</a> é—®é¢˜</h1>\n<h2 id=\"0-å¸ƒç½®åœ¨æœåŠ¡å™¨ä¸­çš„ä¸œè¥¿é€šè¿‡url-æ— æ³•è®¿é—®\"><a class=\"anchor\" href=\"#0-å¸ƒç½®åœ¨æœåŠ¡å™¨ä¸­çš„ä¸œè¥¿é€šè¿‡url-æ— æ³•è®¿é—®\">#</a> 0ã€å¸ƒç½®åœ¨æœåŠ¡å™¨ä¸­çš„ä¸œè¥¿ï¼Œé€šè¿‡ URL æ— æ³•è®¿é—®</h2>\n<blockquote>\n<p>â€‹\t1ã€é˜²ç«å¢™é—®é¢˜</p>\n<p>â€‹\t2ã€ç«¯å£ é‡Šæ”¾é—®é¢˜ ï¼Œ<strong>ãƒ»æˆ‘ä»¬è¦æ‰‹åŠ¨å»é…ç½®æˆ‘ä»¬æœåŠ¡å™¨çš„å®‰å…¨ç»„ãƒ»</strong></p>\n</blockquote>\n<p>&lt;div name=&quot;perblem-1&quot;&gt;</p>\n<h2 id=\"1-è§£å†³centos-7-æ¯æ¬¡è¿›å…¥è¦é‡æ–°åŠ è½½ç¯å¢ƒå˜é‡\"><a class=\"anchor\" href=\"#1-è§£å†³centos-7-æ¯æ¬¡è¿›å…¥è¦é‡æ–°åŠ è½½ç¯å¢ƒå˜é‡\">#</a> 1ã€è§£å†³ï¼šCentOS 7 æ¯æ¬¡è¿›å…¥è¦é‡æ–°åŠ è½½ç¯å¢ƒå˜é‡</h2>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token number\">1</span>.è¿›å…¥ç³»ç»Ÿé…ç½®æ–‡ä»¶</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">vim</span> ~/.bashrc</pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token number\">2</span>.æœ«å°¾æ·»åŠ å¦‚ä¸‹ä»£ç </pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token builtin class-name\">source</span> /etc/profile</pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>ä¿å­˜å³å¯</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>:wq</pre></td></tr></table></figure><h2 id=\"2-ç«¯å£å ç”¨-æŸ¥çœ‹ç«¯å£\"><a class=\"anchor\" href=\"#2-ç«¯å£å ç”¨-æŸ¥çœ‹ç«¯å£\">#</a> 2ã€ç«¯å£å ç”¨ã€æŸ¥çœ‹ç«¯å£</h2>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>æŸ¥çœ‹æ˜¯å¦è¿è¡Œç«¯å£   </pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">netstat</span> <span class=\"token parameter variable\">-tln</span> <span class=\"token number\">8080</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>æŸ¥çœ‹ç«¯å£å±äºå“ªä¸ªç¨‹åºï¼Ÿç«¯å£è¢«å“ªä¸ªè¿›ç¨‹å ç”¨<span class=\"token punctuation\">(</span>å¾—åˆ°PID<span class=\"token punctuation\">)</span>\t</pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token function\">lsof</span> <span class=\"token parameter variable\">-i</span> :8080  </pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>å…³é—­PIDå¯¹åº”çš„ç¨‹åº            </pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token function\">kill</span> <span class=\"token parameter variable\">-9</span> <span class=\"token punctuation\">(</span>PID<span class=\"token punctuation\">)</span></pre></td></tr></table></figure><p>&lt;div name=&quot;preblem_2&quot;&gt;</p>\n<h2 id=\"3-é˜²ç«å¢™å…³é—­-å¼€å¯\"><a class=\"anchor\" href=\"#3-é˜²ç«å¢™å…³é—­-å¼€å¯\">#</a> 3ã€é˜²ç«å¢™å…³é—­ã€å¼€å¯</h2>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>å…³é—­é˜²ç«å¢™ ï¼Œé‡å¯å¤±æ•ˆ<span class=\"token punctuation\">(</span>Linuxç³»ç»Ÿä¸€é‡å¯Linuxä¸­çš„é˜²ç«å¢™åˆä¼šè¢«å¼€èµ·<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">service</span> firewalld stop</pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>ç¦ç”¨é˜²ç«å¢™ï¼Œæ°¸ä¹…æœ‰æ•ˆ</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>systemctl disable firewalld</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>systemctl disable firewalld.service</pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>å¯åŠ¨é˜²ç«å¢™ <span class=\"token punctuation\">(</span>å¯¹ç¦ç”¨çš„é˜²ç«å¢™è¿›è¡Œå¯åŠ¨<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>systemctl <span class=\"token builtin class-name\">enable</span> firewalld</pre></td></tr><tr><td data-num=\"10\"></td><td><pre></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>é˜²ç«å¢™ç›¸å…³å‘½ä»¤ï¼š</pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token number\">1</span>ï¼‰æŸ¥çœ‹é˜²ç«å¢™çŠ¶æ€ï¼š</pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token function\">service</span>  iptables statusæˆ–è€…systemctl status firewalldæˆ–è€…firewall-cmd <span class=\"token parameter variable\">--state</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token number\">2</span>ï¼‰æš‚æ—¶å…³é—­é˜²ç«å¢™ï¼š</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>systemctl stop firewalldæˆ–è€…service  iptables stopæˆ–è€…systemctl stop firewalld.service</pre></td></tr><tr><td data-num=\"18\"></td><td><pre></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token number\">3</span>ï¼‰æ°¸ä¹…å…³é—­é˜²ç«å¢™ï¼š</pre></td></tr><tr><td data-num=\"20\"></td><td><pre>systemctl disable firewalldæˆ–è€…chkconfig iptables offæˆ–è€…systemctl disable firewalld.service</pre></td></tr><tr><td data-num=\"21\"></td><td><pre></pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token number\">4</span>ï¼‰é‡å¯é˜²ç«å¢™ï¼š</pre></td></tr><tr><td data-num=\"23\"></td><td><pre>systemctl <span class=\"token builtin class-name\">enable</span> firewalldæˆ–è€…service iptables restart  æˆ–è€…systemctl restart firewalld.service</pre></td></tr><tr><td data-num=\"24\"></td><td><pre></pre></td></tr><tr><td data-num=\"25\"></td><td><pre><span class=\"token number\">5</span><span class=\"token punctuation\">)</span>æ°¸ä¹…å…³é—­åé‡å¯ï¼š</pre></td></tr><tr><td data-num=\"26\"></td><td><pre><span class=\"token function\">chkconfig</span> iptables on</pre></td></tr></table></figure><h2 id=\"4-failure-repodatarepomdxml-from-epel-errno-256-no-more-mirrors-to-try\"><a class=\"anchor\" href=\"#4-failure-repodatarepomdxml-from-epel-errno-256-no-more-mirrors-to-try\">#</a> 4ã€failure: repodata/repomd.xml from epel: [Errno 256] No more mirrors to try.</h2>\n<p><span class=\"exturl\" data-url=\"aHR0cDovL21pcnJvcnMuYWxpeXVuLmNvbS9lcGVsLzUveDg2XzY0L3JlcG9kYXRhL3JlcG9tZC54bWw6\">http://mirrors.aliyun.com/epel/5/x86_64/repodata/repomd.xml:</span> [Errno 14] HTTP Error 404 - Not Found çš„è§£å†³åŠæ³•ï¼š</p>\n<p>â€‹\tä¸€ç›´è¯´é‚£ä¸ª XML æ–‡ä»¶ä¸å­˜åœ¨ï¼Œä»¥ä¸ºæ˜¯ yum æºæ˜¯å»è¯»å– xml å½“ä¸­çš„æ•°æ®ç„¶åå»ä¸‹è½½ã€‚ç¡®å®è‡ªå·±å»è®¿é—®ä¹Ÿæ˜¯ 404. è¿˜ä»¥\tä¸ºæ˜¯è¿™é˜µå­å¼€ä¼š yum æºéƒ½æä¸èƒ½ç”¨äº†æ€ä¹ˆã€‚ä¹‹å‰æˆ‘ç”¨é˜¿é‡Œç”¨çš„æŒºå¥½çš„ã€‚</p>\n<p>â€‹\tæœ€ç®€å•çš„åŠæ³•å°±æ˜¯åˆ é™¤ /etc/yum.repos.d/ ä¸‹æ‰€æœ‰çš„æ–‡ä»¶ï¼Œé‡æ–°æ¥ã€‚</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token builtin class-name\">cd</span> /etc/yum.repos.d/</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">mkdir</span> repo_bak</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">mv</span> *.repo repo_bak/</pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\">#ä¸‹è½½ç¼“å­˜æ–‡ä»¶ ç‰ˆæœ¬è‡ªå·±æ§åˆ¶</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token function\">wget</span> http://mirrors.aliyun.com/repo/Centos-7.repo</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>yum clean all</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>yum makecache</pre></td></tr></table></figure><p>&lt;div name=&quot;problem-5&quot;&gt;&lt;/div&gt;</p>\n<h2 id=\"5-xshellè¿æ¥centos7èƒ½è¿ä¸Šä½†æ˜¯è¿æ¥è¿‡ç¨‹å¾ˆæ…¢\"><a class=\"anchor\" href=\"#5-xshellè¿æ¥centos7èƒ½è¿ä¸Šä½†æ˜¯è¿æ¥è¿‡ç¨‹å¾ˆæ…¢\">#</a> 5ã€Xshell è¿æ¥ centos7 èƒ½è¿ä¸Šä½†æ˜¯è¿æ¥è¿‡ç¨‹å¾ˆæ…¢</h2>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>åŸå› ï¼šå› ä¸ºåœ¨ç™»å½•æ—¶ï¼Œéœ€è¦åå‘è§£ædnsã€‚</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>è§£å†³æ–¹æ³•ï¼šä¿®æ”¹linuxé…ç½®æ–‡ä»¶ï¼Œ</pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token function\">vim</span> /etc/ssh/sshd_config</pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>å°† <span class=\"token comment\"># UseDNS yes æ­¤å¤„æ³¨é‡Šå»æ‰</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>æ”¹ä¸ºï¼šUseDNS no</pre></td></tr></table></figure><p><a href=\"#Linux_minInstall_4\">è·³è½¬åˆ° Linux å®‰è£…_4</a></p>\n<p>&lt;div name=&quot;problem-6&quot;&gt;&lt;/div&gt;</p>\n<h2 id=\"6-xshell-è¿æ¥centos7rootæ‹’ç»ç™»å½•è€Œå…¶ä»–ç”¨æˆ·å¯ç™»é™†-rootç”¨æˆ·ç›´æ¥ç™»å½•\"><a class=\"anchor\" href=\"#6-xshell-è¿æ¥centos7rootæ‹’ç»ç™»å½•è€Œå…¶ä»–ç”¨æˆ·å¯ç™»é™†-rootç”¨æˆ·ç›´æ¥ç™»å½•\">#</a> 6ã€Xshell è¿æ¥ Centos7ï¼Œroot æ‹’ç»ç™»å½•ï¼Œè€Œå…¶ä»–ç”¨æˆ·å¯ç™»é™†ï¼Ÿâ€”â€”â€”â€” root ç”¨æˆ·ç›´æ¥ç™»å½•</h2>\n<p><strong>PermitRootLogin</strong>  çš„å€¼æ”¹æˆ  yes  ï¼Œå¹¶ä¿å­˜</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">vim</span> /etc/ssh/sshd_config</pre></td></tr></table></figure><p><img data-src=\"https://tools-All-blog.csdnimg.cn/20210712112157753.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1lhbmdfeWFuZ3lhbmc=,size_16,color_FFFFFF,t_70\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" /></p>\n<p>é‡å¯ sshd æœåŠ¡</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">service</span> sshd restart</pre></td></tr></table></figure><p>å¦‚æœä¸Šé¢å‘½ä»¤æç¤ºæ–‡ä»¶ä¸å­˜åœ¨ï¼Œå¯ä»¥ç”¨ä¸‹é¢çš„å‘½ä»¤</p>\n<pre><code>systemctl restart sshd.service\n</code></pre>\n<p>å¦‚æœè¿˜ä¸è¡Œï¼Œç›´æ¥ é‡å¯æœåŠ¡å™¨ã€‚ã€‚ã€‚</p>\n<pre><code>reboot\n</code></pre>\n<p>æ„å¤–çš„æ˜¯ï¼Œå‘ç° root ä¾ç„¶ä¸èƒ½ç™»å½•ã€‚æœ€åç ”ç©¶ sshd_config çš„æ¯ä¸€è¡Œæ„ä¹‰ï¼Œå‘ç°å‘åœ¨è¿™é‡Œï¼š</p>\n<p><strong>æ³¨ï¼šæœ‰åˆ™çœ‹ï¼Œæ— åˆ™è·³</strong></p>\n<p><img data-src=\"https://tools-All-blog.csdnimg.cn/2021071211252989.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1lhbmdfeWFuZ3lhbmc=,size_16,color_FFFFFF,t_70\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" /></p>\n<p>æ–‡ä»¶çš„æœ€åä¸€è¡Œï¼Œæœ‰ä¸€è¡Œ ï¼šAllowUsers xxx@192.168.1.<em>ã€‚è¿™æ˜¯å†™æ­»çš„äº†ï¼Œå³ï¼šèƒ½è¿œç¨‹ç™»å½•çš„ ç”¨æˆ·åã€IP ä¿¡æ¯ã€‚éš¾æ€ªï¼Œå…¶ä»–ç”¨æˆ·ä¸€ç›´æ— æ³•ç™»å½•ã€‚<br />\næ‰€ä»¥ï¼Œåœ¨åé¢è¿½åŠ ï¼šroot@192.168.1.</em><br />\n ä¿®æ”¹å®Œçš„ä»£ç ä¸ºï¼šxxx@192.168.1.* root@192.168.1.*<br />\n ç„¶åå†æ‰§è¡Œé‡å¯æœåŠ¡æ“ä½œï¼Œç„¶åå‘ç° root å¯ä»¥ç™»å½•äº†ï¼æå®šï¼ï¼ï¼</p>\n<blockquote>\n<p>æ³¨æ„ï¼š <code>xxx@192.168.1.* root@192.168.1.*</code>  ä¹‹é—´è¦æœ‰ç©ºæ ¼ã€‚</p>\n<p>æˆ–è€…ç›´æ¥å°†æ­¤è¡Œ ä»£ç ç›´æ¥æ³¨é‡Šæ‰ï¼Œä¹Ÿå¯ä»¥ã€‚</p>\n</blockquote>\n<p><a href=\"#Linux_minInstall_6\">è·³è½¬åˆ° Linux å®‰è£…_æœ€å°åŒ–å®‰è£…_6</a></p>\n<p>&lt;div name=&quot;problem-7&quot;&gt;&lt;/div&gt;</p>\n<h2 id=\"7-yumç›´æ¥å®‰è£…docker-ceæŠ¥é”™æ‰¾ä¸åˆ°å®‰è£…åŒ…\"><a class=\"anchor\" href=\"#7-yumç›´æ¥å®‰è£…docker-ceæŠ¥é”™æ‰¾ä¸åˆ°å®‰è£…åŒ…\">#</a> 7ã€yum ç›´æ¥å®‰è£… docker-ce æŠ¥é”™æ‰¾ä¸åˆ°å®‰è£…åŒ…</h2>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">#æ›´æ¢æˆé˜¿é‡Œäº‘é•œåƒä»“åº“</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>yum-config-manager --add-repo   http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo</pre></td></tr></table></figure><p><a href=\"#docker_install_3\">å›åˆ° Docker å®‰è£…æ­¥éª¤ 3</a></p>\n<h2 id=\"8-docker-æŸ¥çœ‹æ—¥å¿—\"><a class=\"anchor\" href=\"#8-docker-æŸ¥çœ‹æ—¥å¿—\">#</a> 8ã€docker æŸ¥çœ‹æ—¥å¿—</h2>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">docker</span> logs <span class=\"token punctuation\">[</span>OPTIONS<span class=\"token punctuation\">]</span> CONTAINER</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  Options:</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>        <span class=\"token parameter variable\">--details</span>        æ˜¾ç¤ºæ›´å¤šçš„ä¿¡æ¯</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    -f, <span class=\"token parameter variable\">--follow</span>         è·Ÿè¸ªå®æ—¶æ—¥å¿—</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        <span class=\"token parameter variable\">--since</span> string   æ˜¾ç¤ºè‡ªæŸä¸ªtimestampä¹‹åçš„æ—¥å¿—ï¼Œæˆ–ç›¸å¯¹æ—¶é—´ï¼Œå¦‚42mï¼ˆå³42åˆ†é’Ÿï¼‰</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        <span class=\"token parameter variable\">--tail</span> string    ä»æ—¥å¿—æœ«å°¾æ˜¾ç¤ºå¤šå°‘è¡Œæ—¥å¿—ï¼Œ é»˜è®¤æ˜¯all</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        </pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    -t, <span class=\"token parameter variable\">--timestamps</span>     æ˜¾ç¤ºæ—¶é—´æˆ³</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        <span class=\"token parameter variable\">--until</span> string   æ˜¾ç¤ºè‡ªæŸä¸ªtimestampä¹‹å‰çš„æ—¥å¿—ï¼Œæˆ–ç›¸å¯¹æ—¶é—´ï¼Œå¦‚42mï¼ˆå³42åˆ†é’Ÿï¼‰</pre></td></tr></table></figure><p>â€‹\tæŸ¥çœ‹æŒ‡å®šæ—¶é—´åçš„æ—¥å¿—ï¼Œåªæ˜¾ç¤ºæœ€å 100 è¡Œï¼š</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>$ <span class=\"token function\">docker</span> logs <span class=\"token parameter variable\">-f</span> <span class=\"token parameter variable\">-t</span> <span class=\"token parameter variable\">--since</span><span class=\"token operator\">=</span><span class=\"token string\">\"2018-02-08\"</span> <span class=\"token parameter variable\">--tail</span><span class=\"token operator\">=</span><span class=\"token number\">100</span> CONTAINER_ID</pre></td></tr></table></figure><p>â€‹\tæŸ¥çœ‹æœ€è¿‘ 30 åˆ†é’Ÿçš„æ—¥å¿—:</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>$ <span class=\"token function\">docker</span> logs <span class=\"token parameter variable\">--since</span> 30m CONTAINER_ID</pre></td></tr></table></figure><p>â€‹\tæŸ¥çœ‹æŸæ—¶é—´ä¹‹åçš„æ—¥å¿—ï¼š</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>$ <span class=\"token function\">docker</span> logs <span class=\"token parameter variable\">-t</span> <span class=\"token parameter variable\">--since</span><span class=\"token operator\">=</span><span class=\"token string\">\"2018-02-08T13:23:37\"</span> CONTAINER_ID</pre></td></tr></table></figure><p>â€‹\tæŸ¥çœ‹æŸæ—¶é—´æ®µæ—¥å¿—ï¼š</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>$ <span class=\"token function\">docker</span> logs <span class=\"token parameter variable\">-t</span> <span class=\"token parameter variable\">--since</span><span class=\"token operator\">=</span><span class=\"token string\">\"2018-02-08T13:23:37\"</span> <span class=\"token parameter variable\">--until</span> <span class=\"token string\">\"2018-02-09T12:23:37\"</span> CONTAINER_ID</pre></td></tr></table></figure><h2 id=\"9-å¦‚ä½•è§£å†³error-failed-to-push-some-refs-to-httpsgiteecom\"><a class=\"anchor\" href=\"#9-å¦‚ä½•è§£å†³error-failed-to-push-some-refs-to-httpsgiteecom\">#</a> 9 ã€å¦‚ä½•è§£å†³ error: failed to push some refs to â€˜<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRlZS5jb20v\">https://gitee.com/</span></h2>\n<p>â€‹\tå‡ºç°é”™è¯¯çš„ä¸»è¦åŸå› æ˜¯ gitee (github) ä¸­çš„ README.md æ–‡ä»¶ä¸åœ¨æœ¬åœ°ä»£ç ç›®å½•ä¸­</p>\n<p>â€‹\tæ­¤æ—¶æˆ‘ä»¬è¦æ‰§è¡Œ git pull --rebase origin master å‘½ä»¤<strong><span class=\"exturl\" data-url=\"aHR0cDovL1JFQURNRS5tZA==\"> README.md</span></strong> æ‹‰åˆ°æœ¬åœ°</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">git</span> pull <span class=\"token parameter variable\">--rebase</span> origin master</pre></td></tr></table></figure><p>ç„¶åæ‰§è¡Œ git push origin master</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">git</span> push origin master</pre></td></tr></table></figure><p>å°± ok å•¦ï¼</p>\n<h2 id=\"10-idea-å®˜ç½‘ä¸‹è½½æ’ä»¶è¿‡æ…¢\"><a class=\"anchor\" href=\"#10-idea-å®˜ç½‘ä¸‹è½½æ’ä»¶è¿‡æ…¢\">#</a> 10 ã€idea å®˜ç½‘ä¸‹è½½æ’ä»¶è¿‡æ…¢</h2>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1JlYWxfQ1NETl9Vc2VyL2FydGljbGUvZGV0YWlscy8xMTM5NDQ0OTY=\">(29 æ¡æ¶ˆæ¯) Intellij IDEA ä¸‹è½½æ’ä»¶å¤ªæ…¢ï¼Œæ€ä¹ˆåŠï¼Ÿ_Real_csdn_User çš„åšå®¢ - CSDN åšå®¢_idea ä¸‹è½½æ’ä»¶å¾ˆæ…¢</span></p>\n<h3 id=\"1æŸ¥è¯¢è‡ªå·±çš„ç½‘ç»œæœåŠ¡æä¾›å•†\"><a class=\"anchor\" href=\"#1æŸ¥è¯¢è‡ªå·±çš„ç½‘ç»œæœåŠ¡æä¾›å•†\">#</a> ï¼ˆ1ï¼‰æŸ¥è¯¢è‡ªå·±çš„ç½‘ç»œæœåŠ¡æä¾›å•†</h3>\n<p>è®¿é—®<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuaXAxMzguY29tLw==\"> iP138 æŸ¥è¯¢ç½‘</span>ï¼ŒæŸ¥çœ‹è‡ªå·±çš„ç½‘ç»œæœåŠ¡æä¾›å•†å¹¶è®°ä¸‹å®ƒã€‚æ¯”å¦‚æˆ‘è®¿é—®è¯¥ç½‘ç«™æˆªå›¾å¦‚ä¸‹ï¼š<br />\n<img data-src=\"https://tools-All-blog.csdnimg.cn/20210222191130433.png#pic_center\" alt=\"æˆ‘çš„ç½‘ç»œæœåŠ¡æä¾›å•†æ˜¯ç§»åŠ¨ï¼ˆä¸ºä¿æŠ¤éšç§ï¼Œéƒ¨åˆ†å†…å®¹æ‰“ç ï¼‰\" /><br />\nå¦‚æœä½ å·²ç»çŸ¥é“è‡ªå·±çš„ç½‘ç»œæœåŠ¡æä¾›å•†å°±ä¸éœ€è¦è¿™ä¸€æ­¥ã€‚</p>\n<h3 id=\"2æŸ¥æ‰¾è®¿é—®æ’ä»¶ç½‘ç«™æœ€å¿«çš„ip\"><a class=\"anchor\" href=\"#2æŸ¥æ‰¾è®¿é—®æ’ä»¶ç½‘ç«™æœ€å¿«çš„ip\">#</a> ï¼ˆ2ï¼‰æŸ¥æ‰¾è®¿é—®æ’ä»¶ç½‘ç«™æœ€å¿«çš„ IP</h3>\n<p>Intellij IDEA çš„æ’ä»¶ä¸»é¡µåœ°å€æ˜¯<span class=\"exturl\" data-url=\"aHR0cHM6Ly9wbHVnaW5zLmpldGJyYWlucy5jb20v\"> https://plugins.jetbrains.com</span>ã€‚æ‰“å¼€<span class=\"exturl\" data-url=\"aHR0cDovL3Rvb2wuY2hpbmF6LmNvbS9zcGVlZHRlc3Qv\">ç½‘ç«™æµ‹é€Ÿ - ç«™é•¿å·¥å…·</span>ï¼Œå°†æ’ä»¶çš„ä¸»é¡µåœ°å€å¡«å…¥è¾“å…¥æ¡†å†…ï¼Œç‚¹å‡»æŸ¥çœ‹åˆ†ææŒ‰é’®ã€‚ä¸€æ®µæ—¶é—´åï¼Œå°±å¯ä»¥çœ‹åˆ°å…¨ä¸­å›½å„ä¸ªåœ°åŒºè®¿é—®æ’ä»¶ä¸»é¡µçš„é€Ÿåº¦ã€‚ç‚¹å‡»è¡¨å¤´ â€œæ€»è€—æ—¶â€ å³ä¾§çš„å°æŒ‰é’®ï¼Œä»¤å…¨å›½å„åœ°è®¿é—®æ’ä»¶ä¸»é¡µçš„æ€»è€—æ—¶æŒ‰å¢é•¿é¡ºåºæ’åˆ—ï¼Œè¿™æ ·è€—æ—¶æœ€çŸ­ã€é€Ÿåº¦æœ€å¿«çš„è¡Œå°±åœ¨æœ€ä¸Šæ–¹ã€‚ä»è¡¨æ ¼ä¸­æ‰¾åˆ°ä¸è‡ªå·±ç½‘ç»œæœåŠ¡æä¾›å•†ç›¸åŒçš„è¡Œï¼Œè®°ä¸‹å¯¹åº”çš„ IP åœ°å€ã€‚ä¸‹é¢æ˜¯æˆ‘æµ‹é‡çš„è®¿é—®æ’ä»¶ä¸»é¡µçš„é€Ÿåº¦çš„ç»“æœï¼š<br />\n<img data-src=\"https://tools-All-blog.csdnimg.cn/20210222193138206.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1JlYWxfQ1NETl9Vc2Vy,size_16,color_FFFFFF,t_70#pic_center\" alt=\"æˆ‘çš„ç½‘ç»œæœåŠ¡æä¾›å•†æ˜¯ç§»åŠ¨ï¼Œæˆ‘è®°ä¸‹çš„IPæ˜¯54.192.23.52\" /></p>\n<h3 id=\"3åœ¨hostsæ–‡ä»¶ä¸­ä¸ºpluginsjetbrainscomæ·»åŠ ç›¸å…³æ¡ç›®\"><a class=\"anchor\" href=\"#3åœ¨hostsæ–‡ä»¶ä¸­ä¸ºpluginsjetbrainscomæ·»åŠ ç›¸å…³æ¡ç›®\">#</a> ï¼ˆ3ï¼‰åœ¨ hosts æ–‡ä»¶ä¸­ä¸º plugins.jetbrains.com æ·»åŠ ç›¸å…³æ¡ç›®</h3>\n<p>ç”¨æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€ C:\\Windows\\System32\\drivers\\etc\\hosts æ–‡ä»¶ã€‚åœ¨æ–‡ä»¶æœ€ä¸‹æ–¹æ·»åŠ ä¸€è¡Œæ–‡å­—ï¼š<br />\n[ä½ è®°ä¸‹çš„ IP åœ°å€] <span class=\"exturl\" data-url=\"aHR0cDovL3BsdWdpbnMuamV0YnJhaW5zLmNvbQ==\">plugins.jetbrains.com</span><br />\n [ä½ è®°ä¸‹çš„ IP åœ°å€] ç”¨ä½ è®°ä¸‹çš„ IP åœ°å€ä»£æ›¿ï¼Œè®°ä½ä¸è¦å¸¦ä¸Šæ–¹æ‹¬å·ï¼Œè€Œä¸” IP åœ°å€å’Œ plugins.jetbrains.com ä¹‹é—´æœ‰ç©ºæ ¼ã€‚ä¾‹å¦‚æˆ‘åœ¨æ–‡ä»¶ä¸­æ·»åŠ çš„æ–‡å­—æ˜¯ï¼š<br />\n13.225.160.7 <span class=\"exturl\" data-url=\"aHR0cDovL3BsdWdpbnMuamV0YnJhaW5zLmNvbQ==\">plugins.jetbrains.com</span><br />\n æ³¨æ„ï¼šç¼–è¾‘ hosts æ–‡ä»¶éœ€è¦ç®¡ç†å‘˜æƒé™ã€‚</p>\n<h3 id=\"ä¸‰-é¢˜å¤–è¯\"><a class=\"anchor\" href=\"#ä¸‰-é¢˜å¤–è¯\">#</a> ä¸‰ã€é¢˜å¤–è¯</h3>\n<p>è¿™ç§æ–¹æ³•å¹¶ä¸åªé™äºåŠ å¿«ä¸‹è½½ IDEA æ’ä»¶çš„é€Ÿåº¦ï¼Œåªè¦ä½ çŸ¥é“ç½‘ç»œèµ„æºçš„ç½‘å€ï¼Œè€Œä¸”è¯¥ç½‘ç»œèµ„æºä½¿ç”¨äº†ä¸‹è½½åŠ é€ŸæœåŠ¡å™¨ï¼Œéƒ½å¯ä»¥ç”¨è¿™ç§æ–¹æ³•ã€‚</p>\n<h2 id=\"-3\"><a class=\"anchor\" href=\"#-3\">#</a> </h2>\n<h1 id=\"æœªå®Œæˆé—®é¢˜\"><a class=\"anchor\" href=\"#æœªå®Œæˆé—®é¢˜\">#</a> æœªå®Œæˆ â€”â€” é—®é¢˜</h1>\n<h1 id=\"æœªå®Œæˆ\"><a class=\"anchor\" href=\"#æœªå®Œæˆ\">#</a> æœªå®Œæˆ</h1>\n",
            "tags": []
        },
        {
            "id": "http://example.com/2022/10/15/Zookeeper-tool/",
            "url": "http://example.com/2022/10/15/Zookeeper-tool/",
            "title": "Zookeeper",
            "date_published": "2022-10-15T04:52:38.222Z",
            "content_html": "<h3 id=\"zookeeper-linuxå®‰è£…\"><a class=\"anchor\" href=\"#zookeeper-linuxå®‰è£…\">#</a> Zookeeper-linux å®‰è£…</h3>\n<h4 id=\"1\"><a class=\"anchor\" href=\"#1\">#</a> â€”â€”1</h4>\n<h5 id=\"1-zookeeperç®€ä»‹\"><a class=\"anchor\" href=\"#1-zookeeperç®€ä»‹\">#</a> 1     Zookeeper ç®€ä»‹</h5>\n<p>â€‹\tzookeeper åˆ†å¸ƒå¼ç®¡ç†è½¯ä»¶ã€‚å¸¸ç”¨å®ƒåšæ³¨å†Œä¸­å¿ƒï¼ˆä¾èµ– zookeeper çš„å‘å¸ƒ / è®¢é˜…åŠŸèƒ½ï¼‰ã€é…ç½®æ–‡ä»¶ä¸­å¿ƒã€åˆ†å¸ƒå¼é”é…ç½®ã€é›†ç¾¤ç®¡ç†ç­‰ã€‚</p>\n<p>â€‹\tzookeeper ä¸€å…±å°±æœ‰ä¸¤ä¸ªç‰ˆæœ¬ã€‚ä¸»è¦ä½¿ç”¨çš„æ˜¯ java è¯­è¨€å†™çš„ã€‚</p>\n<h5 id=\"2-å®‰è£…\"><a class=\"anchor\" href=\"#2-å®‰è£…\">#</a> 2     å®‰è£…</h5>\n<h6 id=\"21-ä¸Šä¼ å‹ç¼©æ–‡ä»¶\"><a class=\"anchor\" href=\"#21-ä¸Šä¼ å‹ç¼©æ–‡ä»¶\">#</a> 2.1   ä¸Šä¼ å‹ç¼©æ–‡ä»¶</h6>\n<p>â€‹\tä¸Šä¼ åˆ° /usr/local/tmp ä¸­</p>\n<h5 id=\"22-è§£å‹\"><a class=\"anchor\" href=\"#22-è§£å‹\">#</a> 2.2   è§£å‹</h5>\n<pre><code> tar zxf apache-zookeeper-3.5.5-bin.tar.gz\n cp -r apache-zookeeper-3.5.5-bin ../zookeeper\n</code></pre>\n<h5 id=\"23-æ–°å»ºdataç›®å½•\"><a class=\"anchor\" href=\"#23-æ–°å»ºdataç›®å½•\">#</a> 2.3   æ–°å»º data ç›®å½•</h5>\n<p>è¿›å…¥åˆ° zookeeper ä¸­</p>\n<pre><code> cd /usr/local/zookeeper\n mkdir data\n</code></pre>\n<h5 id=\"24-ä¿®æ”¹é…ç½®æ–‡ä»¶\"><a class=\"anchor\" href=\"#24-ä¿®æ”¹é…ç½®æ–‡ä»¶\">#</a> 2.4   ä¿®æ”¹é…ç½®æ–‡ä»¶</h5>\n<p>è¿›å…¥ conf ä¸­</p>\n<pre><code> cd conf\n cp zoo_sample.cfg zoo.cfg\n vim zoo.cfg\n</code></pre>\n<p>ä¿®æ”¹ dataDir ä¸º data æ–‡ä»¶å¤¹è·¯å¾„</p>\n<pre><code>dataDir=/usr/local/zookeeper/data\n</code></pre>\n<h5 id=\"25-å¯åŠ¨zookeeper\"><a class=\"anchor\" href=\"#25-å¯åŠ¨zookeeper\">#</a> 2.5   å¯åŠ¨ zookeeper</h5>\n<p>è¿›å…¥ bin æ–‡ä»¶å¤¹</p>\n<pre><code> cd /usr/local/zookeeper/bin\n ./zkServer.sh start\n</code></pre>\n<p>é€šè¿‡ status æŸ¥çœ‹å¯åŠ¨çŠ¶æ€ã€‚ç¨å¾®æœ‰ä¸ªç­‰å¾…æ—¶é—´</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>./zkServer.sh status</pre></td></tr></table></figure><h4 id=\"2\"><a class=\"anchor\" href=\"#2\">#</a> â€”â€”2</h4>\n<p><strong>èµ„æ–™ï¼š</strong></p>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuY25ibG9ncy5jb20va2luZ2tvby9wLzg3MzI0NDguaHRtbA==\">https://www.cnblogs.com/kingkoo/p/8732448.html</span></p>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuYmlsaWJpbGkuY29tL3ZpZGVvL2F2ODA4NzQ2NjY/ZnJvbT1zZWFyY2gmYW1wO3NlaWQ9MTYyOTE0NTAyNTIxMTk5OTEwNCZhbXA7c3BtX2lkX2Zyb209MzMzLjMzNy4wLjA=\">https://www.bilibili.com/video/av80874666?from=search&amp;seid=1629145025211999104&amp;spm_id_from=333.337.0.0</span></p>\n<h5 id=\"1-zookeeperç®€ä»‹-2\"><a class=\"anchor\" href=\"#1-zookeeperç®€ä»‹-2\">#</a> 1     Zookeeper ç®€ä»‹</h5>\n<p>â€‹\tzookeeper åˆ†å¸ƒå¼ç®¡ç†è½¯ä»¶ã€‚å¸¸ç”¨å®ƒåšæ³¨å†Œä¸­å¿ƒï¼ˆä¾èµ– zookeeper çš„å‘å¸ƒ / è®¢é˜…åŠŸèƒ½ï¼‰ã€é…ç½®æ–‡ä»¶ä¸­å¿ƒã€åˆ†å¸ƒå¼é”é…ç½®ã€é›†ç¾¤ç®¡ç†ç­‰ã€‚</p>\n<p>â€‹\tzookeeper ä¸€å…±å°±æœ‰ä¸¤ä¸ªç‰ˆæœ¬ã€‚ä¸»è¦ä½¿ç”¨çš„æ˜¯ java è¯­è¨€å†™çš„ã€‚</p>\n<h5 id=\"2-å®‰è£…-2\"><a class=\"anchor\" href=\"#2-å®‰è£…-2\">#</a> 2     å®‰è£…</h5>\n<h6 id=\"21-æ‹‰å–é•œåƒ\"><a class=\"anchor\" href=\"#21-æ‹‰å–é•œåƒ\">#</a> 2.1   æ‹‰å–é•œåƒ</h6>\n<ul>\n<li>\n<p>è‡ªå®šä¹‰ zookeeper ç›®å½•</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">mkdir</span> /root/zookeeper</pre></td></tr></table></figure></li>\n</ul>\n<p>#mkdir /root/zookeeper/data #åŸå› å‚ç…§ä¸Šé¢ - åœ¨ docker ä¸­ data å…¶å®ä¹Ÿä¸ç”¨åœ¨å®¿ä¸»æœºè¡Œè‡ªå·±ç”Ÿæˆ (ç›®å‰å¦‚æ­¤)</p>\n<p>ä»“åº“å®˜ç½‘æŸ¥çœ‹ç‰ˆæœ¬æˆ–è€…ç”¨å‘½ä»¤ç›´æ¥æŸ¥</p>\n<pre><code>docker search zookeeper\n</code></pre>\n<p>æ‹‰å–ç‰¹å®šç‰ˆæœ¬ï¼ˆ3.5ï¼‰</p>\n<pre><code>docker pull zookeeper:3.5\n\n```\n</code></pre>\n<h6 id=\"22-åˆ›å»ºå¹¶å¯åŠ¨å®¹å™¨\"><a class=\"anchor\" href=\"#22-åˆ›å»ºå¹¶å¯åŠ¨å®¹å™¨\">#</a> 2.2 åˆ›å»ºå¹¶å¯åŠ¨å®¹å™¨</h6>\n<p>â€‹\t<strong>æ³¨ï¼šå°±ç›®å‰è€Œä¸” å¥½åƒç›´æ¥åœ¨ docker ä¸­ä½¿ç”¨ zookeeper ä¸éœ€è¦è¿‡å¤šçš„é…ç½®ï¼Œç›´æ¥ç”¨å‘½ä»¤åˆ›å»ºå§ï¼Œä¸‹é¢çš„è§£é‡Šå…ˆä¸çœ‹ï¼Œå…·ä½“åŸå› åé¢è¡¥å……</strong></p>\n<p>å‘½ä»¤ï¼š</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">docker</span> run <span class=\"token parameter variable\">-d</span> <span class=\"token parameter variable\">--name</span> zookeeper <span class=\"token parameter variable\">-v</span> /root/zookeeper/data:/data <span class=\"token parameter variable\">-p</span> <span class=\"token number\">2181</span>:2181 <span class=\"token parameter variable\">--restart</span> always zookeeper:3.5</pre></td></tr></table></figure><ul>\n<li><code>--restart always</code> ï¼šå§‹ç»ˆé‡å¯</li>\n<li><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuY25ibG9ncy5jb20vYWdlb3ZiL3AvMTUzMjg3OTYuaHRtbA==\">https://www.cnblogs.com/ageovb/p/15328796.html</span></li>\n</ul>\n<p><strong>è§£é‡Š</strong></p>\n<ul>\n<li>\n<p>1ã€è¿™é‡Œä¸ºå•¥åªæŒ‚è½½äº† data ç›®å½• --ã€‹å› ä¸ºå½“æˆ‘ä»¬ æ²¡æœ‰ç›´æ¥çš„å®‰è£…å‹ç¼©åŒ…æ—¶ï¼Œæˆ‘ä»¬çš„å°±æ²¡æœ‰é…ç½®æ–‡ä»¶ï¼Œæ‰€ä»¥æˆ‘ä»¬ç›´æ¥ç”Ÿæˆï¼Œå®¹å™¨ä¸­å°±å›è‡ªåŠ¨ç”Ÿæˆ conf æ–‡ä»¶ï¼Œå…¶ä¸­å°±æœ‰æˆ‘ä»¬éœ€è¦çš„ ä¸€ç³»åˆ—é…ç½®æ–‡ä»¶ï¼Œæˆ‘ä»¬ç¬¬ä¸€æ¬¡åˆ›å»ºçš„æ—¶å€™å°±å¯ä»¥å¦‚æ­¤ï¼Œæˆ‘ä»¬åœ¨è¿›<strong>è¡Œé…ç½®æ–‡ä»¶çš„ä¿®æ”¹å®Œæˆ</strong>åï¼Œè¦å°†æ‰€æœ‰é…ç½®æ–‡ä»¶æ”¾åˆ°æˆ‘ä»¬  bash ç›®å½•ä¸­çš„ conf æ–‡ä»¶ä¸­å»ã€‚</p>\n</li>\n<li>\n<p>2ã€ç¬¬ä¸€æ¬¡è¿›å…¥å®¹å™¨</p>\n<ul>\n<li>\n<p>åœ¨ bash ç›®å½•ä¸‹è¿›å…¥ bin ç›®å½•ç„¶åè¾“å…¥å¼€å¯å®¢æˆ·ç«¯å‘½ä»¤</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>./zkCli.sh</pre></td></tr></table></figure></li>\n</ul>\n</li>\n<li>\n<p>3ã€ç¬¬äºŒæ¬¡è¿›å…¥å®¹å™¨</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">docker</span> <span class=\"token builtin class-name\">exec</span> <span class=\"token parameter variable\">-it</span> zookeeper /bin/bash  <span class=\"token parameter variable\">-p</span>    ç«¯å£å·</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>æˆ–</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">docker</span> <span class=\"token builtin class-name\">exec</span> <span class=\"token parameter variable\">-it</span> zookeeper zkCli.sh</pre></td></tr></table></figure></li>\n</ul>\n<p><em><em>åªçœ‹åˆ°è¿™å°±å¯</em>ï¼Œå®¹å™¨åˆ›å»ºæˆåŠŸå°±å¯ä»¥ç›´æ¥ç”¨äº†ï¼Œè¿˜æ²¡æœ‰å‡ºç°é—®é¢˜ã€‚æœ‰å¾…è¡¥å……</em> *</p>\n<h6 id=\"23-ä¿®æ”¹é…ç½®æ–‡ä»¶\"><a class=\"anchor\" href=\"#23-ä¿®æ”¹é…ç½®æ–‡ä»¶\">#</a> 2.3   ä¿®æ”¹é…ç½®æ–‡ä»¶</h6>\n<ul>\n<li>é…ç½®æ–‡ä»¶æ¥æº\n<ul>\n<li>1ã€å¯ä»¥å»æˆ‘ä»¬çš„èµ„æ–™ä¸­ç›´æ¥è§£å‹å‡º<strong> conf</strong> ç›®å½•ç²˜è´´åˆ°æˆ‘ä»¬çš„ zookeeper ç›®å½•ä¸­å»</li>\n<li>2ã€å¯ä»¥ç›´æ¥è¿›è¡Œç¬¬ 3 æ­¥ï¼Œå®Œäº‹ä¹‹åç›´æ¥ä¼šåœ¨å®¹å™¨ä¸­ç”Ÿæˆã€‚æ‰¾åˆ° conf æ–‡ä»¶ï¼Œä¿®æ”¹å…¶ä¸­çš„ zoo.cfg æ–‡ä»¶ï¼Œ</li>\n</ul>\n</li>\n</ul>\n<p>è¿›å…¥å®¹å™¨åï¼Œæ‰¾åˆ° conf ä¸­çš„ **zoo.cfg æ–‡ä»¶ï¼Œæ¥ä¸‹æ¥å°±æ˜¯ä¿®æ”¹ <strong>dataDir</strong> è·¯å¾„ä¸ºå®¹å™¨ä¸­çš„ data æ–‡ä»¶ç›®å½•ã€‚</p>\n<p>å‰ææ˜¯è¦ä¸‹è½½ vim ï¼Œå› ä¸ºå®¹å™¨ä¸­æ²¡æœ‰ï¼Œå‘½ä»¤æ˜¯ï¼š</p>\n<pre><code>apt-get update\n\napt-get install -y vim\n\ncd conf\n### æ²¡æœ‰zoo.cfg å°±å…ˆæ‹·è´ zoo_sample.cfg ä¸¤ä¸ªå…¶å®æ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼Œå†…å®¹ç›¸åŒ\n###cp zoo_sample.cfg zoo.cfg\nvim zoo.cfg\n</code></pre>\n<p>ä¿®æ”¹ dataDir ä¸º data æ–‡ä»¶å¤¹è·¯å¾„</p>\n<pre><code>dataDir=/usr/local/zookeeper/data\n</code></pre>\n<h3 id=\"zookeeperé›†ç¾¤æ­å»º\"><a class=\"anchor\" href=\"#zookeeperé›†ç¾¤æ­å»º\">#</a> Zookeeper é›†ç¾¤æ­å»º</h3>\n<h4 id=\"1-2\"><a class=\"anchor\" href=\"#1-2\">#</a> â€”â€”1</h4>\n<p>1. ä¸Šä¼ å‹ç¼©åŒ…åˆ° /usr/local/tmp ä¸‹ å¹¶è§£å‹ã€‚</p>\n<p>2. åœ¨ /usr/local ä¸‹æ–°å»ºæ–‡ä»¶å¤¹ zookeeper</p>\n<pre><code>### mkdir /usr/local/zookeeper\n</code></pre>\n<p>3. æŠŠè§£å‹çš„æ‰€æœ‰æ–‡ä»¶å¤åˆ¶åˆ° zookeeper ä¸‹ï¼Œ å¹¶å‘½åä¸º zk1</p>\n<pre><code>### cp -r /usr/local/temp/zookeeper-3.4.8 /usr/local/zookeeper/zk1\n</code></pre>\n<p>4. åœ¨ zk1 ä¸‹æ–°å»ºæ–‡ä»¶å¤¹ data</p>\n<p>5. åœ¨ data ä¸‹æ–°å»ºæ–‡ä»¶ myid, é‡Œé¢å†™ä¸Š 1</p>\n<pre><code>### vim myid\n</code></pre>\n<p>6. è¿›å…¥åˆ° zk1/conf ä¸‹ æŠŠ zoo_sample.cfg å¤åˆ¶ä¸€ä»½å«åš zoo.cfg</p>\n<p>7. ç¼–è¾‘ zoo.cfg å†…å®¹ï¼Œè®¾ç½® dataDIR ä¸º data æ–‡ä»¶å¤¹ï¼Œ å¹¶åœ¨æ–‡ä»¶æœ€ä¸‹é¢æ·»åŠ ä¸‹é¢å†…å®¹</p>\n<pre><code>server.1=192.168.93.10:2688:3888\nserver.2=192.168.93.10:2689:3889\nserver.3=192.168.93.10:2690:3890\n</code></pre>\n<p>7.1 server.1 ä¸­çš„ 1 æ˜¯ myid çš„å†…å®¹</p>\n<p>7.2 2688 2689 2690 æ˜¯ zookeeper å†…éƒ¨ç«¯å£</p>\n<p>7.3 3888 3889 3890 æ˜¯ leader ç«¯å£</p>\n<p>8. æŠŠ zk1 å¤åˆ¶ä¸¤ä»½ï¼Œåˆ†éƒ¨å«åš zk2  zk3  å¹¶ä¿®æ”¹ myid çš„å€¼ä¸º 2ï¼Œ3 ä¿®æ”¹ zoo.cfg ä¸­ dataDIR å’Œ clientPort</p>\n<p>9. å¯åŠ¨ä¸‰ä¸ª zookeeper</p>\n<pre><code>### ./zkServer.sh start\n</code></pre>\n<p>10. æŸ¥çœ‹çŠ¶æ€</p>\n<pre><code>### ./zkServer.sh status\n</code></pre>\n<h4 id=\"2-2\"><a class=\"anchor\" href=\"#2-2\">#</a> â€”â€”2</h4>\n<p><strong>1ã€å‡†å¤‡</strong> docker-compose.yml<strong> æ–‡ä»¶</strong></p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>version: <span class=\"token string\">'2'</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>services:</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  zoo1:</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    image: zookeeper:3.5</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    restart: always</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    container_name: zoo1</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    ports:</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>      - <span class=\"token string\">\"2182:2181\"</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    environment:</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>      ZOO_MY_ID: <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>      ZOO_SERVERS: <span class=\"token assign-left variable\">server.1</span><span class=\"token operator\">=</span><span class=\"token number\">0.0</span>.0.0:2688:3888 <span class=\"token assign-left variable\">server.2</span><span class=\"token operator\">=</span>zoo2:2689:3888 <span class=\"token assign-left variable\">server.3</span><span class=\"token operator\">=</span>zoo3:2690:3888</pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>  zoo2:</pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    image: zookeeper:3.5</pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    restart: always</pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    container_name: zoo2</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    ports:</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>      - <span class=\"token string\">\"2183:2181\"</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    environment:</pre></td></tr><tr><td data-num=\"20\"></td><td><pre>      ZOO_MY_ID: <span class=\"token number\">2</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>      ZOO_SERVERS: <span class=\"token assign-left variable\">server.1</span><span class=\"token operator\">=</span>zoo1:2688:3888 <span class=\"token assign-left variable\">server.2</span><span class=\"token operator\">=</span><span class=\"token number\">0.0</span>.0.0:2689:3888 <span class=\"token assign-left variable\">server.3</span><span class=\"token operator\">=</span>zoo3:2690:3888</pre></td></tr><tr><td data-num=\"22\"></td><td><pre></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>  zoo3:</pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    image: zookeeper:3.5</pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    restart: always</pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    container_name: zoo3</pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    ports:</pre></td></tr><tr><td data-num=\"28\"></td><td><pre>      - <span class=\"token string\">\"2184:2181\"</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    environment:</pre></td></tr><tr><td data-num=\"30\"></td><td><pre>      ZOO_MY_ID: <span class=\"token number\">3</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>      ZOO_SERVERS: <span class=\"token assign-left variable\">server.1</span><span class=\"token operator\">=</span>zoo1:2688:3888 <span class=\"token assign-left variable\">server.2</span><span class=\"token operator\">=</span>zoo2:2689:3888 <span class=\"token assign-left variable\">server.3</span><span class=\"token operator\">=</span><span class=\"token number\">0.0</span>.0.0:2690:3888</pre></td></tr></table></figure><p><strong>2ã€åˆ›å»ºé•œåƒ</strong></p>\n<ul>\n<li>è¦åœ¨åˆ›å»ºçš„ docker-compose.yml æ–‡ä»¶ä¸­ä½¿ç”¨å‘½ä»¤</li>\n</ul>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">docker-compose</span> up <span class=\"token parameter variable\">-d</span></pre></td></tr></table></figure><p><strong>3ã€è¿›å…¥å®¹å™¨</strong></p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">docker</span> <span class=\"token builtin class-name\">exec</span> <span class=\"token parameter variable\">-it</span> zoo1 /bin/bash</pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">### æŸ¥çœ‹ zoo1 çš„çŠ¶æ€</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token builtin class-name\">cd</span> bin</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>./zkServer.sh status</pre></td></tr></table></figure><ul>\n<li>å¦‚æœå‡ºç°ï¼Œä»¥ä¸‹æƒ…å†µï¼š</li>\n</ul>\n<pre><code>ZooKeeper JMX enabled by default\nUsing config: /conf/zoo.cfg\nClient port not found in static config file. Looking in dynamic config file.\ngrep: : No such file or directory\nClient port not found in the server configs\nClient port not found. Looking for secureClientPort in the static config.\nUnable to find either secure or unsecure client port in any configs. Terminating.\n</code></pre>\n<p>â€‹\té€šè¿‡é˜…è¯»æˆ‘ä»¬çŸ¥é“ä»–åœ¨ conf ä¸­çš„ zoo.cfg æ–‡ä»¶ä¸­ç¼ºå°‘ **clientPort ** æˆ‘ä»¬åªéœ€è¦è‡ªè¡Œæ·»åŠ å³å¯</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">### ä¿®æ”¹ä¹‹å‰æˆ‘ä»¬å…ˆè£…ä¸€ä¸‹ vim</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">apt-get</span> update</pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token function\">apt-get</span> <span class=\"token function\">install</span> <span class=\"token parameter variable\">-y</span> <span class=\"token function\">vim</span> </pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token comment\">### ä¿®æ”¹ zoo.fcg æ–‡ä»¶</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token function\">vim</span> /conf/zoo.fcg</pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token assign-left variable\">clientPort</span><span class=\"token operator\">=</span><span class=\"token number\">2181</span></pre></td></tr></table></figure><ul>\n<li>\n<p>å®Œäº‹ä¹‹å<strong>é‡å¯</strong> zoo1</p>\n<p><img data-src=\"/2022/10/15/Zookeeper-tool/1645780920291.png\" class=\"\" width=\"1645780920291\"></p>\n<p>æˆåŠŸï¼ï¼</p>\n</li>\n</ul>\n<h6 id=\"4-æŸ¥çœ‹æ‰€æœ‰zookeeperçš„çŠ¶æ€\"><a class=\"anchor\" href=\"#4-æŸ¥çœ‹æ‰€æœ‰zookeeperçš„çŠ¶æ€\">#</a> 4ã€æŸ¥çœ‹æ‰€æœ‰ zookeeper çš„çŠ¶æ€</h6>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">docker</span> <span class=\"token builtin class-name\">exec</span> <span class=\"token parameter variable\">-it</span> zoo3 <span class=\"token function\">bash</span> ./bin/zkServer.sh status</pre></td></tr></table></figure><h6 id=\"5-è¿›å»å®¢æˆ·ç«¯\"><a class=\"anchor\" href=\"#5-è¿›å»å®¢æˆ·ç«¯\">#</a> 5ã€è¿›å»å®¢æˆ·ç«¯</h6>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">docker</span> <span class=\"token builtin class-name\">exec</span> <span class=\"token parameter variable\">-it</span> zoo3 zkCli.sh</pre></td></tr></table></figure>",
            "tags": []
        },
        {
            "id": "http://example.com/2022/10/15/XShell-tool/",
            "url": "http://example.com/2022/10/15/XShell-tool/",
            "title": "XShell",
            "date_published": "2022-10-15T04:52:38.220Z",
            "content_html": "<h2 id=\"å®‰è£…\"><a class=\"anchor\" href=\"#å®‰è£…\">#</a> å®‰è£…</h2>\n<h2 id=\"é…è‰²\"><a class=\"anchor\" href=\"#é…è‰²\">#</a> é…è‰²</h2>\n<blockquote>\n<p>æ‰€æœ‰èµ„æºéƒ½åœ¨ç½‘ç›˜å’Œä»“åº“é‡Œé¢</p>\n</blockquote>\n<h4 id=\"zk1\"><a class=\"anchor\" href=\"#zk1\">#</a> zk1</h4>\n<p><img data-src=\"/2022/10/15/XShell-tool/image-20220801173236598.png\" class=\"\"></p>\n<h4 id=\"solarized-dark\"><a class=\"anchor\" href=\"#solarized-dark\">#</a> Solarized Dark</h4>\n<p><img data-src=\"/2022/10/15/XShell-tool/image-20220801173040826.png\" class=\"\"></p>\n<h4 id=\"solarizeddarkmodify\"><a class=\"anchor\" href=\"#solarizeddarkmodify\">#</a> SolarizedDarkModify</h4>\n<p><img data-src=\"/2022/10/15/XShell-tool/image-20220801173129171.png\" class=\"\"></p>\n<h4 id=\"isayme\"><a class=\"anchor\" href=\"#isayme\">#</a> isayme</h4>\n<p><img data-src=\"/2022/10/15/XShell-tool/image-20220801172922893.png\" class=\"\"></p>\n<h4 id=\"ubuntu\"><a class=\"anchor\" href=\"#ubuntu\">#</a> ubuntu</h4>\n<p><img data-src=\"/2022/10/15/XShell-tool/image-20220801173207482.png\" class=\"\"></p>\n",
            "tags": []
        },
        {
            "id": "http://example.com/2022/10/15/Tomcat-tool/",
            "url": "http://example.com/2022/10/15/Tomcat-tool/",
            "title": "Tomcat",
            "date_published": "2022-10-15T04:52:38.217Z",
            "content_html": "<h3 id=\"tomcatå®‰è£…\"><a class=\"anchor\" href=\"#tomcatå®‰è£…\">#</a> Tomcat å®‰è£…</h3>\n<p>ä¸‹è½½</p>\n<p>ä¸‹è½½åœ°å€ï¼š<span class=\"exturl\" data-url=\"aHR0cDovL3RvbWNhdC5hcGFjaGUub3JnLw==\">http://tomcat.apache.org/</span></p>\n<p><img data-src=\"/2022/10/15/Tomcat-tool/1646193444708.png\" class=\"\"></p>\n<h4 id=\"å®‰è£…\"><a class=\"anchor\" href=\"#å®‰è£…\">#</a> å®‰è£…</h4>\n<p>tomcat ç”± apache å¼€æºç»„ç»‡ä½¿ç”¨ java å¼€å‘çš„ä¸€æ¬¾ web å®¹å™¨ï¼Œåœ¨ä½¿ç”¨ä¹‹å‰éœ€è¦å®‰è£… JDK åŠé…ç½® JAVA_HOME.Tomcat æ˜¯ç»¿è‰²è½¯è§£ï¼Œ<strong>è§£å‹å°±å¯ä½¿ç”¨</strong>ã€‚å¦‚æœä¹‹å‰å·²ç»å®‰è£…äº†å…¶ä»– tomcat å¹¶ä¸”è¿˜é…ç½®äº† CATALINA_HOME ä¸è¦å¿˜è®°ä¿®æ”¹ CATALINA_HOME æŒ‡å‘æˆ‘ä»¬ç°åœ¨ä½¿ç”¨çš„è¿™ä¸ª tomcat</p>\n<h4 id=\"tomcatå¯åŠ¨\"><a class=\"anchor\" href=\"#tomcatå¯åŠ¨\">#</a> Tomcat å¯åŠ¨</h4>\n<p>è¿è¡Œ startup.bat æ–‡ä»¶ã€‚</p>\n<p>ä¸€å®šè¦é…ç½® JAVA_HOME   C:\\Program Files\\Java\\jdk1.8.0_161<br />\n éƒ¨åˆ†ç”µè„‘éœ€è¦é…ç½® CATALINA_HOME   D:/<em><strong>/</strong></em>/apache-tomcat-9.0.41<br />\n è®°ä½ä¸€ä¸ªä¹ æƒ¯ï¼šä»¥åæˆ‘ä»¬è£…ä»»ä½•ä¸€ä¸ªè½¯ä»¶è·¯å¾„éƒ½åº”è¯¥é¿å…ä¸­æ–‡ï¼Œç©ºæ ¼å’Œç‰¹æ®Šç¬¦å·ï¼Œå¯ä»¥ä½¿ç”¨_</p>\n<h4 id=\"tomcatå…³é—­\"><a class=\"anchor\" href=\"#tomcatå…³é—­\">#</a> Tomcat å…³é—­</h4>\n<p>è¿è¡Œ shutdown.bat æ–‡ä»¶æˆ–è€…ç›´æ¥å…³é—­æ‰å¯åŠ¨çª—å£ã€‚</p>\n<h4 id=\"è®¿é—®tomcat\"><a class=\"anchor\" href=\"#è®¿é—®tomcat\">#</a> è®¿é—® Tomcat</h4>\n<p>è®¿é—® Tomcat çš„ URL æ ¼å¼ï¼š<span class=\"exturl\" data-url=\"aHR0cDovL2lw\">http://ip</span>:port</p>\n<p>è®¿é—®æœ¬æœº Tomcat çš„ URL æ ¼å¼ï¼š<span class=\"exturl\" data-url=\"aHR0cDovL2xvY2FsaG9zdDo4MDgw\">http://localhost:8080</span></p>\n<h3 id=\"tomcatå®‰è£…-2\"><a class=\"anchor\" href=\"#tomcatå®‰è£…-2\">#</a> Tomcat å®‰è£…</h3>\n<h4 id=\"1\"><a class=\"anchor\" href=\"#1\">#</a> â€”â€”1</h4>\n<h5 id=\"1-ä¸‹è½½linuxå¯¹åº”ç‰ˆæœ¬çš„tomcat\"><a class=\"anchor\" href=\"#1-ä¸‹è½½linuxå¯¹åº”ç‰ˆæœ¬çš„tomcat\">#</a> 1ã€ä¸‹è½½ Linux å¯¹åº”ç‰ˆæœ¬çš„ Tomcat</h5>\n<p>â€‹\t  ä¸‹è½½å‹ç¼©æ–‡ä»¶     apache-tomcat-7.0.68.tar.gz</p>\n<h5 id=\"2-è§£å‹å‹ç¼©æ–‡ä»¶\"><a class=\"anchor\" href=\"#2-è§£å‹å‹ç¼©æ–‡ä»¶\">#</a> 2ã€è§£å‹å‹ç¼©æ–‡ä»¶</h5>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">#tar -xvf   apache-tomcat-7.0.68.tar.gz -C /usr/local/  #è§£å‹åˆ°çš„è·¯å¾„</span></pre></td></tr></table></figure><h5 id=\"3-é…ç½®ç¯å¢ƒå˜é‡\"><a class=\"anchor\" href=\"#3-é…ç½®ç¯å¢ƒå˜é‡\">#</a> 3ã€é…ç½®ç¯å¢ƒå˜é‡</h5>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">vim</span>  /etc/profile</pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">### è‡ªå·±å®šä¹‰ä¸ºä½ç½®</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">CATALINA_BASE</span><span class=\"token operator\">=</span>/usr/local/apache-tomcat-7.0.68</pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\"><span class=\"token environment constant\">PATH</span></span><span class=\"token operator\">=</span><span class=\"token variable\">$CATALINA_BASE</span>/bin:<span class=\"token environment constant\">$PATH</span></pre></td></tr></table></figure><h5 id=\"4-ä½¿ç”¨ç¯å¢ƒå˜é‡ç”Ÿæ•ˆ\"><a class=\"anchor\" href=\"#4-ä½¿ç”¨ç¯å¢ƒå˜é‡ç”Ÿæ•ˆ\">#</a> 4ã€ä½¿ç”¨ç¯å¢ƒå˜é‡ç”Ÿæ•ˆ</h5>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token builtin class-name\">source</span> /etc/profile</pre></td></tr></table></figure><h5 id=\"5-å¯åŠ¨tomcatæœåŠ¡\"><a class=\"anchor\" href=\"#5-å¯åŠ¨tomcatæœåŠ¡\">#</a> 5ã€å¯åŠ¨ Tomcat æœåŠ¡</h5>\n<ul>\n<li>æ³¨ï¼šè¦æ˜¯è¿œç¨‹è®¿é—®ä½ å…³æ³¨é˜²ç«å¢™é—®é¢˜</li>\n</ul>\n<p>å¯åŠ¨ Tomcat æœåŠ¡ï¼š</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>./startup.sh</pre></td></tr></table></figure><p>å¯åŠ¨ Tomcat å¹¶è¾“å‡ºå¯åŠ¨æ—¥å¿— :</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>./startup.sh <span class=\"token operator\">&amp;</span> <span class=\"token function\">tail</span> <span class=\"token parameter variable\">-f</span>  <span class=\"token punctuation\">..</span>/logs/catalina.out</pre></td></tr></table></figure>",
            "tags": []
        },
        {
            "id": "http://example.com/2022/10/15/Solr-tool/",
            "url": "http://example.com/2022/10/15/Solr-tool/",
            "title": "Solr",
            "date_published": "2022-10-15T04:52:38.211Z",
            "content_html": "<h3 id=\"solrå®‰è£…\"><a class=\"anchor\" href=\"#solrå®‰è£…\">#</a> Solr å®‰è£…</h3>\n<h4 id=\"1\"><a class=\"anchor\" href=\"#1\">#</a> â€”â€”1</h4>\n<p>â€‹\tSolr æ˜¯ä½¿ç”¨ Java ç¼–å†™ï¼Œæ‰€ä»¥å¿…é€‰å…ˆå®‰è£… JDKã€‚</p>\n<h5 id=\"1ä¸Šä¼ å¹¶è§£å‹\"><a class=\"anchor\" href=\"#1ä¸Šä¼ å¹¶è§£å‹\">#</a> 1. ä¸Šä¼ å¹¶è§£å‹</h5>\n<p>â€‹\tä¸Šä¼ å‹ç¼©åŒ… solr-7.7.2.tgz åˆ° /usr/local/tmp ä¸­ã€‚</p>\n<p>â€‹\tè§£å‹</p>\n<pre><code> cd /usr/local/tmp\n tar zxf solr-7.7.2.tgz -C /usr/local/tmp\n</code></pre>\n<h5 id=\"2å¤åˆ¶åˆ°usrlocalä¸­\"><a class=\"anchor\" href=\"#2å¤åˆ¶åˆ°usrlocalä¸­\">#</a> 2. å¤åˆ¶åˆ° /usr/local ä¸­</h5>\n<pre><code> cp -r solr-7.7.2 ../solr\n</code></pre>\n<h5 id=\"3ä¿®æ”¹å¯åŠ¨å‚æ•°\"><a class=\"anchor\" href=\"#3ä¿®æ”¹å¯åŠ¨å‚æ•°\">#</a> 3. ä¿®æ”¹å¯åŠ¨å‚æ•°</h5>\n<p>â€‹\tä¿®æ”¹å¯åŠ¨å‚æ•°ï¼Œå¦åˆ™å¯åŠ¨æ—¶æŠ¥è­¦å‘Šã€‚æç¤ºè®¾ç½® SOLR_ULIMIT_CHECKS=false</p>\n<pre><code> cd /usr/local/solr/bin\n vim solr.in.sh\n</code></pre>\n<p><img data-src=\"/2022/10/15/Solr-tool/solr-02.jpg\" class=\"\"></p>\n<h5 id=\"4å¯åŠ¨solr\"><a class=\"anchor\" href=\"#4å¯åŠ¨solr\">#</a> 4. å¯åŠ¨ Solr</h5>\n<p>â€‹\tSolr å†…åµŒ Jettyï¼Œç›´æ¥å¯åŠ¨å³å¯ã€‚ç›‘å¬ 8983 ç«¯å£ã€‚</p>\n<p>â€‹\tsolr é»˜è®¤ä¸æ¨è root è´¦æˆ·å¯åŠ¨ï¼Œå¦‚æœæ˜¯ root è´¦æˆ·å¯åŠ¨éœ€è¦æ·»åŠ  - force å‚æ•°ã€‚</p>\n<pre><code>### ./solr start -force\n</code></pre>\n<h5 id=\"5-å¯è§†åŒ–ç®¡ç†ç•Œé¢\"><a class=\"anchor\" href=\"#5-å¯è§†åŒ–ç®¡ç†ç•Œé¢\">#</a> 5ã€å¯è§†åŒ–ç®¡ç†ç•Œé¢</h5>\n<p>â€‹\tåœ¨å…³é—­é˜²ç«å¢™çš„å‰æä¸‹ï¼Œå¯ä»¥åœ¨ windows çš„æµè§ˆå™¨ä¸­è®¿é—® Solrã€‚</p>\n<p>â€‹\tè¾“å…¥: <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguOTMuMTA6ODk4Mw==\">http://192.168.93.10:8983</span> å°±å¯ä»¥è®¿é—® Solr çš„å¯è§†åŒ–ç®¡ç†ç•Œé¢ã€‚</p>\n<p>â€‹\tå·¦ä¾§æœ‰ 5 ä¸ªèœå•ã€‚åˆ†åˆ«æ˜¯ï¼š</p>\n<p>â€‹\tï¼ˆ1ï¼‰Dashboardï¼šé¢æ¿æ˜¾ç¤º Solr çš„æ€»ä½“ä¿¡æ¯ã€‚</p>\n<p>â€‹\tï¼ˆ2ï¼‰Loggingï¼šæ—¥å¿—</p>\n<p>â€‹\tï¼ˆ3ï¼‰Core Adminï¼šSolr çš„æ ¸å¿ƒã€‚ç±»ä¼¼äºæ•°æ®çš„ Database</p>\n<p>â€‹\tï¼ˆ4ï¼‰Java Perpertiesï¼šæ‰€æœ‰ Java ç›¸å…³å±æ€§ã€‚</p>\n<p>â€‹\tï¼ˆ5ï¼‰Thread Dumpï¼šçº¿ç¨‹ç›¸å…³ä¿¡æ¯ã€‚</p>\n<p>â€‹\tï¼ˆ6ï¼‰å¦‚æœæœ‰ Coreï¼Œå°†æ˜¾ç¤ºåœ¨æ­¤å¤„ã€‚</p>\n<p><img data-src=\"/2022/10/15/Solr-tool/solr-03.JPG\" class=\"\"></p>\n<h5 id=\"6-æ–°å»ºæ ¸å¿ƒ\"><a class=\"anchor\" href=\"#6-æ–°å»ºæ ¸å¿ƒ\">#</a> 6ã€æ–°å»ºæ ¸å¿ƒ</h5>\n<p>â€‹\tSolr å®‰è£…å®Œæˆåé»˜è®¤æ˜¯æ²¡æœ‰æ ¸å¿ƒçš„ã€‚éœ€è¦æ‰‹åŠ¨é…ç½®ã€‚</p>\n<p>â€‹\téœ€è¦åœ¨ solr/server/solr ä¸‹æ–°å»ºæ–‡ä»¶å¤¹ï¼Œå¹¶ç»™å®šé…ç½®æ–‡ä»¶ï¼Œå¦åˆ™æ— æ³•å»ºç«‹ã€‚</p>\n<p><img data-src=\"/2022/10/15/Solr-tool/solr-04.JPG\" class=\"\"></p>\n<h6 id=\"61æ–°å»ºç›®å½•\"><a class=\"anchor\" href=\"#61æ–°å»ºç›®å½•\">#</a> 6.1. æ–°å»ºç›®å½•</h6>\n<p>â€‹\tåœ¨ /usr/local/solr/server/solr ä¸­æ–°å»ºè‡ªå®šä¹‰åç§°ç›®å½•ã€‚æ­¤å¤„ç¤ºä¾‹åç§°ä¸º testcoreã€‚</p>\n<pre><code> cd /usr/local/solr/server/solr\n mkdir testcore\n</code></pre>\n<h6 id=\"62å¤åˆ¶é…ç½®æ–‡ä»¶\"><a class=\"anchor\" href=\"#62å¤åˆ¶é…ç½®æ–‡ä»¶\">#</a> 6.2. å¤åˆ¶é…ç½®æ–‡ä»¶</h6>\n<p>â€‹\tåœ¨ configsets é‡Œé¢åŒ…å«äº†_default å’Œ sample_techproducts_configsã€‚é‡Œé¢éƒ½æ˜¯é…ç½®æ–‡ä»¶ç¤ºä¾‹ã€‚_default å±äºé»˜è®¤é…ç½®ï¼Œè¾ƒçº¯å‡€ã€‚sample_techproducts_configs æ˜¯å¸¦æœ‰äº†ä¸€äº›é…ç½®ç¤ºä¾‹ã€‚</p>\n<pre><code>### cp -r configsets/_default/conf/ testcore/\n</code></pre>\n<h6 id=\"63å¡«å†™coreä¿¡æ¯\"><a class=\"anchor\" href=\"#63å¡«å†™coreä¿¡æ¯\">#</a> 6.3. å¡«å†™ Core ä¿¡æ¯</h6>\n<p>â€‹\tåœ¨å¯è§†åŒ–ç®¡ç†ç•Œé¢ä¸­ Core Admin ä¸­ç¼–å†™ä¿¡æ¯åç‚¹å‡» Add Core åï¼ŒçŸ­æš‚å»¶è¿Ÿå testcore å°±ä¼šåˆ›å»ºæˆåŠŸã€‚schema å¤„ä¸ç”¨æ›´æ”¹ã€‚</p>\n<p><img data-src=\"/2022/10/15/Solr-tool/solr-05.JPG\" class=\"\"></p>\n<h6 id=\"64å‡ºç°testcore\"><a class=\"anchor\" href=\"#64å‡ºç°testcore\">#</a> 6.4. å‡ºç° testcore</h6>\n<p>â€‹\tåœ¨å®¢æˆ·ç«¯ç®¡ç†ç•Œé¢ä¸­ï¼Œé€‰æ‹©æ–°å»ºçš„ Core åï¼Œå°±å¯ä»¥æŒ‰ç…§è‡ªå·±é¡¹ç›®çš„éœ€æ±‚è¿›è¡Œæ“ä½œäº†ã€‚</p>\n<p><img data-src=\"/2022/10/15/Solr-tool/solr-06.jpg\" class=\"\"></p>\n<h5 id=\"7-åˆ†è¯analysis\"><a class=\"anchor\" href=\"#7-åˆ†è¯analysis\">#</a> 7ã€åˆ†è¯ Analysis</h5>\n<p>â€‹\tåœ¨ Solr å¯è§†åŒ–ç®¡ç†ç•Œé¢ä¸­ï¼ŒCore çš„ç®¡ç†èœå•é¡¹ä¸­éƒ½ä¼šæœ‰ Analysisã€‚è¡¨ç¤ºæ ¹æ® Scheme.xml (managed-schema) ä¸­é…ç½®è¦æ±‚è¿›è¡Œè§£æã€‚</p>\n<p>â€‹\tå¯¹è‹±æ–‡è§£æå°±æ¯”è¾ƒç®€å•äº†ï¼Œåªè¦æŒ‰ç…§ç©ºæ ¼æŠŠè‹±æ–‡è¯­å¥æ‹†åˆ†æˆè‹±æ–‡å•è¯å³å¯ã€‚</p>\n<p><img data-src=\"/2022/10/15/Solr-tool/solr-07.jpg\" class=\"\"></p>\n<p>â€‹\tä½†æ˜¯å¦‚æœæ¡ä»¶æ˜¯ä¸­æ–‡æ—¶ï¼ŒæŠŠä¸€å¥è¯æŒ‰ç…§å­—è¿›è¡Œæ‹†åˆ†å°±ä¸æ˜¯å¾ˆåˆç†äº†ã€‚æ­£ç¡®çš„æ–¹å¼æ˜¯æŒ‰ç…§åˆç†çš„è¯ç»„è¿›è¡Œæ‹†åˆ†ã€‚<img data-src=\"/2022/10/15/Solr-tool/solr-08.jpg\" class=\"\"></p>\n<h6 id=\"71é…ç½®æ­¥éª¤\"><a class=\"anchor\" href=\"#71é…ç½®æ­¥éª¤\">#</a> 7.1. é…ç½®æ­¥éª¤</h6>\n<p>â€‹\tä¸Šä¼  ik-analyzer.jar åˆ° webapps ä¸­ã€‚</p>\n<p>â€‹\tå» https://search.maven.org/search?q=com.github.magese ä¸‹è½½å¯¹åº”ç‰ˆæœ¬çš„ ik-analyzerã€‚å¯ä»¥åœ¨èµ„æ–™ä¸­ç›´æ¥è·å–ã€‚</p>\n<h6 id=\"711ä¸Šä¼ jaråˆ°æŒ‡å®šç›®å½•\"><a class=\"anchor\" href=\"#711ä¸Šä¼ jaråˆ°æŒ‡å®šç›®å½•\">#</a> 7.1.1 ä¸Šä¼  jar åˆ°æŒ‡å®šç›®å½•</h6>\n<p>â€‹\tä¸Šä¼  ik-analyzer-7.7.0.jar åˆ°</p>\n<p>â€‹\t/usr/local/solr/server/solr-webapp/webapp/WEB-INF/lib ç›®å½•ä¸­</p>\n<h6 id=\"712ä¿®æ”¹é…ç½®æ–‡ä»¶\"><a class=\"anchor\" href=\"#712ä¿®æ”¹é…ç½®æ–‡ä»¶\">#</a> 7.1.2 ä¿®æ”¹é…ç½®æ–‡ä»¶</h6>\n<p>â€‹\tä¿®æ”¹ /usr/local/solr/server/solr/testcore/conf/managed-schema</p>\n<pre><code>### vim /usr/local/solr/server/solr/testcore/conf/managed-schema\n</code></pre>\n<p>â€‹\tæ·»åŠ ä¸‹é¢å†…å®¹ã€‚</p>\n<p>â€‹\tæ’ç‰ˆï¼šEsc é€€å‡ºç¼–è¾‘çŠ¶æ€ä¸‹ï¼šgg=G</p>\n<pre><code>&lt;field name=&quot;myfield&quot; type=&quot;text_ik&quot; indexed=&quot;true&quot; stored=&quot;true&quot; /&gt;\n    &lt;fieldType name=&quot;text_ik&quot; class=&quot;solr.TextField&quot;&gt;\n            &lt;analyzer type=&quot;index&quot;&gt;\n                    &lt;tokenizer class=&quot;org.wltea.analyzer.lucene.IKTokenizerFactory&quot; useSmart=&quot;false&quot; conf=&quot;ik.conf&quot;/&gt;\n                    &lt;filter class=&quot;solr.LowerCaseFilterFactory&quot;/&gt;\n            &lt;/analyzer&gt;\n            &lt;analyzer type=&quot;query&quot;&gt;\n                    &lt;tokenizer class=&quot;org.wltea.analyzer.lucene.IKTokenizerFactory&quot; useSmart=&quot;true&quot; conf=&quot;ik.conf&quot;/&gt;\n                    &lt;filter class=&quot;solr.LowerCaseFilterFactory&quot;/&gt;\n            &lt;/analyzer&gt;\n    &lt;/fieldType&gt;\n</code></pre>\n<h6 id=\"713é‡å¯\"><a class=\"anchor\" href=\"#713é‡å¯\">#</a> 7.1.3 é‡å¯</h6>\n<pre><code>### cd /usr/local/solr/bin\n### ./solr stop -all\n### ./solr start -force\n</code></pre>\n<h6 id=\"714éªŒè¯\"><a class=\"anchor\" href=\"#714éªŒè¯\">#</a> 7.1.4 éªŒè¯</h6>\n<p>â€‹\tå¯ä»¥åœ¨å¯è§†åŒ–ç®¡ç†ç•Œé¢ä¸­æ‰¾åˆ° myfield å±æ€§è¿›è¡ŒéªŒè¯ã€‚</p>\n<p><img data-src=\"/2022/10/15/Solr-tool/solr-09.jpg\" class=\"\"></p>\n<h6 id=\"72managed-schemaé…ç½®è¯´æ˜\"><a class=\"anchor\" href=\"#72managed-schemaé…ç½®è¯´æ˜\">#</a> 7.2.managed-schema é…ç½®è¯´æ˜</h6>\n<h6 id=\"721-fieldtype\"><a class=\"anchor\" href=\"#721-fieldtype\">#</a> 7.2.1&lt; fieldType/&gt;</h6>\n<p>â€‹\tè¡¨ç¤ºå®šä¹‰ä¸€ä¸ªå±æ€§ç±»å‹ã€‚åœ¨ Solr ä¸­å±æ€§ç±»å‹éƒ½æ˜¯è‡ªå®šä¹‰çš„ã€‚åœ¨ä¸Šé¢é…ç½®ä¸­ name=â€text_ikâ€ ä¸ºè‡ªå®šä¹‰ç±»å‹ã€‚å½“æŸä¸ªå±æ€§å–å€¼ä¸º text_ik æ—¶ IK Analyzer æ‰èƒ½ç”Ÿæ•ˆã€‚</p>\n<h6 id=\"722-field\"><a class=\"anchor\" href=\"#722-field\">#</a> 7.2.2&lt; field/&gt;</h6>\n<p>â€‹\tè¡¨ç¤ºå‘ Document ä¸­æ·»åŠ ä¸€ä¸ªå±æ€§ã€‚</p>\n<p>â€‹\tå¸¸ç”¨å±æ€§ï¼š</p>\n<p>â€‹\t\tname: å±æ€§å</p>\n<p>â€‹\t\ttype: å±æ€§ç±»å‹ã€‚æ‰€æœ‰ç±»å‹éƒ½æ˜¯ solr ä½¿ç”¨ &lt;fieldType&gt; é…ç½®çš„</p>\n<p>â€‹\t\tindexed: æ˜¯å¦å»ºç«‹ç´¢å¼•</p>\n<p>â€‹\t\tstored: solr æ˜¯å¦æŠŠè¯¥å±æ€§å€¼å“åº”ç»™æœç´¢ç”¨æˆ·ã€‚</p>\n<p>â€‹\t\trequiredï¼šè¯¥å±æ€§æ˜¯å¦æ˜¯å¿…é¡»çš„ã€‚é»˜è®¤ id æ˜¯å¿…é¡»çš„ã€‚</p>\n<p>â€‹\t\tmultiValuedï¼šå¦‚æœä¸º trueï¼Œè¡¨ç¤ºè¯¥å±æ€§ä¸ºå¤åˆå±æ€§ï¼Œæ­¤å±æ€§ä¸­åŒ…å«äº†å¤šä¸ªå…¶ä»–çš„å±æ€§ã€‚å¸¸ç”¨åœ¨å¤šä¸ªåˆ—ä½œä¸ºæœç´¢æ¡ä»¶æ—¶ï¼ŒæŠŠè¿™äº›åˆ—å®šä¹‰å®šä¹‰æˆä¸€ä¸ªæ–°çš„å¤åˆå±æ€§ï¼Œé€šè¿‡æœç´¢ä¸€ä¸ªå¤åˆå±æ€§å°±å¯ä»¥å®ç°æœç´¢å¤šä¸ªåˆ—ã€‚å½“è®¾ç½®ä¸º true æ—¶ä¸ &lt;copyField source=&quot;&quot;dest=&quot;&quot;/&gt; ç»“åˆä½¿ç”¨</p>\n<h6 id=\"723-uniquekey\"><a class=\"anchor\" href=\"#723-uniquekey\">#</a> 7.2.3&lt; uniqueKey&gt;</h6>\n<p>â€‹\tå”¯ä¸€ä¸»é”®ï¼ŒSolr ä¸­é»˜è®¤å®šä¹‰ id å±æ€§ä¸ºå”¯ä¸€ä¸»é”®ã€‚ID çš„å€¼æ˜¯ä¸å…è®¸é‡å¤çš„ã€‚</p>\n<h6 id=\"724-dynamicfield\"><a class=\"anchor\" href=\"#724-dynamicfield\">#</a> 7.2.4&lt; dynamicField&gt;</h6>\n<p>â€‹\tåç§°ä¸­å…è®¸ * è¿›è¡Œé€šé…ã€‚ä»£è¡¨æ»¡è¶³ç‰¹å®šåç§°è¦æ±‚çš„ä¸€ç»„å±æ€§ã€‚</p>\n<pre><code>msb_java    \n</code></pre>\n<p>â€‹\tmsb_bigdata</p>\n<p>â€‹\tmsb_UI</p>\n<p>â€‹        msb_*</p>\n<h5 id=\"8-dataimport\"><a class=\"anchor\" href=\"#8-dataimport\">#</a> 8ã€Dataimport</h5>\n<p>â€‹\tå¯ä»¥ä½¿ç”¨ Solr è‡ªå¸¦çš„ Dataimport åŠŸèƒ½æŠŠæ•°æ®åº“ä¸­æ•°æ®å¿«é€Ÿå¯¼å…¥åˆ° solr ä¸­.</p>\n<p>â€‹\t<strong>å¿…é¡»ä¿è¯ managed-schema å’Œæ•°æ®åº“ä¸­è¡¨çš„åˆ—å¯¹åº”ã€‚ï¼Œæ·»åŠ é…ç½®</strong></p>\n<h6 id=\"81ä¿®æ”¹é…ç½®æ–‡ä»¶\"><a class=\"anchor\" href=\"#81ä¿®æ”¹é…ç½®æ–‡ä»¶\">#</a> 8.1. ä¿®æ”¹é…ç½®æ–‡ä»¶</h6>\n<p>â€‹\tä¿®æ”¹ solrconfig.xmlï¼Œæ·»åŠ ä¸‹é¢å†…å®¹</p>\n<pre><code> &lt;!-- é…ç½®æ•°æ®å¯¼å…¥çš„å¤„ç†å™¨ --&gt;\n  &lt;requestHandler name=&quot;/dataimport&quot; class=&quot;org.apache.solr.handler.dataimport.DataImportHandler&quot;&gt;\n    &lt;lst name=&quot;defaults&quot;&gt;\n\t  &lt;!--  åŠ è½½data-config.xml  --&gt;\n      &lt;str name=&quot;config&quot;&gt;data-config.xml&lt;/str&gt;\n     &lt;/lst&gt;\n  &lt;/requestHandler&gt;\n</code></pre>\n<h6 id=\"82æ–°å»ºdata-configxml\"><a class=\"anchor\" href=\"#82æ–°å»ºdata-configxml\">#</a> 8.2. æ–°å»º data-config.xml</h6>\n<p>â€‹\tå’Œ solrconfig.xml åŒä¸€ç›®å½•ä¸‹æ–°å»º data-config.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;dataConfig&gt;\n        &lt;dataSource type=&quot;JdbcDataSource&quot;   \n                driver=&quot;com.mysql.jdbc.Driver&quot;   \n                url=&quot;jdbc:mysql://192.168.1.135:3306/mytest&quot;   \n                user=&quot;root&quot;   \n                password=&quot;root&quot;/&gt;\n        &lt;document&gt;\n            &lt;entity name=&quot;product&quot; query=&quot;SELECT id,name,price from t_product&quot;&gt;\n                &lt;!-- \n                 å®ç°æ•°æ®åº“çš„åˆ—å’Œç´¢å¼•åº“çš„å­—æ®µçš„æ˜ å°„\n                 column æŒ‡å®šæ•°æ®åº“çš„åˆ—è¡¨\n                 name  æŒ‡å®šç´¢å¼•åº“çš„å­—æ®µåå­—ï¼Œå¿…é¡»å’Œschema.xmlä¸­å®šä¹‰çš„ä¸€æ ·\n                 --&gt;\n                 &lt;field column=&quot;id&quot; name=&quot;id&quot;/&gt;\n                 &lt;field column=&quot;name&quot; name=&quot;name&quot;/&gt;\n\t\t\t\t &lt;field column=&quot;price&quot; name=&quot;price&quot;/&gt;\n            &lt;/entity&gt;\n         &lt;/document&gt;\n&lt;/dataConfig&gt;\n</code></pre>\n<h6 id=\"83æ·»åŠ jar\"><a class=\"anchor\" href=\"#83æ·»åŠ jar\">#</a> 8.3. æ·»åŠ  jar</h6>\n<p>â€‹\tå‘ solr-webapp ä¸­æ·»åŠ <strong>ä¸‰ä¸ª jar</strong>ã€‚åœ¨<strong> dist ä¸­ä¸¤ä¸ªè¿˜æœ‰ä¸€ä¸ªæ•°æ®åº“é©±åŠ¨ã€‚ï¼ˆè‡ªå·±å» maven-repository é‡Œé¢æ‰¾ä¸€ä¸ª mysql-connector-java ï¼‰</strong></p>\n<p><img data-src=\"/2022/10/15/Solr-tool/solr-10.jpg\" class=\"\"></p>\n<h6 id=\"84æ“ä½œ\"><a class=\"anchor\" href=\"#84æ“ä½œ\">#</a> 8.4. æ“ä½œ</h6>\n<p>â€‹\té‡å¯ solr åï¼Œåœ¨å¯è§†åŒ–ç®¡ç†é¡µé¢ä¸­è¿›è¡Œæ•°æ®å¯¼å…¥ã€‚</p>\n<p>â€‹\tæ³¨æ„ï¼š</p>\n<p>â€‹\tç‚¹å‡»å¯¼å…¥æŒ‰é’®åï¼Œè¦è®°å¾—ç‚¹å‡»åˆ·æ–°æŒ‰é’®ã€‚</p>\n",
            "tags": []
        },
        {
            "id": "http://example.com/2022/10/15/redis-tool/",
            "url": "http://example.com/2022/10/15/redis-tool/",
            "title": "redis",
            "date_published": "2022-10-15T04:52:38.205Z",
            "content_html": "<h3 id=\"rediså®‰è£…\"><a class=\"anchor\" href=\"#rediså®‰è£…\">#</a> redis å®‰è£…</h3>\n<h4 id=\"1\"><a class=\"anchor\" href=\"#1\">#</a> â€”â€”1</h4>\n<h5 id=\"1å®‰è£…ä¾èµ–cè¯­è¨€ä¾èµ–\"><a class=\"anchor\" href=\"#1å®‰è£…ä¾èµ–cè¯­è¨€ä¾èµ–\">#</a> 1. å®‰è£…ä¾èµ– C è¯­è¨€ä¾èµ–</h5>\n<p>â€‹\tredis ä½¿ç”¨ C è¯­è¨€ç¼–å†™ï¼Œæ‰€ä»¥éœ€è¦å®‰è£… C è¯­è¨€åº“</p>\n<pre><code> yum install -y gcc-c++ automake autoconf libtool make tcl \n</code></pre>\n<p>â€‹</p>\n<h5 id=\"2ä¸Šä¼ å¹¶è§£å‹\"><a class=\"anchor\" href=\"#2ä¸Šä¼ å¹¶è§£å‹\">#</a> 2. ä¸Šä¼ å¹¶è§£å‹</h5>\n<p>â€‹\tæŠŠ redis-5.0.5.tar.gz ä¸Šä¼ åˆ° /usr/local/tmp ä¸­ï¼Œè§£å‹æ–‡ä»¶</p>\n<pre><code> cd /usr/local/tmp\n\n tar zxf redis-5.0.5.tar.gz\n</code></pre>\n<h5 id=\"3ç¼–è¯‘å¹¶å®‰è£…\"><a class=\"anchor\" href=\"#3ç¼–è¯‘å¹¶å®‰è£…\">#</a> 3. ç¼–è¯‘å¹¶å®‰è£…</h5>\n<p>â€‹\tè¿›å…¥è§£å‹æ–‡ä»¶å¤¹</p>\n<pre><code>  cd /usr/local/tmp/redis-5.0.5/\n</code></pre>\n<p>â€‹\tç¼–è¯‘</p>\n<pre><code> make\n</code></pre>\n<p>â€‹\tå®‰è£…</p>\n<pre><code> make install PREFIX=/usr/local/redis\n</code></pre>\n<h5 id=\"4å¼€å¯å®ˆæŠ¤è¿›ç¨‹\"><a class=\"anchor\" href=\"#4å¼€å¯å®ˆæŠ¤è¿›ç¨‹\">#</a> 4. å¼€å¯å®ˆæŠ¤è¿›ç¨‹</h5>\n<p>â€‹\tå¤åˆ¶ cd /usr/local/tmp/redis-5.0.5 / ä¸­ redis.conf é…ç½®æ–‡ä»¶</p>\n<pre><code> cp redis.conf /usr/local/redis/bin/\n</code></pre>\n<p><strong>ä¿®æ”¹é…ç½®æ–‡ä»¶</strong></p>\n<pre><code> cd /usr/local/redis/bin/\n\n vim redis.conf\n</code></pre>\n<p>â€‹\tæŠŠ daemonize çš„å€¼ç”± no ä¿®æ”¹ä¸º yes</p>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/onlymarryu/typora-ims-test@master/Redis-01.jpg\" alt=\"\" /></p>\n<h5 id=\"5ä¿®æ”¹å¤–éƒ¨è®¿é—®\"><a class=\"anchor\" href=\"#5ä¿®æ”¹å¤–éƒ¨è®¿é—®\">#</a> 5. ä¿®æ”¹å¤–éƒ¨è®¿é—®</h5>\n<p>â€‹\tåœ¨ redis5 ä¸­éœ€è¦ä¿®æ”¹é…ç½®æ–‡ä»¶ redis.conf å…è®¸å¤–éƒ¨è®¿é—®ã€‚éœ€è¦ä¿®æ”¹ä¸¤å¤„ã€‚</p>\n<p>â€‹\tæ³¨é‡Šæ‰ä¸‹é¢</p>\n<p>â€‹\tbind 127.0.0.1</p>\n<pre><code> bind 127.0.0.1\n</code></pre>\n<p>â€‹\tprotected-mode yes æ”¹æˆ no</p>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/onlymarryu/typora-ims-test@master/Redis-02.jpg\" alt=\"\" /></p>\n<h5 id=\"6å¯åŠ¨å¹¶æµ‹è¯•\"><a class=\"anchor\" href=\"#6å¯åŠ¨å¹¶æµ‹è¯•\">#</a> 6. å¯åŠ¨å¹¶æµ‹è¯•</h5>\n<p>â€‹\tå¯åŠ¨ redis</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>./redis-server redis.conf</pre></td></tr></table></figure><p>â€‹\té‡å¯ redis</p>\n<pre><code>./redis-cli shutdown\n./redis-server redis.conf\n</code></pre>\n<p>â€‹\tå¯åŠ¨å®¢æˆ·ç«¯å·¥å…·</p>\n<p>â€‹\tåœ¨ redis5 ä¸­å®¢æˆ·ç«¯å·¥å…·å¯¹å‘½ä»¤ä¼šæœ‰æä¾›åŠŸèƒ½ã€‚</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>./redis-cli</pre></td></tr></table></figure><h4 id=\"2\"><a class=\"anchor\" href=\"#2\">#</a> â€”â€”2</h4>\n<h5 id=\"1-æ‹‰å–é•œåƒæ–‡ä»¶\"><a class=\"anchor\" href=\"#1-æ‹‰å–é•œåƒæ–‡ä»¶\">#</a> 1ã€æ‹‰å–é•œåƒæ–‡ä»¶</h5>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">docker</span> pull redis<span class=\"token punctuation\">[</span>:<span class=\"token punctuation\">(</span>ç‰ˆæœ¬å·<span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span></pre></td></tr></table></figure><h5 id=\"2-å»giteeåº“ä¸­ä¸‹è½½redisé…ç½®æ–‡ä»¶dockerä¸è‡ªå¸¦é…ç½®æ–‡ä»¶ä¹Ÿå¯ä¸è¿›è¡Œæ­¤æ­¥éª¤\"><a class=\"anchor\" href=\"#2-å»giteeåº“ä¸­ä¸‹è½½redisé…ç½®æ–‡ä»¶dockerä¸è‡ªå¸¦é…ç½®æ–‡ä»¶ä¹Ÿå¯ä¸è¿›è¡Œæ­¤æ­¥éª¤\">#</a> 2ã€å» gitee åº“ä¸­ä¸‹è½½ redis é…ç½®æ–‡ä»¶ï¼ˆdocker ä¸è‡ªå¸¦é…ç½®æ–‡ä»¶ï¼‰ã€ä¹Ÿå¯ä¸è¿›è¡Œæ­¤æ­¥éª¤ã€‘</h5>\n<p><strong>å»ºè®®çœ‹å®Œï¼Œå…ˆåˆ«æ“ä½œï¼Œå†çœ‹ä¸‰ï¼Œçœ‹å®Œä¸‰ä¹‹åå†å†³å®šå¦‚ä½•æ“ä½œ</strong></p>\n<p>ç„¶åæŒ‰ç…§æ–‡ç« å†…å®¹è¿›è¡Œï¼Œå¿½ç•¥ä¸‹è½½ã€‚</p>\n<p>æ–‡ç« åœ°å€ï¼š <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuamI1MS5uZXQvYXJ0aWNsZS8yMDMyNzQuaHRt\">https://www.jb51.net/article/203274.htm</span></p>\n<p>ã€</p>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/onlymarryu/typora-ims-test@master/1645177895314.png\" alt=\"1645177895314\" /></p>\n<p><strong>docker é•œåƒä¸­æ²¡æœ‰ redis.conf æ–‡ä»¶ï¼Œè¦è‡ªå·±é…ç½®</strong></p>\n<pre><code class=\"language-undefined\">git pull --rebase https://gitee.com/zjj3366/mydemo.git master\n</code></pre>\n<h5 id=\"3-åˆ›å»ºä¸€ä¸ªredis-æœåŠ¡å®¹å™¨\"><a class=\"anchor\" href=\"#3-åˆ›å»ºä¸€ä¸ªredis-æœåŠ¡å®¹å™¨\">#</a> 3ã€åˆ›å»ºä¸€ä¸ª redis æœåŠ¡å®¹å™¨</h5>\n<p><strong>ç¬¬äºŒæ­¥è¿›è¡Œäº†çš„</strong></p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">docker</span> run <span class=\"token parameter variable\">-p</span> <span class=\"token number\">6379</span>:6379 <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token parameter variable\">--name</span> myredis  <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token parameter variable\">-v</span> /usr/local/docker/redis.conf:/etc/redis/redis.conf   <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token parameter variable\">-v</span> /usr/local/docker/data:/data  <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token parameter variable\">-d</span> redis  <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>redis-server  /etc/redis/redis.conf  <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token parameter variable\">--appendonly</span> <span class=\"token function\">yes</span></pre></td></tr></table></figure><p><strong>ç¬¬äºŒæ­¥æ²¡æœ‰è¿›è¡Œçš„</strong></p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">docker</span> run <span class=\"token parameter variable\">-p</span> <span class=\"token number\">6379</span>:6379  <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token parameter variable\">--name</span> myredis  <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token parameter variable\">-v</span> /root/myredis/data:/data <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token parameter variable\">-v</span> /root/myredis/conf/redis.conf:/etc/redis/redis.conf  <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token parameter variable\">-d</span> redis:4.0  <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>redis-server /etc/redis/redis.conf  <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token parameter variable\">--appendonly</span> <span class=\"token function\">yes</span></pre></td></tr></table></figure><p><strong>åŒºåˆ«ï¼š</strong></p>\n<p>â€‹\tå…¶å®ä¹Ÿæ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œåªæ˜¯æ˜ å°„çš„æ–‡ä»¶ä¸åŒï¼Œä¹Ÿå¯ä»¥å°†ç¬¬äºŒæ­¥çš„æ–‡ä»¶ç›´æ¥åˆ›å»ºåˆ°ç¬¬äºŒç§åˆ›å»ºæœåŠ¡å®¹å™¨çš„é…ç½®æ–‡ä»¶åœ°å€ä¸­å»ï¼Œè¿™æ ·ä¹Ÿå¯ä½¿ç”¨ç¬¬äºŒä¸ªåˆ›å»ºæ–¹å¼ã€‚</p>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/onlymarryu/typora-ims-test@master/1645177877202.png\" alt=\"1645177877202\" /></p>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/onlymarryu/typora-ims-test@master/1645177918077.png\" alt=\"1645177918077\" /></p>\n",
            "tags": []
        },
        {
            "id": "http://example.com/2022/10/15/RabbitMQ-tool/",
            "url": "http://example.com/2022/10/15/RabbitMQ-tool/",
            "title": "RabbitMQ",
            "date_published": "2022-10-15T04:52:38.201Z",
            "content_html": "<h3 id=\"rabbitmqå®‰è£…\"><a class=\"anchor\" href=\"#rabbitmqå®‰è£…\">#</a> RabbitMQ<strong> å®‰è£…</strong></h3>\n<h4 id=\"1-ä¸Šä¼ å¹¶è§£å‹\"><a class=\"anchor\" href=\"#1-ä¸Šä¼ å¹¶è§£å‹\">#</a> 1 <strong>ä¸Šä¼ å¹¶è§£å‹</strong></h4>\n<p>â€‹\tä¸Šä¼  rabbitmq-server-generic-unix-3.7.18.tar.xz åˆ° /usr/loca/tmp ä¸­</p>\n<pre><code>  cd /usr/local/tmp\n  \n  tar xf rabbitmq-server-generic-unix-3.7.18.tar.xz -C /usr/local/tmp\n</code></pre>\n<h4 id=\"2-å¤åˆ¶åˆ°localä¸‹\"><a class=\"anchor\" href=\"#2-å¤åˆ¶åˆ°localä¸‹\">#</a> 2 <strong>å¤åˆ¶åˆ° local ä¸‹</strong></h4>\n<p>â€‹\tå¤åˆ¶è§£å‹æ–‡ä»¶åˆ° /usr/local ä¸‹ï¼Œå‘½åä¸º rabbitmq</p>\n<pre><code>  cp -r rabbitmq_server-3.7.18 /usr/local/rabbitmq\n</code></pre>\n<h4 id=\"3-é…ç½®ç¯å¢ƒå˜é‡\"><a class=\"anchor\" href=\"#3-é…ç½®ç¯å¢ƒå˜é‡\">#</a> 3 <strong>é…ç½®ç¯å¢ƒå˜é‡</strong></h4>\n<pre><code>  vim /etc/profile\n</code></pre>\n<p>â€‹\tåœ¨æ–‡ä»¶ä¸­æ·»åŠ </p>\n<pre><code>export PATH=$PATH:/usr/local/rabbitmq/sbin\n</code></pre>\n<p>â€‹\tè§£ææ–‡ä»¶</p>\n<pre><code> source /etc/profile\n</code></pre>\n<h4 id=\"4-å¼€å¯webç®¡ç†æ’ä»¶\"><a class=\"anchor\" href=\"#4-å¼€å¯webç®¡ç†æ’ä»¶\">#</a> 4 <strong>å¼€å¯ web ç®¡ç†æ’ä»¶</strong></h4>\n<p>â€‹\tè¿›å…¥ rabbitmq/sbin ç›®å½•</p>\n<pre><code> cd /usr/local/rabbitmq/sbin\n</code></pre>\n<pre><code>æŸ¥çœ‹æ’ä»¶åˆ—è¡¨\n</code></pre>\n<pre><code>  ./rabbitmq-plugins list\n</code></pre>\n<pre><code>ç”Ÿæ•ˆç®¡ç†æ’ä»¶\n</code></pre>\n<pre><code>  ./rabbitmq-plugins enable rabbitmq_management\n</code></pre>\n<h4 id=\"5-åå°è¿è¡Œ\"><a class=\"anchor\" href=\"#5-åå°è¿è¡Œ\">#</a> 5 <strong>åå°è¿è¡Œ</strong></h4>\n<p>â€‹\tå¯åŠ¨ rabbitmqã€‚</p>\n<pre><code>  ./rabbitmq-server -detached\n</code></pre>\n<p>â€‹\tåœæ­¢å‘½ä»¤ï¼Œå¦‚æœæ— æ³•åœæ­¢ï¼Œä½¿ç”¨ kill -9 è¿›ç¨‹å·è¿›è¡Œå…³é—­</p>\n<pre><code> ./rabbitmqctl stop_app\n</code></pre>\n<h4 id=\"6-æŸ¥çœ‹webç®¡ç†ç•Œé¢\"><a class=\"anchor\" href=\"#6-æŸ¥çœ‹webç®¡ç†ç•Œé¢\">#</a> 6 <strong>æŸ¥çœ‹ web ç®¡ç†ç•Œé¢</strong></h4>\n<p>â€‹\té»˜è®¤å¯ä»¥åœ¨å®‰è£… rabbitmq çš„ç”µè„‘ä¸Šé€šè¿‡ç”¨æˆ·åï¼šguest å¯†ç  guest è¿›è¡Œè®¿é—® web ç®¡ç†ç•Œé¢</p>\n<p>â€‹\tç«¯å£å·ï¼š15672ï¼ˆæ”¾è¡Œç«¯å£ï¼Œæˆ–å…³é—­é˜²ç«å¢™ï¼‰</p>\n<p>â€‹\tåœ¨è™šæ‹Ÿæœºæµè§ˆå™¨ä¸­è¾“å…¥ï¼š</p>\n<p>â€‹\t<span class=\"exturl\" data-url=\"aHR0cDovL2xvY2FsaG9zdDoxNTY3Mg==\">http://localhost:15672</span></p>\n<h3 id=\"rabbitmqè´¦æˆ·ç®¡ç†\"><a class=\"anchor\" href=\"#rabbitmqè´¦æˆ·ç®¡ç†\">#</a> * RabbitMq è´¦æˆ·ç®¡ç†</h3>\n<h4 id=\"1-åˆ›å»ºè´¦æˆ·\"><a class=\"anchor\" href=\"#1-åˆ›å»ºè´¦æˆ·\">#</a> 1 <strong>åˆ›å»ºè´¦æˆ·</strong></h4>\n<p>â€‹\tè¯­æ³•ï¼š./rabbitmqctl add_user username password</p>\n<pre><code> cd /usr/local/rabbitmq/sbin\n \n ./rabbitmqctl add_user mashibing mashibing\n</code></pre>\n<h4 id=\"2-ç»™ç”¨æˆ·æˆäºˆç®¡ç†å‘˜è§’è‰²\"><a class=\"anchor\" href=\"#2-ç»™ç”¨æˆ·æˆäºˆç®¡ç†å‘˜è§’è‰²\">#</a> 2 <strong>ç»™ç”¨æˆ·æˆäºˆç®¡ç†å‘˜è§’è‰²</strong></h4>\n<p>â€‹\tå…¶ä¸­ smallming ä¸ºæ–°å»ºç”¨æˆ·çš„ç”¨æˆ·å</p>\n<pre><code> ./rabbitmqctl set_user_tags mashibing administrator\n</code></pre>\n<h4 id=\"3-ç»™ç”¨æˆ·æˆæƒ\"><a class=\"anchor\" href=\"#3-ç»™ç”¨æˆ·æˆæƒ\">#</a> 3 <strong>ç»™ç”¨æˆ·æˆæƒ</strong></h4>\n<p>â€‹\tâ€œ/â€ è¡¨ç¤ºè™šæ‹Ÿæœº</p>\n<p>â€‹\tmashibing è¡¨ç¤ºç”¨æˆ·å</p>\n<p>â€‹\t&quot;.<em>&quot; &quot;.</em>&quot;&quot;.*&quot; è¡¨ç¤ºå®Œæ•´æƒé™</p>\n<pre><code> ./rabbitmqctl set_permissions -p &quot;/&quot; mashibing &quot;.*&quot; &quot;.*&quot; &quot;.*&quot;\n</code></pre>\n<h4 id=\"4-ç™»å½•\"><a class=\"anchor\" href=\"#4-ç™»å½•\">#</a> 4 <strong>ç™»å½•</strong></h4>\n<p>â€‹\tä½¿ç”¨æ–°å»ºè´¦æˆ·å’Œå¯†ç åœ¨ windows ä¸­è®¿é—® rabbitmq å¹¶ç™»å½•</p>\n<p>â€‹\tåœ¨æµè§ˆå™¨åœ°å€æ è¾“å…¥ï¼š</p>\n<p>â€‹\t<span class=\"exturl\" data-url=\"aHR0cDovL2lwOjE1NjcyLw==\">http://ip:15672/</span></p>\n<pre><code>ç”¨æˆ·åï¼šmashibing\n</code></pre>\n<p>â€‹\tå¯†ç ï¼šmashibing</p>\n",
            "tags": []
        },
        {
            "id": "http://example.com/2022/10/15/python-tool/",
            "url": "http://example.com/2022/10/15/python-tool/",
            "title": "python",
            "date_published": "2022-10-15T04:52:38.198Z",
            "content_html": "<h3 id=\"pythonå‡çº§\"><a class=\"anchor\" href=\"#pythonå‡çº§\">#</a> Python å‡çº§</h3>\n<h4 id=\"ä¸€-æŸ¥çœ‹å½“å‰pythonç‰ˆæœ¬\"><a class=\"anchor\" href=\"#ä¸€-æŸ¥çœ‹å½“å‰pythonç‰ˆæœ¬\">#</a> ä¸€ã€<strong>æŸ¥çœ‹å½“å‰ python ç‰ˆæœ¬</strong></h4>\n<pre><code>#[root@ansible ~]# python -V\nPython 2.7.5\n</code></pre>\n<h4 id=\"äºŒ-ä¸‹è½½æ–°çš„pythonåŒ…å¹¶å®‰è£…\"><a class=\"anchor\" href=\"#äºŒ-ä¸‹è½½æ–°çš„pythonåŒ…å¹¶å®‰è£…\">#</a> äºŒã€<strong>ä¸‹è½½æ–°çš„ python åŒ…å¹¶å®‰è£…</strong></h4>\n<p>â€‹\tè¿›å…¥ python å®˜ç½‘ï¼ˆ<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cucHl0aG9uLm9yZw==\">https://www.python.org</span>ï¼‰ï¼Œé€‰æ‹©éœ€è¦çš„ç‰ˆæœ¬ã€‚æ­¤å¤„æˆ‘é€‰æ‹©å½“å‰æœ€æ–°ç‰ˆæœ¬ Python3.6.1</p>\n<pre><code>yum install gcc gcc-c++ -y\n\nwget https://www.python.org/ftp/python/3.7.3/Python-3.7.3.tar.xz\n\ntar xvf Python-3.7.3.tar.xz \n\ncd Python-3.7.3/\n\n ./configure\n \nmake\n\nmake install\n</code></pre>\n<h4 id=\"ä¸‰-éªŒè¯\"><a class=\"anchor\" href=\"#ä¸‰-éªŒè¯\">#</a> ä¸‰ã€<strong>éªŒè¯</strong></h4>\n<pre><code>#python -V     #ä¸€ä¸ªæ˜¯æ—§ç‰ˆæœ¬ï¼Œä¸€ä¸ªæ˜¯æ–°ç‰ˆæœ¬\nPython 2.7.5\n### python3 -V\nPython 3.7.3\n</code></pre>\n<h4 id=\"å››-è®¾ç½®3xä¸ºé»˜è®¤ç‰ˆæœ¬\"><a class=\"anchor\" href=\"#å››-è®¾ç½®3xä¸ºé»˜è®¤ç‰ˆæœ¬\">#</a> å››ã€<strong>è®¾ç½® 3.X ä¸ºé»˜è®¤ç‰ˆæœ¬</strong></h4>\n<p>â€‹\tæŸ¥çœ‹ Python çš„è·¯å¾„ï¼Œåœ¨ /usr/bin ä¸‹é¢ã€‚å¯ä»¥çœ‹åˆ° python é“¾æ¥çš„æ˜¯ python 2.7ï¼Œæ‰€ä»¥ï¼Œæ‰§è¡Œ python å°±ç›¸å½“äºæ‰§è¡Œ python 2.7ã€‚</p>\n<pre><code>#[root@ansible ~]# ls -al /usr/bin | grep python\n-rwxr-xr-x.   1 root root       11232 Dec  2  2016 abrt-action-analyze-python\nlrwxrwxrwx.   1 root root           7 May 26  2017 python -&gt; python2\nlrwxrwxrwx.   1 root root           9 May 26  2017 python2 -&gt; python2.7\n-rwxr-xr-x.   1 root root        7136 Nov  6  2016 python2.7\n</code></pre>\n<p>å°†åŸæ¥ python çš„è½¯é“¾æ¥é‡å‘½åï¼š</p>\n<pre><code>  mv /usr/bin/python /usr/bin/python.bak\n</code></pre>\n<p>å°† python é“¾æ¥è‡³ python3ï¼š</p>\n<pre><code>  ln -s /usr/local/bin/python3 /usr/bin/python\n</code></pre>\n<h4 id=\"äº”-é…ç½®yum\"><a class=\"anchor\" href=\"#äº”-é…ç½®yum\">#</a> äº”ã€<strong>é…ç½® yum</strong></h4>\n<p>â€‹\tå‡çº§ Python ä¹‹åï¼Œç”±äºå°†é»˜è®¤çš„ python æŒ‡å‘äº† python3ï¼Œyum ä¸èƒ½æ­£å¸¸ä½¿ç”¨ï¼Œéœ€è¦ç¼–è¾‘ yum çš„é…ç½®æ–‡ä»¶ï¼Œæ­¤æ—¶ï¼š</p>\n<pre><code>#[root@ansible-admin Python-3.7.3]# yum list\n  File &quot;/usr/bin/yum&quot;, line 30\n    except KeyboardInterrupt, e:\n\nSyntaxError: invalid syntax\n</code></pre>\n<p>â€‹\tä¿®æ”¹ /usr/bin/yum å’Œ /usr/libexec/urlgrabber-ext-downï¼Œå°† #!/usr/bin/python æ”¹ä¸º #!/usr/bin/python2.7ï¼Œä¿å­˜é€€å‡ºå³å¯ã€‚</p>\n<blockquote>\n<p>vim /usr/bin/yum</p>\n<p>vim /usr/libexec/urlgrabber-ext-down</p>\n</blockquote>\n",
            "tags": []
        },
        {
            "id": "http://example.com/2022/10/15/OpenSSL-tool/",
            "url": "http://example.com/2022/10/15/OpenSSL-tool/",
            "title": "OpenSSL",
            "date_published": "2022-10-15T04:52:38.193Z",
            "content_html": "<h3 id=\"opensslå®‰è£…æ•™ç¨‹windows\"><a class=\"anchor\" href=\"#opensslå®‰è£…æ•™ç¨‹windows\">#</a> OpenSSL å®‰è£…æ•™ç¨‹ï¼ˆWindowsï¼‰</h3>\n<p>openssl å®˜ç½‘ä¸‹è½½åœ°å€ï¼š<span class=\"exturl\" data-url=\"aHR0cDovL3NscHJvd2ViLmNvbS9wcm9kdWN0cy9XaW4zMk9wZW5TU0wuaHRtbA==\">http://slproweb.com/products/Win32OpenSSL.html</span></p>\n<h4 id=\"å®‰è£…ç¯å¢ƒ\"><a class=\"anchor\" href=\"#å®‰è£…ç¯å¢ƒ\">#</a> å®‰è£…ç¯å¢ƒ:</h4>\n<blockquote>\n<p>windows 10<br />\nWin64 OpenSSL v1.1.1i</p>\n</blockquote>\n<h4 id=\"ä¸€ä¸‹è½½opensslå®‰è£…ç‰ˆ\"><a class=\"anchor\" href=\"#ä¸€ä¸‹è½½opensslå®‰è£…ç‰ˆ\">#</a> ä¸€ã€‚ä¸‹è½½ openssl å®‰è£…ç‰ˆ</h4>\n<p>â€‹\tæˆ‘è¿™é‡Œæ˜¯ win10 64 ä½ï¼Œæ‰€ä»¥é€‰çš„ä¸­é—´é‚£ä¸ª</p>\n<p><img data-src=\"/2022/10/15/OpenSSL-tool/20201222101342278.png\" class=\"\" title=\"æŒ‰ç…§æ“ä½œç³»ç»Ÿé€‰æ‹©\"></p>\n<h4 id=\"äºŒå®‰è£…è¿‡ç¨‹\"><a class=\"anchor\" href=\"#äºŒå®‰è£…è¿‡ç¨‹\">#</a> äºŒã€‚å®‰è£…è¿‡ç¨‹</h4>\n<p>â€‹\tä¹Ÿæ²¡å•¥ç‰¹æ®Šçš„ ï¼Œä¸€ç›´ nextï¼Œåªæœ‰ä¸¤ç‚¹æ³¨æ„ï¼š</p>\n<p>1ã€ä¿®æ”¹å®‰è£…åœ°å€</p>\n<p>2ã€æœ€åä¸€æ­¥ï¼Œä¸è¦å‹¾é€‰ï¼Œä¼šæé’±ã€‚</p>\n<p><img data-src=\"/2022/10/15/OpenSSL-tool/20201222102601218.png\" class=\"\" title=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"></p>\n<p><img data-src=\"/2022/10/15/OpenSSL-tool/20201222102703276.png\" class=\"\" title=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"></p>\n<p><img data-src=\"/2022/10/15/OpenSSL-tool/20201222102703268.png\" class=\"\" title=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"></p>\n<p><img data-src=\"/2022/10/15/OpenSSL-tool/20201222102721958.png\" class=\"\" title=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"></p>\n<p><img data-src=\"/2022/10/15/OpenSSL-tool/1650347562395.png\" class=\"\"></p>\n<h4 id=\"ä¸‰é…ç½®ç¯å¢ƒå˜é‡\"><a class=\"anchor\" href=\"#ä¸‰é…ç½®ç¯å¢ƒå˜é‡\">#</a> ä¸‰ã€‚é…ç½®ç¯å¢ƒå˜é‡</h4>\n<p><img data-src=\"/2022/10/15/OpenSSL-tool/1650351119292.png\" class=\"\"></p>\n<p><img data-src=\"/2022/10/15/OpenSSL-tool/1650351138506.png\" class=\"\" width=\"1650351138506\"></p>\n<h4 id=\"å››æµ‹è¯•\"><a class=\"anchor\" href=\"#å››æµ‹è¯•\">#</a> å››ã€‚æµ‹è¯•</h4>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>openssl <span class=\"token parameter variable\">-version</span></pre></td></tr></table></figure><p><img data-src=\"/2022/10/15/OpenSSL-tool/1650351011263.png\" class=\"\"></p>\n<h3 id=\"opensslå®‰è£…linux\"><a class=\"anchor\" href=\"#opensslå®‰è£…linux\">#</a> OpenSSL å®‰è£…ï¼ˆLinuxï¼‰</h3>\n<h4 id=\"1\"><a class=\"anchor\" href=\"#1\">#</a> â€”â€”1</h4>\n<p>å‚è€ƒé“¾æ¥ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3ZlY3Rvcl9kYXRhL2FydGljbGUvZGV0YWlscy8xMDc1NTc5NDE=\">https://blog.csdn.net/vector_data/article/details/107557941</span></p>\n<h5 id=\"1å®‰è£…ä¾èµ–cè¯­è¨€ä¾èµ–\"><a class=\"anchor\" href=\"#1å®‰è£…ä¾èµ–cè¯­è¨€ä¾èµ–\">#</a> 1. å®‰è£…ä¾èµ– C è¯­è¨€ä¾èµ–</h5>\n<p>â€‹\tredis ä½¿ç”¨ C è¯­è¨€ç¼–å†™ï¼Œæ‰€ä»¥éœ€è¦å®‰è£… C è¯­è¨€åº“</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>yum <span class=\"token function\">install</span> <span class=\"token parameter variable\">-y</span> gcc zlib</pre></td></tr></table></figure><p>â€‹</p>\n<h5 id=\"2ä¸Šä¼ å¹¶è§£å‹\"><a class=\"anchor\" href=\"#2ä¸Šä¼ å¹¶è§£å‹\">#</a> 2. ä¸Šä¼ å¹¶è§£å‹</h5>\n<p>â€‹\tæŠŠ  <code>openssl-1.1.1j.tar.gz</code>  ä¸Šä¼ åˆ° /usr/local/tmp ä¸­ï¼Œè§£å‹æ–‡ä»¶</p>\n<pre><code> cd /usr/local/tmp\n\n tar zxf openssl-1.1.1j.tar.gz \n mv openssl-1.1.1j ../openssl\n \n</code></pre>\n<h5 id=\"3ç¼–è¯‘å¹¶å®‰è£…\"><a class=\"anchor\" href=\"#3ç¼–è¯‘å¹¶å®‰è£…\">#</a> 3. ç¼–è¯‘å¹¶å®‰è£…</h5>\n<p>â€‹\tè¿›å…¥è§£å‹æ–‡ä»¶å¤¹</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token builtin class-name\">cd</span> /usr/local/openssl</pre></td></tr></table></figure><p>â€‹\t é…ç½®ç¼–è¯‘</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>./config</pre></td></tr></table></figure><p>â€‹\tç¼–è¯‘å®‰è£…</p>\n<pre><code>make clean &amp;&amp; make install\n</code></pre>\n<p>â€‹\tæµ‹è¯•</p>\n<pre><code>openssl version -a\n</code></pre>\n",
            "tags": []
        },
        {
            "id": "http://example.com/2022/10/15/Nginx-tool/",
            "url": "http://example.com/2022/10/15/Nginx-tool/",
            "title": "Nginx",
            "date_published": "2022-10-15T04:52:38.188Z",
            "content_html": "<h3 id=\"nginxå®‰è£…\"><a class=\"anchor\" href=\"#nginxå®‰è£…\">#</a> nginx å®‰è£…</h3>\n<h4 id=\"1\"><a class=\"anchor\" href=\"#1\">#</a> â€”â€”1</h4>\n<h5 id=\"å®‰è£…yum\"><a class=\"anchor\" href=\"#å®‰è£…yum\">#</a> å®‰è£…ï¼šyum</h5>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>yum <span class=\"token function\">install</span> yum-utils</pre></td></tr></table></figure><h5 id=\"åˆ‡æ¢ç›®å½•\"><a class=\"anchor\" href=\"#åˆ‡æ¢ç›®å½•\">#</a> åˆ‡æ¢ç›®å½•ï¼š</h5>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token builtin class-name\">cd</span> /etc/yum.repos.d/</pre></td></tr></table></figure><h5 id=\"åˆ›å»ºæ–‡ä»¶\"><a class=\"anchor\" href=\"#åˆ›å»ºæ–‡ä»¶\">#</a> åˆ›å»ºæ–‡ä»¶ï¼š</h5>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">vim</span> nginx.repo</pre></td></tr></table></figure><p><em>ä¿®æ”¹æ–‡ä»¶å†…å®¹ï¼š</em></p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token punctuation\">[</span>nginx-stable<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token assign-left variable\">name</span><span class=\"token operator\">=</span>nginx stable repo</pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token assign-left variable\">baseurl</span><span class=\"token operator\">=</span>http://nginx.org/packages/centos/<span class=\"token variable\">$releasever</span>/<span class=\"token variable\">$basearch</span>/</pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token assign-left variable\">gpgcheck</span><span class=\"token operator\">=</span><span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token assign-left variable\">enabled</span><span class=\"token operator\">=</span><span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token assign-left variable\">gpgkey</span><span class=\"token operator\">=</span>https://nginx.org/keys/nginx_signing.key</pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token assign-left variable\">module_hotfixes</span><span class=\"token operator\">=</span>true</pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token punctuation\">[</span>nginx-mainline<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token assign-left variable\">name</span><span class=\"token operator\">=</span>nginx mainline repo</pre></td></tr><tr><td data-num=\"18\"></td><td><pre></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token assign-left variable\">baseurl</span><span class=\"token operator\">=</span>http://nginx.org/packages/mainline/centos/<span class=\"token variable\">$releasever</span>/<span class=\"token variable\">$basearch</span>/</pre></td></tr><tr><td data-num=\"20\"></td><td><pre></pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token assign-left variable\">gpgcheck</span><span class=\"token operator\">=</span><span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre></pre></td></tr><tr><td data-num=\"23\"></td><td><pre><span class=\"token assign-left variable\">enabled</span><span class=\"token operator\">=</span><span class=\"token number\">0</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre></pre></td></tr><tr><td data-num=\"25\"></td><td><pre><span class=\"token assign-left variable\">gpgkey</span><span class=\"token operator\">=</span>https://nginx.org/keys/nginx_signing.key</pre></td></tr><tr><td data-num=\"26\"></td><td><pre></pre></td></tr><tr><td data-num=\"27\"></td><td><pre><span class=\"token assign-left variable\">module_hotfixes</span><span class=\"token operator\">=</span>true</pre></td></tr></table></figure><h5 id=\"nginxçš„å®‰è£…\"><a class=\"anchor\" href=\"#nginxçš„å®‰è£…\">#</a> Nginx çš„å®‰è£…ï¼š</h5>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>yum <span class=\"token function\">install</span> nginx</pre></td></tr></table></figure><p>å®‰è£…å®Œæˆï¼šæˆ‘ä»¬çš„ç‰ˆæœ¬ï¼šnginx.x86_64 1:1.20.2-1.el7.ngx</p>\n<p>&lt;div name=&quot;nginx_install_2&quot;&gt;</p>\n<h4 id=\"2\"><a class=\"anchor\" href=\"#2\">#</a> â€”â€”2</h4>\n<h5 id=\"1-æ‹‰å–é•œåƒ\"><a class=\"anchor\" href=\"#1-æ‹‰å–é•œåƒ\">#</a> 1ã€æ‹‰å–é•œåƒ</h5>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">docker</span> pull nginx:1.16.1</pre></td></tr></table></figure><h5 id=\"2-åˆ›å»ºæŒ‚è½½æ•°æ®å·\"><a class=\"anchor\" href=\"#2-åˆ›å»ºæŒ‚è½½æ•°æ®å·\">#</a> 2ã€åˆ›å»ºæŒ‚è½½æ•°æ®å·</h5>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">mkdir</span> <span class=\"token parameter variable\">-p</span> /root/nginx/conf</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">vim</span> /root/nginx/conf/nginx.conf</pre></td></tr></table></figure><p><code>nginx.confå†…å®¹ï¼š</code></p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>user  root<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>worker_processes  <span class=\"token number\">1</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre> </pre></td></tr><tr><td data-num=\"4\"></td><td><pre>error_log  /var/log/nginx/error.log warn<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>pid        /var/run/nginx.pid<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre> </pre></td></tr><tr><td data-num=\"7\"></td><td><pre> </pre></td></tr><tr><td data-num=\"8\"></td><td><pre>events <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    worker_connections  <span class=\"token number\">1024</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre> </pre></td></tr><tr><td data-num=\"12\"></td><td><pre> </pre></td></tr><tr><td data-num=\"13\"></td><td><pre>http <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    include       /etc/nginx/mime.types<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    default_type  application/octet-stream<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre> </pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    log_format  main  <span class=\"token string\">'$remote_addr - $remote_user [$time_local] \"$request\" '</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>                      <span class=\"token string\">'$status $body_bytes_sent \"$http_referer\" '</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>                      <span class=\"token string\">'\"$http_user_agent\" \"$http_x_forwarded_for\"'</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre> </pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    access_log  /var/log/nginx/access.log  main<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre> </pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    sendfile        on<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre><span class=\"token comment\">#    #tcp_nopush     on;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre> </pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    keepalive_timeout  <span class=\"token number\">65</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre> </pre></td></tr><tr><td data-num=\"28\"></td><td><pre><span class=\"token comment\">#    #gzip  on;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"30\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"31\"></td><td><pre>    server <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>    \tlisten       <span class=\"token number\">80</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>    \tserver_name  localhost<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre></pre></td></tr><tr><td data-num=\"35\"></td><td><pre><span class=\"token comment\">#    \t#charset koi8-r;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre><span class=\"token comment\">#    \t#access_log  /var/log/nginx/host.access.log  main;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>    \tlocation / <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>        \troot   /usr/share/nginx/html<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>        \tindex  index.html index.htm<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>    \t<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre></pre></td></tr><tr><td data-num=\"43\"></td><td><pre><span class=\"token comment\">#    \t#error_page  404              /404.html;</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre></pre></td></tr><tr><td data-num=\"45\"></td><td><pre><span class=\"token comment\">#    \t# redirect server error pages to the static page /50x.html</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>    \terror_page   <span class=\"token number\">500</span> <span class=\"token number\">502</span> <span class=\"token number\">503</span> <span class=\"token number\">504</span>  /50x.html<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>    \tlocation <span class=\"token operator\">=</span> /50x.html <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>        \troot   /usr/share/nginx/html<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>    \t<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>   </pre></td></tr><tr><td data-num=\"52\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h5 id=\"3-åˆ›å»ºå®¹å™¨\"><a class=\"anchor\" href=\"#3-åˆ›å»ºå®¹å™¨\">#</a> 3ã€åˆ›å»ºå®¹å™¨</h5>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">### æ³¨æ„ ip ä¸€å®šè¦ä¸æ£€æµ‹ ip ç›¸åŒ</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">docker</span> run <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token parameter variable\">-p</span> <span class=\"token number\">80</span>:80 <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token parameter variable\">--name</span> nginx  <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token parameter variable\">-v</span> /root/nginx/conf/nginx.conf:/etc/nginx/nginx.conf <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token parameter variable\">-d</span> nginx:1.16.1</pre></td></tr></table></figure><h5 id=\"4-æŸ¥çœ‹\"><a class=\"anchor\" href=\"#4-æŸ¥çœ‹\">#</a> 4ã€æŸ¥çœ‹</h5>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">docker</span> <span class=\"token function\">ps</span></pre></td></tr></table></figure>",
            "tags": []
        },
        {
            "id": "http://example.com/2022/10/15/Nacos-tool/",
            "url": "http://example.com/2022/10/15/Nacos-tool/",
            "title": "Nacos",
            "date_published": "2022-10-15T04:52:38.178Z",
            "content_html": "<h3 id=\"nacoså®‰è£…\"><a class=\"anchor\" href=\"#nacoså®‰è£…\">#</a> Nacos å®‰è£…</h3>\n<p><strong>æ³¨ï¼š</strong></p>\n<ul>\n<li>\n<p>å®‰è£…ä¹‹å‰å¿…é¡» é…ç½®  <a href=\"#jdk_install\">jdk</a></p>\n</li>\n<li>\n<p>å®‰è£…ä¹‹å‰å¿…é¡» é…ç½®  <a href=\"#mysql_install\">mysql5.6.+</a></p>\n</li>\n</ul>\n<p>&lt;div name=&quot;nacos_install_1&quot;&gt;</p>\n<h4 id=\"1\"><a class=\"anchor\" href=\"#1\">#</a> â€”â€”1</h4>\n<h5 id=\"1-å‡†å¤‡å®‰è£…åŒ…\"><a class=\"anchor\" href=\"#1-å‡†å¤‡å®‰è£…åŒ…\">#</a> 1ã€å‡†å¤‡å®‰è£…åŒ…</h5>\n<p>å®˜ç½‘ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2FsaWJhYmEvbmFjb3MvcmVsZWFzZXM=\">https://github.com/alibaba/nacos/releases</span></p>\n<p>æœ¬ç¯‡æˆ‘ä»¬é€‰æ‹© versionï¼š2.0.3</p>\n<h5 id=\"2-ä¸Šä¼ å¹¶è§£å‹\"><a class=\"anchor\" href=\"#2-ä¸Šä¼ å¹¶è§£å‹\">#</a> 2ã€ä¸Šä¼ å¹¶è§£å‹</h5>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">tar</span> <span class=\"token parameter variable\">-zxvf</span> nacos-server-2.0.3 .tar.gz <span class=\"token parameter variable\">-C</span> /usr/local/</pre></td></tr></table></figure><h5 id=\"3-ä¿®æ”¹é…ç½®\"><a class=\"anchor\" href=\"#3-ä¿®æ”¹é…ç½®\">#</a> 3ã€ä¿®æ”¹é…ç½®</h5>\n<blockquote>\n<p>1ã€ä½¿ç”¨ nacos-mysql.sql</p>\n<p>â€‹\t\tä¸ºæˆ‘ä»¬å‚¨å­˜æ•°æ®å»ºç«‹æ•°æ®åº“ã€è¡¨</p>\n<p>2ã€ <code>application.propertiesé‡Œé¢ä¿®æ”¹æ•°æ®å‚¨å­˜ä½ç½®ä¸ºmysql</code></p>\n</blockquote>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token builtin class-name\">cd</span> /usr/local/nacos/conf</pre></td></tr></table></figure><figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">-- 1 å»ºç«‹æ•°æ®åº“</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">create</span>  <span class=\"token keyword\">database</span> nacos_config<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">use</span> nacos_config<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token identifier\"><span class=\"token punctuation\">`</span>config_info<span class=\"token punctuation\">`</span></span> <span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>id<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">bigint</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">AUTO_INCREMENT</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'id'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>data_id<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">255</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'data_id'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>group_id<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">255</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>content<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">longtext</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'content'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>md5<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">32</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'md5'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>gmt_create<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">datetime</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token keyword\">CURRENT_TIMESTAMP</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'åˆ›å»ºæ—¶é—´'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>gmt_modified<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">datetime</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token keyword\">CURRENT_TIMESTAMP</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'ä¿®æ”¹æ—¶é—´'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>src_user<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">text</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'source user'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>src_ip<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">50</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'source ip'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>app_name<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">128</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>tenant_id<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">128</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token string\">''</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'ç§Ÿæˆ·å­—æ®µ'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>c_desc<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">256</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>c_use<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">64</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>effect<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">64</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>type<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">64</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>c_schema<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">text</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>  <span class=\"token keyword\">PRIMARY</span> <span class=\"token keyword\">KEY</span> <span class=\"token punctuation\">(</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>id<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>  <span class=\"token keyword\">UNIQUE</span> <span class=\"token keyword\">KEY</span> <span class=\"token identifier\"><span class=\"token punctuation\">`</span>uk_configinfo_datagrouptenant<span class=\"token punctuation\">`</span></span> <span class=\"token punctuation\">(</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>data_id<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">,</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>group_id<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">,</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>tenant_id<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre><span class=\"token punctuation\">)</span> <span class=\"token keyword\">ENGINE</span><span class=\"token operator\">=</span><span class=\"token keyword\">InnoDB</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token keyword\">CHARSET</span><span class=\"token operator\">=</span>utf8 <span class=\"token keyword\">COLLATE</span><span class=\"token operator\">=</span>utf8_bin <span class=\"token keyword\">COMMENT</span><span class=\"token operator\">=</span><span class=\"token string\">'config_info'</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre></pre></td></tr><tr><td data-num=\"26\"></td><td><pre></pre></td></tr><tr><td data-num=\"27\"></td><td><pre><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token identifier\"><span class=\"token punctuation\">`</span>config_info_aggr<span class=\"token punctuation\">`</span></span> <span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>id<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">bigint</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">AUTO_INCREMENT</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'id'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>data_id<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">255</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'data_id'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>group_id<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">255</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'group_id'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>datum_id<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">255</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'datum_id'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>content<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">longtext</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'å†…å®¹'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>gmt_modified<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">datetime</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'ä¿®æ”¹æ—¶é—´'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>app_name<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">128</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>tenant_id<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">128</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token string\">''</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'ç§Ÿæˆ·å­—æ®µ'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>  <span class=\"token keyword\">PRIMARY</span> <span class=\"token keyword\">KEY</span> <span class=\"token punctuation\">(</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>id<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>  <span class=\"token keyword\">UNIQUE</span> <span class=\"token keyword\">KEY</span> <span class=\"token identifier\"><span class=\"token punctuation\">`</span>uk_configinfoaggr_datagrouptenantdatum<span class=\"token punctuation\">`</span></span> <span class=\"token punctuation\">(</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>data_id<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">,</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>group_id<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">,</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>tenant_id<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">,</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>datum_id<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre><span class=\"token punctuation\">)</span> <span class=\"token keyword\">ENGINE</span><span class=\"token operator\">=</span><span class=\"token keyword\">InnoDB</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token keyword\">CHARSET</span><span class=\"token operator\">=</span>utf8 <span class=\"token keyword\">COLLATE</span><span class=\"token operator\">=</span>utf8_bin <span class=\"token keyword\">COMMENT</span><span class=\"token operator\">=</span><span class=\"token string\">'å¢åŠ ç§Ÿæˆ·å­—æ®µ'</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre></pre></td></tr><tr><td data-num=\"40\"></td><td><pre></pre></td></tr><tr><td data-num=\"41\"></td><td><pre></pre></td></tr><tr><td data-num=\"42\"></td><td><pre><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token identifier\"><span class=\"token punctuation\">`</span>config_info_beta<span class=\"token punctuation\">`</span></span> <span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>id<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">bigint</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">AUTO_INCREMENT</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'id'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>data_id<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">255</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'data_id'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>group_id<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">128</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'group_id'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>app_name<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">128</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'app_name'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>content<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">longtext</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'content'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>beta_ips<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">1024</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'betaIps'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>md5<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">32</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'md5'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>gmt_create<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">datetime</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token keyword\">CURRENT_TIMESTAMP</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'åˆ›å»ºæ—¶é—´'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>gmt_modified<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">datetime</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token keyword\">CURRENT_TIMESTAMP</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'ä¿®æ”¹æ—¶é—´'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>src_user<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">text</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'source user'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>src_ip<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">50</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'source ip'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>tenant_id<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">128</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token string\">''</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'ç§Ÿæˆ·å­—æ®µ'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"55\"></td><td><pre>  <span class=\"token keyword\">PRIMARY</span> <span class=\"token keyword\">KEY</span> <span class=\"token punctuation\">(</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>id<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"56\"></td><td><pre>  <span class=\"token keyword\">UNIQUE</span> <span class=\"token keyword\">KEY</span> <span class=\"token identifier\"><span class=\"token punctuation\">`</span>uk_configinfobeta_datagrouptenant<span class=\"token punctuation\">`</span></span> <span class=\"token punctuation\">(</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>data_id<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">,</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>group_id<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">,</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>tenant_id<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"57\"></td><td><pre><span class=\"token punctuation\">)</span> <span class=\"token keyword\">ENGINE</span><span class=\"token operator\">=</span><span class=\"token keyword\">InnoDB</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token keyword\">CHARSET</span><span class=\"token operator\">=</span>utf8 <span class=\"token keyword\">COLLATE</span><span class=\"token operator\">=</span>utf8_bin <span class=\"token keyword\">COMMENT</span><span class=\"token operator\">=</span><span class=\"token string\">'config_info_beta'</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"58\"></td><td><pre></pre></td></tr><tr><td data-num=\"59\"></td><td><pre></pre></td></tr><tr><td data-num=\"60\"></td><td><pre><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token identifier\"><span class=\"token punctuation\">`</span>config_info_tag<span class=\"token punctuation\">`</span></span> <span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"61\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>id<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">bigint</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">AUTO_INCREMENT</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'id'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"62\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>data_id<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">255</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'data_id'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"63\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>group_id<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">128</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'group_id'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"64\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>tenant_id<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">128</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token string\">''</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'tenant_id'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"65\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>tag_id<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">128</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'tag_id'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"66\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>app_name<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">128</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'app_name'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"67\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>content<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">longtext</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'content'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"68\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>md5<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">32</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'md5'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"69\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>gmt_create<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">datetime</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token keyword\">CURRENT_TIMESTAMP</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'åˆ›å»ºæ—¶é—´'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"70\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>gmt_modified<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">datetime</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token keyword\">CURRENT_TIMESTAMP</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'ä¿®æ”¹æ—¶é—´'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"71\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>src_user<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">text</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'source user'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"72\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>src_ip<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">50</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'source ip'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"73\"></td><td><pre>  <span class=\"token keyword\">PRIMARY</span> <span class=\"token keyword\">KEY</span> <span class=\"token punctuation\">(</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>id<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"74\"></td><td><pre>  <span class=\"token keyword\">UNIQUE</span> <span class=\"token keyword\">KEY</span> <span class=\"token identifier\"><span class=\"token punctuation\">`</span>uk_configinfotag_datagrouptenanttag<span class=\"token punctuation\">`</span></span> <span class=\"token punctuation\">(</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>data_id<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">,</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>group_id<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">,</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>tenant_id<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">,</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>tag_id<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"75\"></td><td><pre><span class=\"token punctuation\">)</span> <span class=\"token keyword\">ENGINE</span><span class=\"token operator\">=</span><span class=\"token keyword\">InnoDB</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token keyword\">CHARSET</span><span class=\"token operator\">=</span>utf8 <span class=\"token keyword\">COLLATE</span><span class=\"token operator\">=</span>utf8_bin <span class=\"token keyword\">COMMENT</span><span class=\"token operator\">=</span><span class=\"token string\">'config_info_tag'</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"76\"></td><td><pre></pre></td></tr><tr><td data-num=\"77\"></td><td><pre></pre></td></tr><tr><td data-num=\"78\"></td><td><pre><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token identifier\"><span class=\"token punctuation\">`</span>config_tags_relation<span class=\"token punctuation\">`</span></span> <span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"79\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>id<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">bigint</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'id'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"80\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>tag_name<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">128</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'tag_name'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"81\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>tag_type<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">64</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'tag_type'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"82\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>data_id<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">255</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'data_id'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"83\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>group_id<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">128</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'group_id'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"84\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>tenant_id<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">128</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token string\">''</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'tenant_id'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"85\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>nid<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">bigint</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">AUTO_INCREMENT</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"86\"></td><td><pre>  <span class=\"token keyword\">PRIMARY</span> <span class=\"token keyword\">KEY</span> <span class=\"token punctuation\">(</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>nid<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"87\"></td><td><pre>  <span class=\"token keyword\">UNIQUE</span> <span class=\"token keyword\">KEY</span> <span class=\"token identifier\"><span class=\"token punctuation\">`</span>uk_configtagrelation_configidtag<span class=\"token punctuation\">`</span></span> <span class=\"token punctuation\">(</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>id<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">,</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>tag_name<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">,</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>tag_type<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"88\"></td><td><pre>  <span class=\"token keyword\">KEY</span> <span class=\"token identifier\"><span class=\"token punctuation\">`</span>idx_tenant_id<span class=\"token punctuation\">`</span></span> <span class=\"token punctuation\">(</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>tenant_id<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"89\"></td><td><pre><span class=\"token punctuation\">)</span> <span class=\"token keyword\">ENGINE</span><span class=\"token operator\">=</span><span class=\"token keyword\">InnoDB</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token keyword\">CHARSET</span><span class=\"token operator\">=</span>utf8 <span class=\"token keyword\">COLLATE</span><span class=\"token operator\">=</span>utf8_bin <span class=\"token keyword\">COMMENT</span><span class=\"token operator\">=</span><span class=\"token string\">'config_tag_relation'</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"90\"></td><td><pre></pre></td></tr><tr><td data-num=\"91\"></td><td><pre></pre></td></tr><tr><td data-num=\"92\"></td><td><pre><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token identifier\"><span class=\"token punctuation\">`</span>group_capacity<span class=\"token punctuation\">`</span></span> <span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"93\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>id<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">bigint</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">unsigned</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">AUTO_INCREMENT</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'ä¸»é”®ID'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"94\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>group_id<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">128</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token string\">''</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'Group IDï¼Œç©ºå­—ç¬¦è¡¨ç¤ºæ•´ä¸ªé›†ç¾¤'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"95\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>quota<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">int</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">unsigned</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token string\">'0'</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'é…é¢ï¼Œ0è¡¨ç¤ºä½¿ç”¨é»˜è®¤å€¼'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"96\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>usage<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">int</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">unsigned</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token string\">'0'</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'ä½¿ç”¨é‡'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"97\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>max_size<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">int</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">unsigned</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token string\">'0'</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'å•ä¸ªé…ç½®å¤§å°ä¸Šé™ï¼Œå•ä½ä¸ºå­—èŠ‚ï¼Œ0è¡¨ç¤ºä½¿ç”¨é»˜è®¤å€¼'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"98\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>max_aggr_count<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">int</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">unsigned</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token string\">'0'</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'èšåˆå­é…ç½®æœ€å¤§ä¸ªæ•°ï¼Œï¼Œ0è¡¨ç¤ºä½¿ç”¨é»˜è®¤å€¼'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"99\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>max_aggr_size<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">int</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">unsigned</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token string\">'0'</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'å•ä¸ªèšåˆæ•°æ®çš„å­é…ç½®å¤§å°ä¸Šé™ï¼Œå•ä½ä¸ºå­—èŠ‚ï¼Œ0è¡¨ç¤ºä½¿ç”¨é»˜è®¤å€¼'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"100\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>max_history_count<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">int</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">unsigned</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token string\">'0'</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'æœ€å¤§å˜æ›´å†å²æ•°é‡'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"101\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>gmt_create<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">datetime</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token keyword\">CURRENT_TIMESTAMP</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'åˆ›å»ºæ—¶é—´'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"102\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>gmt_modified<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">datetime</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token keyword\">CURRENT_TIMESTAMP</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'ä¿®æ”¹æ—¶é—´'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"103\"></td><td><pre>  <span class=\"token keyword\">PRIMARY</span> <span class=\"token keyword\">KEY</span> <span class=\"token punctuation\">(</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>id<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"104\"></td><td><pre>  <span class=\"token keyword\">UNIQUE</span> <span class=\"token keyword\">KEY</span> <span class=\"token identifier\"><span class=\"token punctuation\">`</span>uk_group_id<span class=\"token punctuation\">`</span></span> <span class=\"token punctuation\">(</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>group_id<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"105\"></td><td><pre><span class=\"token punctuation\">)</span> <span class=\"token keyword\">ENGINE</span><span class=\"token operator\">=</span><span class=\"token keyword\">InnoDB</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token keyword\">CHARSET</span><span class=\"token operator\">=</span>utf8 <span class=\"token keyword\">COLLATE</span><span class=\"token operator\">=</span>utf8_bin <span class=\"token keyword\">COMMENT</span><span class=\"token operator\">=</span><span class=\"token string\">'é›†ç¾¤ã€å„Groupå®¹é‡ä¿¡æ¯è¡¨'</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"106\"></td><td><pre></pre></td></tr><tr><td data-num=\"107\"></td><td><pre></pre></td></tr><tr><td data-num=\"108\"></td><td><pre><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token identifier\"><span class=\"token punctuation\">`</span>his_config_info<span class=\"token punctuation\">`</span></span> <span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"109\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>id<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">bigint</span><span class=\"token punctuation\">(</span><span class=\"token number\">64</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">unsigned</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"110\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>nid<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">bigint</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">unsigned</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">AUTO_INCREMENT</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"111\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>data_id<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">255</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"112\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>group_id<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">128</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"113\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>app_name<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">128</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'app_name'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"114\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>content<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">longtext</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"115\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>md5<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">32</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"116\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>gmt_create<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">datetime</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token keyword\">CURRENT_TIMESTAMP</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"117\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>gmt_modified<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">datetime</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token keyword\">CURRENT_TIMESTAMP</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"118\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>src_user<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">text</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"119\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>src_ip<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">50</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"120\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>op_type<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">char</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"121\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>tenant_id<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">128</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token string\">''</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'ç§Ÿæˆ·å­—æ®µ'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"122\"></td><td><pre>  <span class=\"token keyword\">PRIMARY</span> <span class=\"token keyword\">KEY</span> <span class=\"token punctuation\">(</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>nid<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"123\"></td><td><pre>  <span class=\"token keyword\">KEY</span> <span class=\"token identifier\"><span class=\"token punctuation\">`</span>idx_gmt_create<span class=\"token punctuation\">`</span></span> <span class=\"token punctuation\">(</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>gmt_create<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"124\"></td><td><pre>  <span class=\"token keyword\">KEY</span> <span class=\"token identifier\"><span class=\"token punctuation\">`</span>idx_gmt_modified<span class=\"token punctuation\">`</span></span> <span class=\"token punctuation\">(</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>gmt_modified<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"125\"></td><td><pre>  <span class=\"token keyword\">KEY</span> <span class=\"token identifier\"><span class=\"token punctuation\">`</span>idx_did<span class=\"token punctuation\">`</span></span> <span class=\"token punctuation\">(</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>data_id<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"126\"></td><td><pre><span class=\"token punctuation\">)</span> <span class=\"token keyword\">ENGINE</span><span class=\"token operator\">=</span><span class=\"token keyword\">InnoDB</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token keyword\">CHARSET</span><span class=\"token operator\">=</span>utf8 <span class=\"token keyword\">COLLATE</span><span class=\"token operator\">=</span>utf8_bin <span class=\"token keyword\">COMMENT</span><span class=\"token operator\">=</span><span class=\"token string\">'å¤šç§Ÿæˆ·æ”¹é€ '</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"127\"></td><td><pre></pre></td></tr><tr><td data-num=\"128\"></td><td><pre></pre></td></tr><tr><td data-num=\"129\"></td><td><pre><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token identifier\"><span class=\"token punctuation\">`</span>tenant_capacity<span class=\"token punctuation\">`</span></span> <span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"130\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>id<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">bigint</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">unsigned</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">AUTO_INCREMENT</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'ä¸»é”®ID'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"131\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>tenant_id<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">128</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token string\">''</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'Tenant ID'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"132\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>quota<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">int</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">unsigned</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token string\">'0'</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'é…é¢ï¼Œ0è¡¨ç¤ºä½¿ç”¨é»˜è®¤å€¼'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"133\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>usage<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">int</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">unsigned</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token string\">'0'</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'ä½¿ç”¨é‡'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"134\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>max_size<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">int</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">unsigned</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token string\">'0'</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'å•ä¸ªé…ç½®å¤§å°ä¸Šé™ï¼Œå•ä½ä¸ºå­—èŠ‚ï¼Œ0è¡¨ç¤ºä½¿ç”¨é»˜è®¤å€¼'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"135\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>max_aggr_count<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">int</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">unsigned</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token string\">'0'</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'èšåˆå­é…ç½®æœ€å¤§ä¸ªæ•°'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"136\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>max_aggr_size<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">int</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">unsigned</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token string\">'0'</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'å•ä¸ªèšåˆæ•°æ®çš„å­é…ç½®å¤§å°ä¸Šé™ï¼Œå•ä½ä¸ºå­—èŠ‚ï¼Œ0è¡¨ç¤ºä½¿ç”¨é»˜è®¤å€¼'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"137\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>max_history_count<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">int</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">unsigned</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token string\">'0'</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'æœ€å¤§å˜æ›´å†å²æ•°é‡'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"138\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>gmt_create<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">datetime</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token keyword\">CURRENT_TIMESTAMP</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'åˆ›å»ºæ—¶é—´'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"139\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>gmt_modified<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">datetime</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token keyword\">CURRENT_TIMESTAMP</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'ä¿®æ”¹æ—¶é—´'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"140\"></td><td><pre>  <span class=\"token keyword\">PRIMARY</span> <span class=\"token keyword\">KEY</span> <span class=\"token punctuation\">(</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>id<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"141\"></td><td><pre>  <span class=\"token keyword\">UNIQUE</span> <span class=\"token keyword\">KEY</span> <span class=\"token identifier\"><span class=\"token punctuation\">`</span>uk_tenant_id<span class=\"token punctuation\">`</span></span> <span class=\"token punctuation\">(</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>tenant_id<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"142\"></td><td><pre><span class=\"token punctuation\">)</span> <span class=\"token keyword\">ENGINE</span><span class=\"token operator\">=</span><span class=\"token keyword\">InnoDB</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token keyword\">CHARSET</span><span class=\"token operator\">=</span>utf8 <span class=\"token keyword\">COLLATE</span><span class=\"token operator\">=</span>utf8_bin <span class=\"token keyword\">COMMENT</span><span class=\"token operator\">=</span><span class=\"token string\">'ç§Ÿæˆ·å®¹é‡ä¿¡æ¯è¡¨'</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"143\"></td><td><pre></pre></td></tr><tr><td data-num=\"144\"></td><td><pre></pre></td></tr><tr><td data-num=\"145\"></td><td><pre><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token identifier\"><span class=\"token punctuation\">`</span>tenant_info<span class=\"token punctuation\">`</span></span> <span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"146\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>id<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">bigint</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">AUTO_INCREMENT</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'id'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"147\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>kp<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">128</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'kp'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"148\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>tenant_id<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">128</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">default</span> <span class=\"token string\">''</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'tenant_id'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"149\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>tenant_name<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">128</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">default</span> <span class=\"token string\">''</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'tenant_name'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"150\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>tenant_desc<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">256</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'tenant_desc'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"151\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>create_source<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">32</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'create_source'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"152\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>gmt_create<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">bigint</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'åˆ›å»ºæ—¶é—´'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"153\"></td><td><pre>  <span class=\"token identifier\"><span class=\"token punctuation\">`</span>gmt_modified<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">bigint</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'ä¿®æ”¹æ—¶é—´'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"154\"></td><td><pre>  <span class=\"token keyword\">PRIMARY</span> <span class=\"token keyword\">KEY</span> <span class=\"token punctuation\">(</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>id<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"155\"></td><td><pre>  <span class=\"token keyword\">UNIQUE</span> <span class=\"token keyword\">KEY</span> <span class=\"token identifier\"><span class=\"token punctuation\">`</span>uk_tenant_info_kptenantid<span class=\"token punctuation\">`</span></span> <span class=\"token punctuation\">(</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>kp<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">,</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>tenant_id<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"156\"></td><td><pre>  <span class=\"token keyword\">KEY</span> <span class=\"token identifier\"><span class=\"token punctuation\">`</span>idx_tenant_id<span class=\"token punctuation\">`</span></span> <span class=\"token punctuation\">(</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>tenant_id<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"157\"></td><td><pre><span class=\"token punctuation\">)</span> <span class=\"token keyword\">ENGINE</span><span class=\"token operator\">=</span><span class=\"token keyword\">InnoDB</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token keyword\">CHARSET</span><span class=\"token operator\">=</span>utf8 <span class=\"token keyword\">COLLATE</span><span class=\"token operator\">=</span>utf8_bin <span class=\"token keyword\">COMMENT</span><span class=\"token operator\">=</span><span class=\"token string\">'tenant_info'</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"158\"></td><td><pre></pre></td></tr><tr><td data-num=\"159\"></td><td><pre><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token identifier\"><span class=\"token punctuation\">`</span>users<span class=\"token punctuation\">`</span></span> <span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"160\"></td><td><pre>\t<span class=\"token identifier\"><span class=\"token punctuation\">`</span>username<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">50</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">PRIMARY</span> <span class=\"token keyword\">KEY</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"161\"></td><td><pre>\t<span class=\"token identifier\"><span class=\"token punctuation\">`</span>password<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">500</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"162\"></td><td><pre>\t<span class=\"token identifier\"><span class=\"token punctuation\">`</span>enabled<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">boolean</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span></pre></td></tr><tr><td data-num=\"163\"></td><td><pre><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"164\"></td><td><pre></pre></td></tr><tr><td data-num=\"165\"></td><td><pre><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token identifier\"><span class=\"token punctuation\">`</span>roles<span class=\"token punctuation\">`</span></span> <span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"166\"></td><td><pre>\t<span class=\"token identifier\"><span class=\"token punctuation\">`</span>username<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">50</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"167\"></td><td><pre>\t<span class=\"token identifier\"><span class=\"token punctuation\">`</span>role<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">50</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"168\"></td><td><pre>\t<span class=\"token keyword\">UNIQUE</span> <span class=\"token keyword\">INDEX</span> <span class=\"token identifier\"><span class=\"token punctuation\">`</span>idx_user_role<span class=\"token punctuation\">`</span></span> <span class=\"token punctuation\">(</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>username<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">ASC</span><span class=\"token punctuation\">,</span> <span class=\"token identifier\"><span class=\"token punctuation\">`</span>role<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">ASC</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">USING</span> <span class=\"token keyword\">BTREE</span></pre></td></tr><tr><td data-num=\"169\"></td><td><pre><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"170\"></td><td><pre></pre></td></tr><tr><td data-num=\"171\"></td><td><pre><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token identifier\"><span class=\"token punctuation\">`</span>permissions<span class=\"token punctuation\">`</span></span> <span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"172\"></td><td><pre>    <span class=\"token identifier\"><span class=\"token punctuation\">`</span>role<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">50</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"173\"></td><td><pre>    <span class=\"token identifier\"><span class=\"token punctuation\">`</span>resource<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">255</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"174\"></td><td><pre>    <span class=\"token identifier\"><span class=\"token punctuation\">`</span>action<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">8</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"175\"></td><td><pre>    <span class=\"token keyword\">UNIQUE</span> <span class=\"token keyword\">INDEX</span> <span class=\"token identifier\"><span class=\"token punctuation\">`</span>uk_role_permission<span class=\"token punctuation\">`</span></span> <span class=\"token punctuation\">(</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>role<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">,</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>resource<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">,</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>action<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">USING</span> <span class=\"token keyword\">BTREE</span></pre></td></tr><tr><td data-num=\"176\"></td><td><pre><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"177\"></td><td><pre></pre></td></tr><tr><td data-num=\"178\"></td><td><pre><span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> users <span class=\"token punctuation\">(</span>username<span class=\"token punctuation\">,</span> password<span class=\"token punctuation\">,</span> enabled<span class=\"token punctuation\">)</span> <span class=\"token keyword\">VALUES</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'nacos'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'$2a$10$EuWPZHzz32dJN7jexM34MOeYirDdFAZm2kuWj7VEOJhhZkDrxfvUu'</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">TRUE</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"179\"></td><td><pre></pre></td></tr><tr><td data-num=\"180\"></td><td><pre><span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> roles <span class=\"token punctuation\">(</span>username<span class=\"token punctuation\">,</span> role<span class=\"token punctuation\">)</span> <span class=\"token keyword\">VALUES</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'nacos'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'ROLE_ADMIN'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">###2 å…ˆç•™å–å¤‡ä»½</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">cp</span> application.properties application.properties.bk</pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token function\">vim</span> application.properties</pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token comment\">### åœ¨ application.properties æœ€åæ·»åŠ ä»¥ä¸‹å†…å®¹</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token assign-left variable\">spring.datasource.platform</span><span class=\"token operator\">=</span>mysql</pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token assign-left variable\">db.num</span><span class=\"token operator\">=</span><span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token assign-left variable\">db.url.0</span><span class=\"token operator\">=</span>jdbc:mysql://127.0.0.1:3306/nacos_config?characterEncoding<span class=\"token operator\">=</span>utf8<span class=\"token operator\">&amp;</span><span class=\"token assign-left variable\">connectTimeout</span><span class=\"token operator\">=</span><span class=\"token number\">1000</span><span class=\"token operator\">&amp;</span><span class=\"token assign-left variable\">socketTimeout</span><span class=\"token operator\">=</span><span class=\"token number\">3000</span><span class=\"token operator\">&amp;</span><span class=\"token assign-left variable\">autoReconnect</span><span class=\"token operator\">=</span>true<span class=\"token operator\">&amp;</span><span class=\"token assign-left variable\">serverTimezone</span><span class=\"token operator\">=</span>UTC</pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token assign-left variable\">db.user</span><span class=\"token operator\">=</span>root</pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token assign-left variable\">db.password</span><span class=\"token operator\">=</span>root</pre></td></tr></table></figure><h5 id=\"4-å¼€å¯nacos\"><a class=\"anchor\" href=\"#4-å¼€å¯nacos\">#</a> 4ã€å¼€å¯ nacos</h5>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>/usr/local/nacos/bin/startup.sh</pre></td></tr></table></figure><h5 id=\"5-æŸ¥çœ‹\"><a class=\"anchor\" href=\"#5-æŸ¥çœ‹\">#</a> 5ã€æŸ¥çœ‹</h5>\n<ul>\n<li>æµ‹è¯•ä¹‹å‰å…ˆå…³é—­é˜²ç«å¢™</li>\n</ul>\n<p><span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMS41Mjo4ODQ4L25hY29z\">http://192.168.1.52:8848/nacos</span></p>\n<h3 id=\"nacosé›†ç¾¤é…ç½®\"><a class=\"anchor\" href=\"#nacosé›†ç¾¤é…ç½®\">#</a> Nacos é›†ç¾¤é…ç½®</h3>\n<ul>\n<li>å‰æ</li>\n</ul>\n<p>#&gt; 1ã€å®‰è£…  <a href=\"#jdk_install\">jdk</a></p>\n<blockquote></blockquote>\n<p>#&gt; 2ã€å®‰è£…ä¹‹å‰å¿…é¡» é…ç½®  <a href=\"#mysql_install\">mysql5.6.+</a></p>\n<blockquote></blockquote>\n<p>#&gt; 3ã€é…ç½® <a href=\"#nginx_install_1\">nginx</a></p>\n<blockquote></blockquote>\n<p>#&gt; 4ã€é…ç½® <a href=\"#nacos_install_1\">Nacosï¼ˆå•æœºç‰ˆ - 1ï¼‰</a></p>\n<ul>\n<li>æ‡’åŠ è½½</li>\n</ul>\n<blockquote>\n<p>æˆ‘ä»¬å¯åŠ¨ nginx ä¹‹åå¯èƒ½ä¸ä¼šç«‹å³å¼€å§‹ä»£ç†ï¼Œæ‰“å¼€æ—¥å¿—ç­‰ä¸€ä¼šï¼Œæ²¡æœ‰ç»“æœçš„æ—¶å€™é‡é…ä¸€ä¸‹</p>\n</blockquote>\n<h4 id=\"1-2\"><a class=\"anchor\" href=\"#1-2\">#</a> â€”â€”1</h4>\n<p>#â€‹\t* æ­¤ä¾‹ä¸­   <code>nginx:1.16</code>  å®‰è£…æ•™ç¨‹ä¸ºï¼š <a href=\"#nacos_install_1\">Nacosï¼ˆå•æœºç‰ˆ - 1ï¼‰</a></p>\n<h5 id=\"1-ä¿®æ”¹é›†ç¾¤é…ç½®æ–‡ä»¶\"><a class=\"anchor\" href=\"#1-ä¿®æ”¹é›†ç¾¤é…ç½®æ–‡ä»¶\">#</a> 1ã€ä¿®æ”¹é›†ç¾¤é…ç½®æ–‡ä»¶</h5>\n<p>â€‹\tè¿™é‡Œå¼€å§‹æ­£å¼é…ç½®é›†ç¾¤ï¼Œé¦–å…ˆæˆ‘ä»¬è¦æ›´æ”¹   <strong>cluter.conf</strong>   è¿™ä¸ªé…ç½®æ–‡ä»¶ï¼Œå½“ç„¶æˆ‘ä»¬ä¹Ÿéœ€è¦å¤‡ä»½ï¼Œä½†æ˜¯è¿™é‡Œå®ƒçš„<strong>åŸå§‹åç§°</strong>ä¸ºï¼š<strong>cluster.conf.example</strong> ï¼Œæˆ‘ä»¬éœ€è¦æŠŠå®ƒä¿ç•™åŒæ—¶å¤åˆ¶å‡ºä¸€ä¸ª cluster.conf æ¥è¿›è¡Œæ›´æ”¹</p>\n<p><strong>æ³¨ï¼šå¯¹äºè¦é›†ç¾¤å¯åŠ¨çš„æ‰€æœ‰ nacos éƒ½è¦åšè¿™æ­¥æ“ä½œ</strong></p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token builtin class-name\">cd</span> /usr/local/nacos/conf</pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">### å…ˆå¤‡ä»½</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token function\">cp</span> cluster.conf.example cluster.conf</pre></td></tr></table></figure><p>ä¿®æ”¹ <code>cluster.conf</code></p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">### æ ¼å¼ï¼š ip åœ°å€ï¼šç«¯å£å·</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\">###</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">### Copyright 1999-2018 Alibaba Group Holding Ltd.</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\">###</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\">### Licensed under the Apache License, Version 2.0 (the \"License\");</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token comment\">### you may not use this file except in compliance with the License.</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\">### You may obtain a copy of the License at</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token comment\">###</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token comment\">###      http://www.apache.org/licenses/LICENSE-2.0</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token comment\">###</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token comment\">### Unless required by applicable law or agreed to in writing, software</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token comment\">### distributed under the License is distributed on an \"AS IS\" BASIS,</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token comment\">### WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token comment\">### See the License for the specific language governing permissions and</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token comment\">### limitations under the License.</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token comment\">###</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token comment\">###it is ip</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token comment\">###example</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token comment\">###192.168.16.101:8847</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token comment\">###192.168.16.102</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token comment\">###192.168.16.10</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre></pre></td></tr><tr><td data-num=\"24\"></td><td><pre><span class=\"token comment\">###ip:port</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre><span class=\"token number\">192.168</span>.124.133:3333</pre></td></tr><tr><td data-num=\"26\"></td><td><pre><span class=\"token number\">192.168</span>.124.133:4444</pre></td></tr><tr><td data-num=\"27\"></td><td><pre><span class=\"token number\">192.168</span>.124.133:5555</pre></td></tr></table></figure><h5 id=\"2-ç¼–è¾‘nacosçš„å¯åŠ¨è„šæœ¬startupsh\"><a class=\"anchor\" href=\"#2-ç¼–è¾‘nacosçš„å¯åŠ¨è„šæœ¬startupsh\">#</a> 2ã€<span class=\"exturl\" data-url=\"aHR0cDovL3huLS1OYWNvc3N0YXJ0dXAtYmg3dDI5bmx0MGd1azlicnA0YXZ1aDd2NWUuc2g=\">ç¼–è¾‘ Nacos çš„å¯åŠ¨è„šæœ¬ startup.sh</span></h5>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token builtin class-name\">cd</span> /usr/local/nacos/bin</pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">### å…ˆå¤‡ä»½</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token function\">cp</span> startup.sh starup.sh.bk</pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token function\">vim</span>  startup.sh</pre></td></tr></table></figure><figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">###1  åœ¨ while çš„å˜é‡ä¸­æ·»åŠ  o å¹¶ä¸”åœ¨ case ä¸­æ·»åŠ å¯¹åº”å¤„ç†</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>        o<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>            <span class=\"token assign-left variable\">PORT</span><span class=\"token operator\">=</span><span class=\"token variable\">$OPTARG</span><span class=\"token punctuation\">;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        </pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\">###2  åœ¨ nohup å’Œ \"$JAVA_OPT_EXT_FIX\" ä¹‹å‰é…ç½®è¿™ä¸ª</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>     <span class=\"token variable\">$JAVA</span> <span class=\"token parameter variable\">-Dserver.port</span><span class=\"token operator\">=</span><span class=\"token variable\">$&#123;PORT&#125;</span></pre></td></tr></table></figure><p><img data-src=\"/2022/10/15/Nacos-tool/1648643016965.png\" class=\"\"></p>\n<p><img data-src=\"/2022/10/15/Nacos-tool/1648643157451.png\" class=\"\"></p>\n<h5 id=\"3-é…ç½®nginx\"><a class=\"anchor\" href=\"#3-é…ç½®nginx\">#</a> 3ã€é…ç½® nginx</h5>\n<p>ä¸‹å›¾æ˜¯ http çš„è½¬å‘ï¼Œä½†æ˜¯è¿˜æ˜¯ TCP çš„æ›´å¥½</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>upstream  cluster<span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>\tserver <span class=\"token number\">192.168</span>.1.52:3333<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>\tserver <span class=\"token number\">192.168</span>.1.52:4444<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>\tserver <span class=\"token number\">192.168</span>.1.52:5555<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>\tproxy_pass  http://cluter<span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p><strong>å›¾ç‰‡ä¸­  <code>cluster</code>  å†™é”™äº† å°‘äº†ä¸€ä¸ª <code>s</code>  ï¼Œå…¶å®é—®é¢˜ä¹Ÿä¸å¤§ï¼Œä½†æ˜¯è¦ä¸“ä¸šï½ï½</strong></p>\n<p><img data-src=\"/2022/10/15/Nacos-tool/1648643539716.png\" class=\"\"></p>\n<p>TCP æ ¼å¼ï¼š</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>worker_processes  <span class=\"token number\">1</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>events <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    worker_connections  <span class=\"token number\">1024</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>stream <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>      upstream nacos <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        server <span class=\"token number\">192.168</span>.1.52:8848<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        server <span class=\"token number\">192.168</span>.1.52:8868<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        server <span class=\"token number\">192.168</span>.1.52:8888<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre></pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>     server <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        listen  <span class=\"token number\">81</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        proxy_pass nacos<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>     <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h5 id=\"4-å¯åŠ¨nginx\"><a class=\"anchor\" href=\"#4-å¯åŠ¨nginx\">#</a> 4ã€å¯åŠ¨ Nginx</h5>\n<pre><code class=\"language-shell\">\n</code></pre>\n<h5 id=\"5-æŸ¥çœ‹æµ‹è¯•\"><a class=\"anchor\" href=\"#5-æŸ¥çœ‹æµ‹è¯•\">#</a> 5ã€æŸ¥çœ‹æµ‹è¯•</h5>\n<p><span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMS41Mjo4MC9uYWNvcw==\">http://192.168.1.52:80/nacos</span></p>\n<h5 id=\"6-nacosæŒä¹…åŒ–\"><a class=\"anchor\" href=\"#6-nacosæŒä¹…åŒ–\">#</a> 6ã€Nacos æŒä¹…åŒ–</h5>\n<p>æˆ‘ä»¬åœ¨é…ç½®çš„æ—¶å€™æ²¡æœ‰ä¿®æ”¹ä»–çš„æ•°æ®åº“ï¼Œç”¨çš„æ˜¯è‡ªå¸¦çš„ deeryï¼Œå¦‚æœæ˜¯çœŸçš„è¦éƒ¨ç½²è¦ä¿®æ”¹æˆ mysqlã€‚è¿™ä¸ªç†Ÿæ‚‰</p>\n<ol>\n<li>åœ¨ Linux ç³»ç»Ÿä¸Šæ‰§è¡Œ SQL è„šæœ¬ï¼Œå…·ä½“ä½ç½®åœ¨ nacos ç›®å½•ä¸‹çš„ conf ä¸­ï¼Œè¿™é‡Œçš„æ“ä½œå’Œä¹‹å‰æ˜¯ä¸€æ ·çš„ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥æ‰“å¼€è¿™ä¸ªæ–‡ä»¶ç„¶åæ‹·è´åˆ°æ•°æ®åº“ä¸­æ‰§è¡Œï¼Œå½“ç„¶ä¹Ÿæ˜¯è¦åˆ›å»ºæ•°æ®åº“ä½¿ç”¨æ•°æ®åº“ç„¶ååœ¨å¤åˆ¶è„šæœ¬å†…å®¹ï¼Œæ‰§è¡Œå³å¯</li>\n</ol>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>create database nacos_config<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>use nacos_config<span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p><img data-src=\"/2022/10/15/Nacos-tool/image-20210929175710498.png\" class=\"\"></p>\n<ol start=\"2\">\n<li>ä¿®æ”¹ application.properties é…ç½®æ–‡ä»¶ï¼Œä½†æ˜¯ä¿®æ”¹ä¹‹å‰æˆ‘ä»¬æœ€å¥½åšä¸€ä¸ªå¤‡ä»½ã€‚</li>\n</ol>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>cp application<span class=\"token punctuation\">.</span>properties application<span class=\"token punctuation\">.</span>properties<span class=\"token punctuation\">.</span>init</pre></td></tr></table></figure><ol start=\"3\">\n<li>è¿™é‡Œçš„ä¿®æ”¹å’Œæˆ‘ä»¬ä¹‹é—´çš„åœ¨ win ä¸Šçš„ä¿®æ”¹æ˜¯å®Œå…¨ä¸€æ ·çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬åªè¦æ‰“å¼€è¿™ä¸ªæ–‡ä»¶ï¼ŒåŠ ä¸Šå¯¹åº”çš„å†…å®¹å³å¯</li>\n</ol>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>spring<span class=\"token punctuation\">.</span>datasource<span class=\"token punctuation\">.</span>platform<span class=\"token operator\">=</span>mysql</pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>db<span class=\"token punctuation\">.</span>num<span class=\"token operator\">=</span><span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>db<span class=\"token punctuation\">.</span>url<span class=\"token punctuation\">.</span><span class=\"token number\">0</span><span class=\"token operator\">=</span>jdbc<span class=\"token operator\">:</span>mysql<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span><span class=\"token number\">127.0</span><span class=\"token number\">.0</span><span class=\"token number\">.1</span><span class=\"token operator\">:</span><span class=\"token number\">3306</span><span class=\"token operator\">/</span>nacos_config<span class=\"token operator\">?</span>characterEncoding<span class=\"token operator\">=</span>utf8<span class=\"token operator\">&amp;</span>connectTimeout<span class=\"token operator\">=</span><span class=\"token number\">1000</span><span class=\"token operator\">&amp;</span>socketTimeout<span class=\"token operator\">=</span><span class=\"token number\">3000</span><span class=\"token operator\">&amp;</span>autoReconnect<span class=\"token operator\">=</span><span class=\"token boolean\">true</span><span class=\"token operator\">&amp;</span>serverTimezone<span class=\"token operator\">=</span><span class=\"token constant\">UTC</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>db<span class=\"token punctuation\">.</span>user<span class=\"token operator\">=</span>root</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>db<span class=\"token punctuation\">.</span>password<span class=\"token operator\">=</span><span class=\"token number\">123456</span></pre></td></tr></table></figure><ol start=\"4\">\n<li>è¿˜è¦æ³¨æ„ä¸€ç‚¹ï¼Œå¦‚æœæ˜¯ä¸€å°æœºå­ä¸Šéƒ¨ç½²è¦ä¿®æ”¹æœåŠ¡ç«¯å£</li>\n</ol>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>#<span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span> <span class=\"token class-name\">Spring</span> <span class=\"token class-name\">Boot</span> <span class=\"token class-name\">Related</span> <span class=\"token class-name\">Configurations</span> <span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span>#</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>##### <span class=\"token class-name\">Default</span> web context path<span class=\"token operator\">:</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>server<span class=\"token punctuation\">.</span>servlet<span class=\"token punctuation\">.</span>contextPath<span class=\"token operator\">=</span><span class=\"token operator\">/</span>nacos</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>##### <span class=\"token class-name\">Default</span> web server port<span class=\"token operator\">:</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>###fæœåŠ¡ç«¯å£</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>server<span class=\"token punctuation\">.</span>port<span class=\"token operator\">=</span><span class=\"token number\">8888</span><span class=\"token operator\">/</span><span class=\"token number\">8868</span></pre></td></tr></table></figure>",
            "tags": []
        },
        {
            "id": "http://example.com/2022/10/15/MySQL-tool/",
            "url": "http://example.com/2022/10/15/MySQL-tool/",
            "title": "MySQL",
            "date_published": "2022-10-15T04:52:38.166Z",
            "content_html": "<h3 id=\"mysqlå®‰è£…windows\"><a class=\"anchor\" href=\"#mysqlå®‰è£…windows\">#</a> MySQL å®‰è£…ï¼ˆWindowsï¼‰</h3>\n<h4 id=\"1mysqlçš„ç‰ˆæœ¬\"><a class=\"anchor\" href=\"#1mysqlçš„ç‰ˆæœ¬\">#</a> ã€1ã€‘MySQL çš„ç‰ˆæœ¬ï¼š</h4>\n<p>è¿‘æœŸä¸»è¦å†å²ç‰ˆæœ¬æœ‰ 5.0/5.1/5.5/5.6/5.7ï¼Œç›®å‰æœ€æ–°ç‰ˆæœ¬æ˜¯ MySQL8ã€‚6.0 æ›¾ç»æ˜¯ä¸ªå†…éƒ¨è¯•éªŒç‰ˆæœ¬ï¼Œå·²å–æ¶ˆäº†ã€‚</p>\n<p>MySQL8.0 çš„ç‰ˆæœ¬å†å²</p>\n<ol>\n<li>2016-09-12 ç¬¬ä¸€ä¸ª DM (development milestone) ç‰ˆæœ¬ 8.0.0 å‘å¸ƒ</li>\n<li>2018-04-19 ç¬¬ä¸€ä¸ª GA (General Availability) ç‰ˆæœ¬å¼€å§‹ï¼Œ8.0.11 å‘å¸ƒ</li>\n<li>2018-07-27 8.0.12GA å‘å¸ƒ</li>\n<li>2018-10-22 8.0.13GA å‘å¸ƒ</li>\n<li>2019-01-21 8.0.14GA å‘å¸ƒ</li>\n<li>2019-02-01 8.0.15GA å‘å¸ƒ</li>\n<li>æœ€æ–°çš„ç‰ˆæœ¬æ˜¯ 8.0.18,2019 å¹´ 10 æœˆ 14 æ—¥æ­£å¼å‘å¸ƒ</li>\n<li>.... åç»­æ›´æ–°</li>\n</ol>\n<h4 id=\"2å®˜æ–¹ä¸‹è½½åœ°å€\"><a class=\"anchor\" href=\"#2å®˜æ–¹ä¸‹è½½åœ°å€\">#</a> ã€2ã€‘å®˜æ–¹ä¸‹è½½åœ°å€ï¼š</h4>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9kZXYubXlzcWwuY29tL2Rvd25sb2Fkcy93aW5kb3dzL2luc3RhbGxlci84LjAuaHRtbA==\">https://dev.mysql.com/downloads/windows/installer/8.0.html</span></p>\n<p><img data-src=\"/2022/10/15/MySQL-tool/1646193598821.png\" class=\"\"></p>\n<h4 id=\"3å®‰è£…è¿‡ç¨‹\"><a class=\"anchor\" href=\"#3å®‰è£…è¿‡ç¨‹\">#</a> ã€3ã€‘å®‰è£…è¿‡ç¨‹ï¼š</h4>\n<p><strong>1. åŒå‡» MySQL å®‰è£…æ–‡ä»¶ mysql-installer-community-8.0.18.0.msiï¼Œå‡ºç°å®‰è£…ç±»å‹é€‰é¡¹ã€‚</strong></p>\n<ul>\n<li>\n<p>Developer Defaultï¼šå¼€å‘è€…é»˜è®¤</p>\n</li>\n<li>\n<p>Server onlyï¼šåªå®‰è£…æœåŠ¡å™¨ç«¯</p>\n</li>\n<li>\n<p>Client onlyï¼šåªå®‰è£…å®¢æˆ·ç«¯</p>\n</li>\n<li>\n<p>Fullï¼šå®‰è£…å…¨éƒ¨é€‰é¡¹</p>\n</li>\n<li>\n<p>Customï¼šè‡ªå®šä¹‰å®‰è£…</p>\n</li>\n</ul>\n<p><img data-src=\"/2022/10/15/MySQL-tool/1646193860553.png\" class=\"\"></p>\n<p><strong>2. é€‰æ‹©ï¼Œç„¶åç»§ç»­ï¼š</strong></p>\n<p><img data-src=\"/2022/10/15/MySQL-tool/1646193913998.png\" class=\"\"></p>\n<p><strong>3. è¿›å…¥äº§å“é…ç½®å‘å¯¼ï¼Œé…ç½®å¤šä¸ªå®‰è£…ç»†èŠ‚ï¼Œç‚¹å‡» Next æŒ‰é’®å³å¯ã€‚</strong></p>\n<p><img data-src=\"/2022/10/15/MySQL-tool/1646193920702.png\" class=\"\"></p>\n<p><strong>4. é«˜å¯é æ€§ High Availabilityï¼Œé‡‡ç”¨é»˜è®¤é€‰é¡¹å³å¯ã€‚</strong></p>\n<ul>\n<li>\n<p>Standalone MySQL Server/Classic MySQL Replication: ç‹¬ç«‹ MySQL æœåŠ¡å™¨ / ç»å…¸ MySQL å¤åˆ¶</p>\n</li>\n<li>\n<p>InnoDB Cluster:InnoDB é›†ç¾¤</p>\n</li>\n</ul>\n<p><img data-src=\"/2022/10/15/MySQL-tool/1646193926612.png\" class=\"\"></p>\n<p><strong>5. ç±»å‹å’Œç½‘ç»œ Type and Networkingï¼Œé‡‡ç”¨é»˜è®¤é€‰é¡¹å³å¯ã€‚è®°ä½ MySQL çš„ç›‘å¬ç«¯å£é»˜è®¤æ˜¯ 3306ã€‚</strong></p>\n<p><img data-src=\"/2022/10/15/MySQL-tool/1646193950590.png\" class=\"\"></p>\n<p><strong>6. èº«ä»½éªŒè¯æ–¹æ³• Authentication Methodï¼Œé‡‡ç”¨é»˜è®¤é€‰é¡¹å³å¯ã€‚</strong></p>\n<p><img data-src=\"/2022/10/15/MySQL-tool/1646193956569.png\" class=\"\" width=\"1646193956569\"></p>\n<p><strong>7. è´¦æˆ·å’Œè§’è‰² Accounts and Rolesã€‚MySQL ç®¡ç†å‘˜è´¦æˆ·åç§°æ˜¯ rootï¼Œåœ¨æ­¤å¤„æŒ‡å®š root ç”¨æˆ·çš„å¯†ç ã€‚è¿˜å¯ä»¥åœ¨æ­¤å¤„é€šè¿‡ Add User æŒ‰é’®æ·»åŠ å…¶ä»–æ–°è´¦æˆ·ï¼Œæ­¤å¤„çœç•¥è¯¥æ“ä½œã€‚</strong></p>\n<p><img data-src=\"/2022/10/15/MySQL-tool/1646193968510.png\" class=\"\"></p>\n<p><strong>8.Windows æœåŠ¡ï¼šWindows Serviceã€‚</strong></p>\n<ul>\n<li>\n<p>Configure MySQL Server as a Windows Service: ç»™ MySQL æœåŠ¡å™¨é…ç½®ä¸€ä¸ªæœåŠ¡é¡¹ã€‚</p>\n</li>\n<li>\n<p>Windows Service Name: æœåŠ¡åç§°ï¼Œé‡‡ç”¨é»˜è®¤åç§° MySQL80 å³å¯ã€‚</p>\n</li>\n<li>\n<p>Start the MySQL at System Startupï¼šç³»ç»Ÿå¯åŠ¨æ—¶å¼€å¯ MySQL æœåŠ¡</p>\n</li>\n</ul>\n<p><img data-src=\"/2022/10/15/MySQL-tool/1646193985805.png\" class=\"\"></p>\n<p><strong>9.Apply Configurationï¼šç‚¹å‡» Execute æŒ‰é’®æ‰§è¡Œå¼€å§‹åº”ç”¨è¿™äº›é…ç½®é¡¹ã€‚</strong></p>\n<ul>\n<li>\n<p>Writing configuration file: å†™é…ç½®æ–‡ä»¶ã€‚</p>\n</li>\n<li>\n<p>Updating Windows Firewall rulesï¼šæ›´æ–° Windows é˜²ç«å¢™è§„åˆ™</p>\n</li>\n<li>\n<p>Adjusting Windows servicesï¼šè°ƒæ•´ Windows æœåŠ¡</p>\n</li>\n<li>\n<p>Initializing databaseï¼šåˆå§‹åŒ–æ•°æ®åº“</p>\n</li>\n<li>\n<p>Starting the serverï¼š å¯åŠ¨æœåŠ¡å™¨</p>\n</li>\n<li>\n<p>Applying security settingï¼šåº”ç”¨å®‰å…¨è®¾ç½®</p>\n</li>\n<li>\n<p>Updating the Start menu linkï¼šæ›´æ–°å¼€å§‹èœå•å¿«æ·æ–¹å¼é“¾æ¥</p>\n</li>\n</ul>\n<p><img data-src=\"/2022/10/15/MySQL-tool/1646194015388.png\" class=\"\"></p>\n<p><strong>PSï¼šå¦‚æœé…ç½®å‡ºé”™ï¼ŒæŸ¥çœ‹å³ä¾§çš„ logï¼ŒæŸ¥çœ‹å¯¹åº”é”™è¯¯ä¿¡æ¯ã€‚</strong><br />\n<strong>æ‰§è¡Œå®Œæˆåï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚å•å‡» Finish å®Œæˆå®‰è£…ï¼Œè¿›å…¥äº§å“é…ç½®ç¯èŠ‚ã€‚</strong></p>\n<p><img data-src=\"/2022/10/15/MySQL-tool/1646194023800.png\" class=\"\"></p>\n<p><strong>10. äº§å“é…ç½® Product Configuration åˆ°æ­¤ç»“æŸï¼šç‚¹å‡» Next æŒ‰é’®ã€‚</strong></p>\n<p><img data-src=\"/2022/10/15/MySQL-tool/1646194031356.png\" class=\"\"></p>\n<p><strong>11. å®‰è£…å®Œæˆ Installation Completeã€‚ç‚¹å‡» Finish æŒ‰é’®å®Œæˆå®‰è£…ã€‚</strong></p>\n<p><img data-src=\"/2022/10/15/MySQL-tool/1646194038230.png\" class=\"\"></p>\n<h4 id=\"4mysqlé…ç½®-ç™»å½•\"><a class=\"anchor\" href=\"#4mysqlé…ç½®-ç™»å½•\">#</a> ã€4ã€‘MySQL é…ç½®ã€ç™»å½•</h4>\n<p><strong>ã€1ã€‘ç™»å½•ï¼š</strong><br />\nè®¿é—® MySQL æœåŠ¡å™¨å¯¹åº”çš„å‘½ä»¤ï¼šmysql.exe , ä½ç½®ï¼šC:\\Program Files\\MySQL\\MySQL Server 8.0\\bin</p>\n<p><img data-src=\"/2022/10/15/MySQL-tool/1646194179663.png\" class=\"\"></p>\n<p>ï¼ˆmysql.exe éœ€è¦å¸¦å‚æ•°æ‰§è¡Œï¼Œæ‰€ä»¥ç›´æ¥åœ¨å›¾å½¢ç•Œé¢ä¸‹æ‰§è¡Œè¯¥å‘½ä»¤ä¼šè‡ªåŠ¨ç»“æŸï¼‰</p>\n<p>æ‰“å¼€æ§åˆ¶å‘½ä»¤å°ï¼šwin+r:</p>\n<p><img data-src=\"/2022/10/15/MySQL-tool/1646194204312.png\" class=\"\"></p>\n<p>æ‰§è¡Œ mysql.exe å‘½ä»¤çš„æ—¶å€™å‡ºç°é”™è¯¯ï¼š</p>\n<p><img data-src=\"/2022/10/15/MySQL-tool/1646194212295.png\" class=\"\"></p>\n<p>éœ€è¦é…ç½®ç¯å¢ƒå˜é‡ path:</p>\n<p><img data-src=\"/2022/10/15/MySQL-tool/1646194221073.png\" class=\"\"></p>\n<p><strong>æ³¨æ„ï¼šæ§åˆ¶å‘½ä»¤å°å¿…é¡»é‡å¯æ‰ä¼šç”Ÿæ•ˆï¼š</strong></p>\n<p><strong>ç™»å½•çš„å‘½ä»¤ï¼šmysql  -hlocalhost -uroot â€“p</strong></p>\n<ul>\n<li>\n<p>mysqlï¼šbin ç›®å½•ä¸‹çš„æ–‡ä»¶ mysql.exeã€‚mysql æ˜¯ MySQL çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œæ˜¯ä¸€ä¸ªå®¢æˆ·ç«¯è½¯ä»¶ï¼Œå¯ä»¥å¯¹ä»»ä½•ä¸»æœºçš„ mysql æœåŠ¡ï¼ˆå³åå°è¿è¡Œçš„ mysqldï¼‰å‘èµ·è¿æ¥ã€‚</p>\n</li>\n<li>\n<p>-hï¼šhost ä¸»æœºåã€‚åé¢è·Ÿè¦è®¿é—®çš„æ•°æ®åº“æœåŠ¡å™¨çš„åœ°å€ï¼›<strong>å¦‚æœæ˜¯ç™»å½•æœ¬æœºï¼Œå¯ä»¥çœç•¥</strong></p>\n</li>\n<li>\n<p>-uï¼šuser ç”¨æˆ·åã€‚åé¢è·Ÿç™»å½•æ•°æ®çš„ç”¨æˆ·åï¼Œç¬¬ä¸€æ¬¡å®‰è£…åä»¥ root ç”¨æˆ·æ¥ç™»å½•ï¼Œæ˜¯ MySQL çš„ç®¡ç†å‘˜ç”¨æˆ·</p>\n</li>\n<li>\n<p>-p:   password å¯†ç ã€‚ä¸€èˆ¬ä¸ç›´æ¥è¾“å…¥ï¼Œè€Œæ˜¯å›è½¦åä»¥ä¿å¯†æ–¹å¼è¾“å…¥ã€‚</p>\n<p><img data-src=\"/2022/10/15/MySQL-tool/1646194262329.png\" class=\"\" width=\"1646194262329\"></p>\n</li>\n</ul>\n<p><strong>ã€2ã€‘è®¿é—®æ•°æ®åº“</strong></p>\n<p>æ˜¾ç¤º MySQL ä¸­çš„æ•°æ®åº“åˆ—è¡¨ï¼š</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>show databases<span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p>é»˜è®¤æœ‰å››ä¸ªè‡ªå¸¦çš„æ•°æ®åº“ï¼Œæ¯ä¸ªæ•°æ®åº“ä¸­å¯ä»¥æœ‰å¤šä¸ªæ•°æ®åº“è¡¨ã€è§†å›¾ç­‰å¯¹è±¡ã€‚</p>\n<p>åˆ‡æ¢å½“å‰æ•°æ®åº“çš„å‘½ä»¤ï¼š</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>use mysql<span class=\"token punctuation\">;</span></pre></td></tr></table></figure><ul>\n<li>\n<p>MySQL ä¸‹å¯ä»¥æœ‰å¤šä¸ªæ•°æ®åº“ï¼Œå¦‚æœè¦è®¿é—®å“ªä¸ªæ•°æ®åº“ï¼Œéœ€è¦å°†å…¶ç½®ä¸ºå½“å‰æ•°æ®åº“ã€‚</p>\n</li>\n<li>\n<p>è¯¥å‘½ä»¤çš„ä½œç”¨å°±æ˜¯å°†æ•°æ®åº“ mysqlï¼ˆé»˜è®¤æä¾›çš„å››ä¸ªæ•°æ®åº“ä¹‹ä¸€çš„åå­—ï¼‰ç½®ä¸ºå½“å‰æ•°æ®åº“</p>\n</li>\n</ul>\n<p>æ˜¾ç¤ºå½“å‰æ•°æ®åº“çš„æ‰€æœ‰æ•°æ®åº“è¡¨ï¼š</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>show tables<span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p>MySQL å±‚æ¬¡ï¼šä¸åŒé¡¹ç›®å¯¹åº”ä¸åŒçš„æ•°æ®åº“ç»„æˆ - æ¯ä¸ªæ•°æ®åº“ä¸­æœ‰å¾ˆå¤šè¡¨  - æ¯ä¸ªè¡¨ä¸­æœ‰å¾ˆå¤šæ•°æ®</p>\n<p><strong>ã€3ã€‘é€€å‡ºæ•°æ®åº“</strong></p>\n<p>é€€å‡ºæ•°æ®åº“å¯ä»¥ä½¿ç”¨ quit æˆ–è€… exit å‘½ä»¤å®Œæˆï¼Œä¹Ÿå¯ä»¥ç”¨ \\q;  å®Œæˆé€€å‡ºæ“ä½œ</p>\n<p><img data-src=\"/2022/10/15/MySQL-tool/1646194349092.png\" class=\"\"></p>\n<h4 id=\"5å¸è½½\"><a class=\"anchor\" href=\"#5å¸è½½\">#</a> ã€5ã€‘å¸è½½</h4>\n<p><strong>1) åœæ­¢ MySQL æœåŠ¡ï¼šåœ¨å‘½ä»¤è¡Œæ¨¡å¼ä¸‹æ‰§è¡Œ net stop mysql æˆ–è€…åœ¨ Windows æœåŠ¡çª—å£ä¸‹åœæ­¢æœåŠ¡</strong></p>\n<p><img data-src=\"/2022/10/15/MySQL-tool/1646194422719.png\" class=\"\"></p>\n<p><strong>2) åœ¨æ§åˆ¶é¢æ¿ä¸­åˆ é™¤ MySQL è½¯ä»¶</strong></p>\n<p><img data-src=\"/2022/10/15/MySQL-tool/1646194431091.png\" class=\"\"></p>\n<p><strong>3) åˆ é™¤è½¯ä»¶æ–‡ä»¶å¤¹ï¼šç›´æ¥åˆ é™¤å®‰è£…æ–‡ä»¶å¤¹ C:\\Program Files\\MySQLï¼Œå…¶å®æ­¤æ—¶è¯¥æ–‡ä»¶å¤¹å·²ç»è¢«åˆ é™¤æˆ–è€…å‰©ä¸‹ä¸€ä¸ªç©ºæ–‡ä»¶å¤¹ã€‚</strong></p>\n<p><strong>4) åˆ é™¤æ•°æ®æ–‡ä»¶å¤¹ï¼šç›´æ¥åˆ é™¤æ–‡ä»¶å¤¹ C:\\ProgramData\\MySQLã€‚æ­¤æ­¥ä¸è¦å¿˜è®°ï¼Œå¦åˆ™ä¼šå½±å“ MySQL çš„å†æ¬¡å®‰è£…ã€‚</strong><br />\n<strong>ï¼ˆProgramData æ–‡ä»¶å¤¹å¯èƒ½æ˜¯éšè—çš„ï¼Œæ˜¾ç¤ºå‡ºæ¥å³å¯ï¼‰</strong><br />\n<strong>ï¼ˆMySQL æ–‡ä»¶ä¸‹çš„å†…å®¹æ‰æ˜¯çœŸæ­£çš„ MySQL ä¸­æ•°æ®ï¼‰</strong></p>\n<p><strong>5) åˆ é™¤ path ç¯å¢ƒå˜é‡ä¸­å…³äº MySQL å®‰è£…è·¯å¾„çš„é…ç½®</strong></p>\n<h3 id=\"mysql-å®‰è£…linux\"><a class=\"anchor\" href=\"#mysql-å®‰è£…linux\">#</a> MySQL å®‰è£…ï¼ˆLinuxï¼‰</h3>\n<h4 id=\"11\"><a class=\"anchor\" href=\"#11\">#</a> â€”â€”1.1</h4>\n<p>MySQL å®‰è£…</p>\n<h5 id=\"1-å¸è½½åŸæ¥çš„ç‰ˆæœ¬\"><a class=\"anchor\" href=\"#1-å¸è½½åŸæ¥çš„ç‰ˆæœ¬\">#</a> 1ã€å¸è½½åŸæ¥çš„ç‰ˆæœ¬</h5>\n<h6 id=\"1-æŸ¥çœ‹mysqlçš„å®‰è£…æƒ…å†µ\"><a class=\"anchor\" href=\"#1-æŸ¥çœ‹mysqlçš„å®‰è£…æƒ…å†µ\">#</a> 1ã€æŸ¥çœ‹ mysql çš„å®‰è£…æƒ…å†µ</h6>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">rpm</span> <span class=\"token parameter variable\">-qa</span> <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> <span class=\"token parameter variable\">-i</span> mysql</pre></td></tr></table></figure><p><img data-src=\"/2022/10/15/MySQL-tool/1570605325400.png\" class=\"\"></p>\n<h6 id=\"2-åˆ é™¤ä¸Šå›¾å®‰è£…çš„è½¯ä»¶\"><a class=\"anchor\" href=\"#2-åˆ é™¤ä¸Šå›¾å®‰è£…çš„è½¯ä»¶\">#</a> 2ã€åˆ é™¤ä¸Šå›¾å®‰è£…çš„è½¯ä»¶</h6>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">rpm</span> <span class=\"token parameter variable\">-ev</span> <span class=\"token parameter variable\">--nodeps</span> mysql57-community-release-el5-7.noarch</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">rpm</span> <span class=\"token parameter variable\">-ev</span> <span class=\"token parameter variable\">--nodeps</span> mysql-community-server-5.7.18-1.el5.x86_64</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">rpm</span> <span class=\"token parameter variable\">-ev</span> <span class=\"token parameter variable\">--nodeps</span> mysql-community-client-5.7.18-1.el5.x86_64</pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token function\">rpm</span> <span class=\"token parameter variable\">-ev</span> <span class=\"token parameter variable\">--nodeps</span> mysql-community-libs-5.7.18-1.el5.x86_64</pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token function\">rpm</span> <span class=\"token parameter variable\">-ev</span> <span class=\"token parameter variable\">--nodeps</span> mysql-community-common-5.7.18-1.el5.x86_64</pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token function\">rpm</span> <span class=\"token parameter variable\">-ev</span> <span class=\"token parameter variable\">--nodeps</span> mysql-5.7.18-1.el5.x86_64</pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token function\">rpm</span> <span class=\"token parameter variable\">-ev</span> <span class=\"token parameter variable\">--nodeps</span> mysql-community-libs-compat-5.7.18-1.el5.x86_64</pre></td></tr></table></figure><h6 id=\"3-éƒ½åˆ é™¤æˆåŠŸä¹‹åæŸ¥æ‰¾ç›¸å…³çš„mysqlçš„æ–‡ä»¶\"><a class=\"anchor\" href=\"#3-éƒ½åˆ é™¤æˆåŠŸä¹‹åæŸ¥æ‰¾ç›¸å…³çš„mysqlçš„æ–‡ä»¶\">#</a> 3ã€éƒ½åˆ é™¤æˆåŠŸä¹‹åï¼ŒæŸ¥æ‰¾ç›¸å…³çš„ mysql çš„æ–‡ä»¶</h6>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">find</span> / <span class=\"token parameter variable\">-name</span> mysql</pre></td></tr></table></figure><p><img data-src=\"/2022/10/15/MySQL-tool/1570605553095.png\" class=\"\"></p>\n<h6 id=\"4-åˆ é™¤å…¨éƒ¨æ–‡ä»¶\"><a class=\"anchor\" href=\"#4-åˆ é™¤å…¨éƒ¨æ–‡ä»¶\">#</a> 4ã€åˆ é™¤å…¨éƒ¨æ–‡ä»¶</h6>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">rm</span> <span class=\"token parameter variable\">-rf</span> /etc/selinux/targeted/active/modules/100/mysql</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">rm</span> <span class=\"token parameter variable\">-rf</span> /root/mysql</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">rm</span> <span class=\"token parameter variable\">-rf</span> /root/mysql/data/mysql</pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token function\">rm</span> <span class=\"token parameter variable\">-rf</span> /var/lib/mysql</pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token function\">rm</span> <span class=\"token parameter variable\">-rf</span> /var/lib/mysql/mysql</pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token function\">rm</span> <span class=\"token parameter variable\">-rf</span> /usr/share/mysql</pre></td></tr></table></figure><h6 id=\"5-å†æ¬¡æ‰§è¡Œå‘½ä»¤\"><a class=\"anchor\" href=\"#5-å†æ¬¡æ‰§è¡Œå‘½ä»¤\">#</a> 5ã€å†æ¬¡æ‰§è¡Œå‘½ä»¤</h6>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">rpm</span> <span class=\"token parameter variable\">-qa</span> <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> <span class=\"token parameter variable\">-i</span> mysql</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\">### å¦‚æœæ²¡æœ‰æ˜¾å¼åˆ™è¡¨ç¤ºå¸è½½å®Œæˆ</span></pre></td></tr></table></figure><h5 id=\"2-åˆ é™¤mariadb-libsä¸å¯çœç•¥\"><a class=\"anchor\" href=\"#2-åˆ é™¤mariadb-libsä¸å¯çœç•¥\">#</a> 2ã€åˆ é™¤ mariadb-libs (ä¸å¯çœç•¥)</h5>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">### æ£€æŸ¥ mariadb-libs</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">rpm</span> -qa<span class=\"token operator\">|</span><span class=\"token function\">grep</span> mariadb</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">### å¸è½½ mariadb-libs</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>yum remove mariadb-libs</pre></td></tr></table></figure><h5 id=\"3-å®‰è£…mysql\"><a class=\"anchor\" href=\"#3-å®‰è£…mysql\">#</a> 3ã€å®‰è£… MySQL</h5>\n<h6 id=\"1è¾“å…¥\"><a class=\"anchor\" href=\"#1è¾“å…¥\">#</a> 1ï¼Œè¾“å…¥</h6>\n<p>wegt <span class=\"exturl\" data-url=\"aHR0cHM6Ly9kZXYubXlzcWwuY29tL2dldC9teXNxbCVFNyU4OSU4OCVFNiU5QyVBQyVFNSU4RiVCNy1jb21tdW5pdHktcmVsZWFzZS1lbCVFNSVBNCVBNyVFNyU4OSU4OCVFNiU5QyVBQy0lRTUlQjAlOEYlRTclODklODglRTYlOUMlQUMubm9hcmNoLnJwbQ==\">https://dev.mysql.com/get/mysql ç‰ˆæœ¬å· - community-release-el å¤§ç‰ˆæœ¬ - å°ç‰ˆæœ¬.noarch.rpm</span></p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">wget</span> https://dev.mysql.com/get/mysql57-community-release-el5-7.noarch.rpm</pre></td></tr></table></figure><h6 id=\"2-å®‰è£…æ•°æ®æº\"><a class=\"anchor\" href=\"#2-å®‰è£…æ•°æ®æº\">#</a> 2ã€å®‰è£…æ•°æ®æº</h6>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>yum <span class=\"token function\">install</span> mysql57-community-release-el5-7.noarch.rpm</pre></td></tr></table></figure><h6 id=\"3-æŸ¥çœ‹mysqlæºæ˜¯å¦å®‰è£…æˆåŠŸ\"><a class=\"anchor\" href=\"#3-æŸ¥çœ‹mysqlæºæ˜¯å¦å®‰è£…æˆåŠŸ\">#</a> 3ã€æŸ¥çœ‹ mysql æºæ˜¯å¦å®‰è£…æˆåŠŸ</h6>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>yum repolist enabled <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> <span class=\"token string\">\"mysql.*-community.*\"</span></pre></td></tr></table></figure><h6 id=\"4-å®‰è£…æ•°æ®åº“\"><a class=\"anchor\" href=\"#4-å®‰è£…æ•°æ®åº“\">#</a> 4ã€å®‰è£…æ•°æ®åº“</h6>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>yum <span class=\"token function\">install</span> mysql-community-server</pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\">### å¦‚æœè¿‡æœŸå¯ä»¥åœ¨è¿è¡Œå®‰è£…ç¨‹åºä¹‹å‰å¯¼å…¥å¯†é’¥</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token function\">rpm</span> <span class=\"token parameter variable\">--import</span> https://repo.mysql.com/RPM-GPG-KEY-mysql-2022</pre></td></tr></table></figure><h6 id=\"5-å¯åŠ¨mysql\"><a class=\"anchor\" href=\"#5-å¯åŠ¨mysql\">#</a> 5ã€å¯åŠ¨ mysql</h6>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">### centos7</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>systemctl restart mysqld</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>systemctl status mysqld</pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token comment\">### centos6</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token function\">service</span> mysqld start</pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token function\">service</span> mysqld status</pre></td></tr></table></figure><h6 id=\"6-æ˜¾ç¤ºmysqlçš„éšæœºå¯†ç \"><a class=\"anchor\" href=\"#6-æ˜¾ç¤ºmysqlçš„éšæœºå¯†ç \">#</a> 6ã€æ˜¾ç¤º mysql çš„éšæœºå¯†ç </h6>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">grep</span> <span class=\"token string\">'temporary password'</span> /var/log/mysqld.log</pre></td></tr></table></figure><p><img data-src=\"/2022/10/15/MySQL-tool/image-20220827193405451.png\" class=\"\"></p>\n<h6 id=\"7-ç™»å½•å¹¶ä¿®æ”¹mysqlå¯†ç \"><a class=\"anchor\" href=\"#7-ç™»å½•å¹¶ä¿®æ”¹mysqlå¯†ç \">#</a> 7ã€ç™»å½•å¹¶ä¿®æ”¹ mysql å¯†ç </h6>\n<p>ç™»å½•ï¼šmysql -u root -p   \t\tç„¶åè¾“å…¥ä¸Šé¢ç”Ÿæˆçš„å¯†ç </p>\n<p><strong><em>ä¿®æ”¹è‡ªå®šä¹‰å¯†ç ï¼Œè®¾ç½®è‡ªå·±æƒ³è¦çš„å¯†ç </em></strong></p>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">-- ALTER USER 'root'@'localhost' IDENTIFIED BY ' å¯†ç  ';</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">USER</span> <span class=\"token string\">'root'</span><span class=\"token variable\">@'localhost'</span> IDENTIFIED <span class=\"token keyword\">BY</span> <span class=\"token string\">'root'</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p><strong><em>å¤±è´¥äº†çš„è¯å°±ä¿®æ”¹ç­–ç•¥ï¼Œå°†ç­–ç•¥é™ä½ä¸€ä¸‹å°±å¯ä»¥äº†</em></strong></p>\n<p>æŸ¥çœ‹å¯†ç ç­–ç•¥ï¼š</p>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">SHOW</span> VARIABLES <span class=\"token operator\">LIKE</span> <span class=\"token string\">'validate_password%'</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p>ä¿®æ”¹å¯†ç ç­–ç•¥</p>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">-- ä¿®æ”¹å¯†ç é•¿åº¦ï¼šï¼ˆé•¿åº¦ï¼‰</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">set</span> <span class=\"token keyword\">global</span> validate_password<span class=\"token punctuation\">.</span>length<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">-- ä¿®æ”¹å¯†ç ç­‰çº§ï¼šï¼ˆç­‰çº§ï¼‰</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">set</span> <span class=\"token keyword\">global</span> validate_password<span class=\"token punctuation\">.</span>policy<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><h5 id=\"4-å…¶ä»–é…ç½®\"><a class=\"anchor\" href=\"#4-å…¶ä»–é…ç½®\">#</a> 4ã€å…¶ä»–é…ç½®</h5>\n<h6 id=\"1å¼€æœºè‡ªå¯\"><a class=\"anchor\" href=\"#1å¼€æœºè‡ªå¯\">#</a> 1. å¼€æœºè‡ªå¯</h6>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">### å¼€æœºå¯åŠ¨</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>systemctl <span class=\"token builtin class-name\">enable</span> mysql</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">### å…³é—­è‡ªåŠ¨å¯åŠ¨</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>systemctl disable mysqld</pre></td></tr></table></figure><h6 id=\"2è¿œç¨‹è¿æ¥\"><a class=\"anchor\" href=\"#2è¿œç¨‹è¿æ¥\">#</a> 2. è¿œç¨‹è¿æ¥</h6>\n<h6 id=\"æ–¹æ³•ä¸€-åˆ›å»ºä¸€ä¸ªç”¨æˆ·-æ”¯æŒè¿œç¨‹è¿æ¥\"><a class=\"anchor\" href=\"#æ–¹æ³•ä¸€-åˆ›å»ºä¸€ä¸ªç”¨æˆ·-æ”¯æŒè¿œç¨‹è¿æ¥\">#</a> æ–¹æ³•ä¸€ã€åˆ›å»ºä¸€ä¸ªç”¨æˆ· æ”¯æŒè¿œç¨‹è¿æ¥</h6>\n<p>â‘ ç™»å½• ï¼šmysql -u root -p</p>\n<p>â‘¡åˆ›å»ºç”¨æˆ·ï¼š create user 'aaa'@'%' identified by '123456';</p>\n<p>â‘¢æˆæƒæ‰€æœ‰æƒé™ç»™ user è¿™ä¸ªæ–°ç”¨æˆ· ï¼šgrant all on <em>.</em> to 'aaa'@'%';</p>\n<p>â‘£é€€å‡º mysqlï¼šquit;</p>\n<h6 id=\"æ–¹æ³•äºŒ-è®¾ç½®rootç”¨æˆ·æ”¯æŒè¿œç¨‹è¿æ¥\"><a class=\"anchor\" href=\"#æ–¹æ³•äºŒ-è®¾ç½®rootç”¨æˆ·æ”¯æŒè¿œç¨‹è¿æ¥\">#</a> æ–¹æ³•äºŒã€è®¾ç½® root ç”¨æˆ·æ”¯æŒè¿œç¨‹è¿æ¥</h6>\n<p>â‘ ç™»å½•ï¼šmysql -u root -p ï¼ˆ æ³¨ï¼šç³»ç»Ÿæç¤ºè¾“å…¥æ•°æ®åº“ root ç”¨æˆ·çš„å¯†ç ï¼Œè¾“å…¥å®Œæˆåå³è¿›å…¥ mysql æ§åˆ¶å°ï¼Œè¿™ä¸ªå‘½ä»¤çš„ç¬¬ä¸€ä¸ª mysql æ˜¯æ‰§è¡Œå‘½ä»¤ï¼Œç¬¬äºŒä¸ª mysql æ˜¯ç³»ç»Ÿæ•°æ®åç§°ï¼Œä¸ä¸€æ ·çš„ã€‚ï¼‰</p>\n<p>â‘¡è®¾ç½®æƒé™ï¼š</p>\n<p>èµ‹äºˆæƒé™æ ¼å¼ï¼š grant æƒé™ on æ•°æ®åº“å¯¹è±¡ to ç”¨æˆ· @IP (æˆ–è€…ç›¸åº”æ­£åˆ™)</p>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">-- æ–°å»ºç”¨æˆ·è§„åˆ™æˆ–è€…ç›´æ¥ä¿®æ”¹ root ç”¨æˆ·çš„è§„åˆ™ ï¼Œ2 é€‰ä¸€</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">use</span> mysql<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\">-- è¿™é‡Œè¡¨ç¤ºèµ‹äºˆè¯¥ç”¨æˆ·æ‰€æœ‰æ•°æ®åº“æ‰€æœ‰è¡¨ï¼ˆ*.* è¡¨ç¤ºæ‰€æœ‰è¡¨ï¼‰ï¼Œ% è¡¨ç¤ºæ‰€æœ‰ IP åœ°å€ã€‚</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">GRANT</span> <span class=\"token keyword\">ALL</span> <span class=\"token keyword\">PRIVILEGES</span> <span class=\"token keyword\">ON</span> <span class=\"token operator\">*</span><span class=\"token punctuation\">.</span><span class=\"token operator\">*</span> <span class=\"token keyword\">TO</span> <span class=\"token string\">'root'</span><span class=\"token variable\">@'%'</span> IDENTIFIED <span class=\"token keyword\">BY</span> <span class=\"token string\">'123456'</span> <span class=\"token keyword\">WITH</span> <span class=\"token keyword\">GRANT</span> <span class=\"token keyword\">OPTION</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token comment\">-- ä½¿ root èƒ½å†ä»»ä½• host è®¿é—®</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">update</span> <span class=\"token keyword\">user</span> <span class=\"token keyword\">set</span> host <span class=\"token operator\">=</span> <span class=\"token string\">'%'</span> <span class=\"token keyword\">where</span> <span class=\"token keyword\">user</span> <span class=\"token operator\">=</span> <span class=\"token string\">'root'</span><span class=\"token punctuation\">;</span>      </pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token comment\">-- åˆ·æ–°</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>FLUSH <span class=\"token keyword\">PRIVILEGES</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p>â‘¢æŸ¥çœ‹ï¼š</p>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">use</span> mysql<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">SELECT</span> HOST<span class=\"token punctuation\">,</span><span class=\"token keyword\">USER</span> <span class=\"token keyword\">FROM</span> <span class=\"token keyword\">USER</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p><img data-src=\"/2022/10/15/MySQL-tool/920952e9041b4af1a8a49eb64e0f4430.jpeg\" class=\"\"></p>\n<p>â‘£é€€å‡º mysqlï¼šquit;</p>\n<h4 id=\"2\"><a class=\"anchor\" href=\"#2\">#</a> â€”â€”2</h4>\n<h5 id=\"1-æŸ¥è¯¢é•œåƒ\"><a class=\"anchor\" href=\"#1-æŸ¥è¯¢é•œåƒ\">#</a> 1ã€æŸ¥è¯¢é•œåƒ</h5>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">docker</span> search mysql</pre></td></tr></table></figure><h5 id=\"2-æ‹‰å–é•œåƒ\"><a class=\"anchor\" href=\"#2-æ‹‰å–é•œåƒ\">#</a> 2ã€æ‹‰å–é•œåƒ</h5>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">docker</span> pull mysql:5.7</pre></td></tr></table></figure><h5 id=\"3-æ„å»ºå®¹å™¨\"><a class=\"anchor\" href=\"#3-æ„å»ºå®¹å™¨\">#</a> 3ã€æ„å»ºå®¹å™¨</h5>\n<p>å…ˆè‡ªå·±åˆ›å»ºé…ç½®æ–‡ä»¶åŸºç¡€æ¨¡æ¿ï¼ˆ<strong>è¦æ˜¯åæœŸè¦ä¿®æ”¹é…ç½®æ–‡ä»¶å¿…é¡»åŠ å…¥ æ¨¡æ¿ä¸­çš„ä¸¤ä¸ªå…ƒç´ ï¼Œä¸ç„¶å®¹å™¨å¯åŠ¨ä¼šå‡ºé”™</strong>ï¼‰</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">mkdir</span> <span class=\"token parameter variable\">-p</span> /root/mysql/conf</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">vim</span>  /root/mysql/conf/my.cnf</pre></td></tr></table></figure><p><strong>æ¨¡æ¿å†…å®¹ï¼š</strong></p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">### Copyright (c) 2016, 2021, Oracle and/or its affiliates.</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\">###</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">### This program is free software; you can redistribute it and/or modify</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\">### it under the terms of the GNU General Public License, version 2.0,</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\">### as published by the Free Software Foundation.</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token comment\">###</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\">### This program is also distributed with certain software (including</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token comment\">### but not limited to OpenSSL) that is licensed under separate terms,</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token comment\">### as designated in a particular file or component or in included license</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token comment\">### documentation.  The authors of MySQL hereby grant you an additional</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token comment\">### permission to link the program and your derivative works with the</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token comment\">### separately licensed software that they have included with MySQL.</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token comment\">###</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token comment\">### This program is distributed in the hope that it will be useful,</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token comment\">### but WITHOUT ANY WARRANTY; without even the implied warranty of</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token comment\">### MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token comment\">### GNU General Public License, version 2.0, for more details.</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token comment\">###</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token comment\">### You should have received a copy of the GNU General Public License</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token comment\">### along with this program; if not, write to the Free Software</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token comment\">### Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre></pre></td></tr><tr><td data-num=\"23\"></td><td><pre></pre></td></tr><tr><td data-num=\"24\"></td><td><pre><span class=\"token operator\">!</span>includedir /etc/mysql/conf.d/</pre></td></tr><tr><td data-num=\"25\"></td><td><pre><span class=\"token operator\">!</span>includedir /etc/mysql/mysql.conf.d/</pre></td></tr><tr><td data-num=\"26\"></td><td><pre></pre></td></tr><tr><td data-num=\"27\"></td><td><pre><span class=\"token punctuation\">[</span>mysql<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>default-character-set<span class=\"token operator\">=</span>utf8</pre></td></tr><tr><td data-num=\"29\"></td><td><pre><span class=\"token punctuation\">[</span>mysqld<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre><span class=\"token assign-left variable\">character_set_server</span><span class=\"token operator\">=</span>utf8</pre></td></tr><tr><td data-num=\"31\"></td><td><pre><span class=\"token assign-left variable\">init_connect</span><span class=\"token operator\">=</span><span class=\"token string\">'SET NAMES utf8'</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>lower_case_table_names <span class=\"token operator\">=</span> <span class=\"token number\">1</span></pre></td></tr></table></figure><p><strong>æ„å»ºå®¹å™¨</strong></p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">docker</span> run <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token parameter variable\">-p</span> <span class=\"token number\">3306</span>:3306 <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token parameter variable\">-v</span> /root/mysql/data:/var/lib/mysql <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token parameter variable\">-v</span> /root/mysql/logs:/logs <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token parameter variable\">-v</span> /root/.bashrc:/root/.bashrc <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token parameter variable\">-v</span> /root/mysql/conf/my.cnf:/etc/mysql/my.cnf <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token parameter variable\">-e</span> <span class=\"token assign-left variable\">MYSQL_ROOT_PASSWORD</span><span class=\"token operator\">=</span>root <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token parameter variable\">--name</span> mysql <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token parameter variable\">--hostname</span> node1 <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token parameter variable\">--restart</span><span class=\"token operator\">=</span>always <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token parameter variable\">-d</span> mysql:5.7</pre></td></tr></table></figure><p><strong>æ³¨</strong>ï¼šå‡ºé”™æ—¶å°†æœ¬åœ°æ˜ å°„æ–‡ä»¶æ£€æŸ¥ä¸€ä¸‹ï¼Œè¦æ˜¯ä¸éœ€è¦é…ç½®ï¼Œåªéœ€æ˜ å°„ç›´æ¥åˆ æ‰å°±å¯ï¼Œä»¥åå†æ”¹é…ç½®æ–‡ä»¶</p>\n<h5 id=\"4-è¿›å…¥å®¹å™¨\"><a class=\"anchor\" href=\"#4-è¿›å…¥å®¹å™¨\">#</a> 4ã€è¿›å…¥å®¹å™¨</h5>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">docker</span> <span class=\"token builtin class-name\">exec</span> <span class=\"token parameter variable\">-it</span> mysql /bin/bash</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>æˆ–è€…</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">docker</span> <span class=\"token builtin class-name\">exec</span> <span class=\"token parameter variable\">-it</span> mysql mysql <span class=\"token parameter variable\">-uroot</span> <span class=\"token parameter variable\">-p</span></pre></td></tr></table></figure><h5 id=\"5-æŸ¥çœ‹è¿œç¨‹è¿æ¥\"><a class=\"anchor\" href=\"#5-æŸ¥çœ‹è¿œç¨‹è¿æ¥\">#</a> 5ã€æŸ¥çœ‹è¿œç¨‹è¿æ¥</h5>\n<p>è¿˜æœ‰ä¸€äº›æ–¹æ³•ä¹Ÿå¯ä»¥è¯•ä¸€ä¸‹</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token number\">1</span>.èµ‹äºˆæƒé™æ ¼å¼ï¼šgrant æƒé™ on æ•°æ®åº“å¯¹è±¡ to ç”¨æˆ·@IP<span class=\"token punctuation\">(</span>æˆ–è€…ç›¸åº”æ­£åˆ™<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>ã€€ã€€ã€€ã€€æ³¨ï¼šå¯ä»¥èµ‹äºˆselect,delete,update,insert,indexç­‰æƒé™ç²¾ç¡®åˆ°æŸä¸€ä¸ªæ•°æ®åº“æŸä¸€ä¸ªè¡¨ã€‚</pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>ã€€ã€€ã€€ã€€GRANT ALL PRIVILEGES ON *.* TO <span class=\"token string\">'ç”¨æˆ·å'</span>@<span class=\"token string\">'%'</span> IDENTIFIED BY <span class=\"token string\">'å¯†ç '</span> WITH GRANT OPTION<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>\t  GRANT ALL PRIVILEGES ON *.* TO <span class=\"token string\">'root'</span>@<span class=\"token string\">'%'</span> IDENTIFIED BY <span class=\"token string\">'123456'</span> WITH GRANT OPTION<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>ã€€ã€€ã€€ã€€è¿™é‡Œè¡¨ç¤ºèµ‹äºˆè¯¥ç”¨æˆ·æ‰€æœ‰æ•°æ®åº“æ‰€æœ‰è¡¨ï¼ˆ*.*è¡¨ç¤ºæ‰€æœ‰è¡¨ï¼‰ï¼Œ%è¡¨ç¤ºæ‰€æœ‰IPåœ°å€ã€‚</pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token number\">2</span>.åˆ·æ–°æƒé™ï¼šFLUSH PRIVILEGES<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token number\">3</span>.æŸ¥çœ‹æƒé™ï¼šselect user,host from mysql.user<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>äºŒ.æ„å¤–</pre></td></tr><tr><td data-num=\"15\"></td><td><pre>ã€€ã€€<span class=\"token number\">1</span>.é…ç½®æ–‡ä»¶ç§æŒ‡å®šäº†blind-addressï¼š</pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token comment\">#ã€€ã€€ã€€ã€€æŸ¥çœ‹ Mysql é…ç½®æ–‡ä»¶ç§ï¼ˆä¸€èˆ¬æ˜¯ /etc/my.cnf ç§ï¼‰æ˜¯å¦æŒ‡å®šäº† blind-addressï¼Œè¿™è¡¨ç¤ºåªèƒ½æ˜¯æŸä¸ªæˆ–æŸå‡ ä¸ª ip èƒ½è¿æ¥ã€‚å¦‚æœæœ‰å°±å°†å®ƒæ³¨é‡Šäº†ï¼Œå‰é¢åŠ  #å·æ³¨é‡Šã€‚ç„¶åä»å¯ mysqlã€‚</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    ã€€é‡å¯mysqlï¼šservice mysqld restart,å¦‚æœå®‰è£…çš„æ˜¯Mariadbï¼ˆæˆ‘çš„å°±æ˜¯ï¼‰,åˆ™éœ€è¦ä½¿ç”¨systemctl restart mariadb.service</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    ã€€</pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token number\">2</span>.é˜²ç«å¢™çš„åŸå› ï¼š</pre></td></tr><tr><td data-num=\"20\"></td><td><pre>ã€€ã€€ã€€ã€€å¯èƒ½ä¼šæŠ¥ï¼šERROR <span class=\"token number\">2003</span> <span class=\"token punctuation\">(</span>HY000<span class=\"token punctuation\">)</span>: Can<span class=\"token string\">'t connect to MySQL server on '</span>ä½ è¦è¿æ¥çš„IP<span class=\"token string\">' (111)ã€‚</pre></td></tr><tr><td data-num=\"21\"></td><td><pre></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>ã€€ã€€ã€€ã€€åŸå› ï¼š1.å¯èƒ½æ˜¯Mysqlç«¯å£ä¸å¯¹ï¼ˆé»˜è®¤æ˜¯3306ï¼‰ï¼Œåªéœ€åŠ å‚æ•° -P ä½ çš„ç«¯å£æŒ‡å®šå°±è¡Œï¼›</pre></td></tr><tr><td data-num=\"23\"></td><td><pre>ã€€ã€€ã€€ã€€</pre></td></tr><tr><td data-num=\"24\"></td><td><pre>ã€€ã€€ã€€2.è¿˜æœ‰å¯èƒ½æ˜¯æœ‰é˜²ç«å¢™é˜»æ­¢ï¼Œå¯ä»¥é€šè¿‡telnetæ¥æµ‹è¯•ï¼ˆå¯ä»¥ç›´æ¥å…³é—­é˜²ç«å¢™ï¼‰ã€‚</pre></td></tr><tr><td data-num=\"25\"></td><td><pre>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€é˜²ç«å¢™ç›¸å…³å‘½ä»¤ï¼š</pre></td></tr><tr><td data-num=\"26\"></td><td><pre></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ï¼ˆ1ï¼‰æŸ¥çœ‹é˜²ç«å¢™çŠ¶æ€ï¼šservice  iptables statusæˆ–è€…systemctl status firewalldæˆ–è€…firewall-cmd --state</pre></td></tr><tr><td data-num=\"28\"></td><td><pre></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ï¼ˆ2ï¼‰æš‚æ—¶å…³é—­é˜²ç«å¢™ï¼šsystemctl stop firewalldæˆ–è€…service  iptables stopæˆ–è€…systemctl stop firewalld.service</pre></td></tr><tr><td data-num=\"30\"></td><td><pre></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ï¼ˆ3ï¼‰æ°¸ä¹…å…³é—­é˜²ç«å¢™ï¼šsystemctl disable firewalldæˆ–è€…chkconfig iptables offæˆ–è€…systemctl disable firewalld.service</pre></td></tr><tr><td data-num=\"32\"></td><td><pre></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ï¼ˆ4ï¼‰é‡å¯é˜²ç«å¢™ï¼šsystemctl enable firewalldæˆ–è€…service iptables restart  æˆ–è€…systemctl restart firewalld.service</pre></td></tr><tr><td data-num=\"34\"></td><td><pre></pre></td></tr><tr><td data-num=\"35\"></td><td><pre> ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ (5)æ°¸ä¹…å…³é—­åé‡å¯ï¼šchkconfig iptables on</pre></td></tr><tr><td data-num=\"36\"></td><td><pre></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>ã€€ã€€</pre></td></tr><tr><td data-num=\"38\"></td><td><pre></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>ã€€ã€€3.ç«¯å£æœªå¼€å¯ï¼šï¼ˆæˆ‘é‡åˆ°çš„å°±æ˜¯è¿™ä¸ªåŸå› ï¼‰</pre></td></tr><tr><td data-num=\"40\"></td><td><pre>ã€€ã€€ã€€ã€€ã€€ã€€Mysqlï¼šERROR 2003 (HY000) 110ï¼ˆè¿æ¥è¶…æ—¶ï¼‰</pre></td></tr><tr><td data-num=\"41\"></td><td><pre></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>ã€€ã€€ã€€ã€€ã€€ã€€æŸ¥çœ‹ä½ çš„æœåŠ¡å™¨æ˜¯å¦æŠŠå¯¹åº”ç«¯å£æ‰“å¼€ï¼Œæœªæ‰“å¼€å¯åŠ¨å°±è¡Œäº†ã€‚ã€€</pre></td></tr><tr><td data-num=\"43\"></td><td><pre>ã€€ã€€ã€€ã€€ã€€ã€€</pre></td></tr><tr><td data-num=\"44\"></td><td><pre>   4.Navicatè¿æ¥MySQLï¼Œå‡ºç°2059 - authentication plugin '</span>caching_sha2_password<span class=\"token string\">'çš„è§£å†³æ–¹æ¡ˆ</pre></td></tr><tr><td data-num=\"45\"></td><td><pre>  \t</pre></td></tr><tr><td data-num=\"46\"></td><td><pre>  \t0å…ˆè¿›å…¥å®¹å™¨ï¼Œ</pre></td></tr><tr><td data-num=\"47\"></td><td><pre>  \tdocker exec -it mysql mysql -uroot -p</pre></td></tr><tr><td data-num=\"48\"></td><td><pre>  \t</pre></td></tr><tr><td data-num=\"49\"></td><td><pre>#  \t1#ä¿®æ”¹åŠ å¯†è§„åˆ™passwordæ˜¯è‡ªå·±çš„å¯†ç ï¼Œrootä¹Ÿæ˜¯ç™»é™†è´¦æˆ·ï¼Œä¸‹åŒã€‚</pre></td></tr><tr><td data-num=\"50\"></td><td><pre>  \tuse mysql;</pre></td></tr><tr><td data-num=\"51\"></td><td><pre>    ALTER USER '</span>root<span class=\"token string\">'@'</span>localhost<span class=\"token string\">' IDENTIFIED BY '</span>root<span class=\"token string\">' PASSWORD EXPIRE NEVER; </pre></td></tr><tr><td data-num=\"52\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"53\"></td><td><pre>##\t2 #æ›´æ–°ä¸€ä¸‹ç”¨æˆ·çš„å¯†ç  </pre></td></tr><tr><td data-num=\"54\"></td><td><pre>\tALTER USER '</span>root<span class=\"token string\">'@'</span>localhost<span class=\"token string\">' IDENTIFIED WITH mysql_native_password BY '</span>root<span class=\"token string\">';</pre></td></tr><tr><td data-num=\"55\"></td><td><pre>\t</pre></td></tr><tr><td data-num=\"56\"></td><td><pre>##\t3#åˆ·æ–°æƒé™ </pre></td></tr><tr><td data-num=\"57\"></td><td><pre>\tFLUSH PRIVILEGES; </pre></td></tr><tr><td data-num=\"58\"></td><td><pre>\t</pre></td></tr><tr><td data-num=\"59\"></td><td><pre>##\t4#æ›´æ–°ä¸€ä¸‹ç”¨æˆ·çš„å¯†ç </pre></td></tr><tr><td data-num=\"60\"></td><td><pre>\tALTER USER '</span>root<span class=\"token string\">'@'</span>%<span class=\"token string\">' IDENTIFIED WITH mysql_native_password BY '</span>root'<span class=\"token punctuation\">;</span></pre></td></tr></table></figure>",
            "tags": []
        },
        {
            "id": "http://example.com/2022/10/15/MyCat-tool/",
            "url": "http://example.com/2022/10/15/MyCat-tool/",
            "title": "MyCat",
            "date_published": "2022-10-15T04:52:38.160Z",
            "content_html": "<h2 id=\"mycatlinux\"><a class=\"anchor\" href=\"#mycatlinux\">#</a> MyCatï¼ˆLinuxï¼‰</h2>\n<h3 id=\"serverå®‰è£…\"><a class=\"anchor\" href=\"#serverå®‰è£…\">#</a> (Server å®‰è£…)</h3>\n<ul>\n<li>å‰æï¼š</li>\n</ul>\n<p>#* 1ã€<a href=\"#jdk_install\">jdk å®‰è£…</a></p>\n<p>#* 2ã€<a href=\"#mysql_install\">mysql å®‰è£…</a></p>\n<ul>\n<li>\n<p>å®˜ç½‘ï¼š<span class=\"exturl\" data-url=\"aHR0cDovL3d3dy5teWNhdC5vcmcuY24v\">http://www.mycat.org.cn/</span></p>\n</li>\n<li>\n<p>é¦–å…ˆå‡†å¤‡å››å°è™šæ‹Ÿæœºï¼Œå®‰è£…å¥½ mysqlï¼Œæ–¹ä¾¿åç»­åšè¯»å†™åˆ†ç¦»å’Œä¸»ä»å¤åˆ¶ã€‚<strong>(3.3 å†…å®¹)</strong></p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token number\">192.168</span>.85.45 node01</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token number\">192.168</span>.85.46 node02</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token number\">192.168</span>.85.47 node03</pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token number\">192.168</span>.85.48 node04</pre></td></tr></table></figure></li>\n</ul>\n<h4 id=\"1-ä¸‹è½½mycat\"><a class=\"anchor\" href=\"#1-ä¸‹è½½mycat\">#</a> 1ã€ä¸‹è½½ MyCat</h4>\n<p><span class=\"exturl\" data-url=\"aHR0cDovL2RsLm15Y2F0Lm9yZy5jbi8xLjYuNy42LzIwMjEwOTMwMjEzMDQ5L015Y2F0LXNlcnZlci0xLjYuNy42LXJlbGVhc2UtMjAyMTA5MzAyMTMwNDktbGludXgudGFyLmd6\">http://dl.mycat.org.cn/1.6.7.6/20210930213049/Mycat-server-1.6.7.6-release-20210930213049-linux.tar.gz</span></p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>windowsä¸‹è½½å®‰è£…åŒ…</pre></td></tr></table></figure><h4 id=\"2-ä¸Šä¼ å¹¶è§£å‹å‹ç¼©æ–‡ä»¶\"><a class=\"anchor\" href=\"#2-ä¸Šä¼ å¹¶è§£å‹å‹ç¼©æ–‡ä»¶\">#</a> 2ã€ä¸Šä¼ å¹¶è§£å‹å‹ç¼©æ–‡ä»¶</h4>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">tar</span> <span class=\"token parameter variable\">-zxvf</span> Mycat-server-1.6.7.5-release-20200422133810-linux.tar.gz <span class=\"token parameter variable\">-C</span> /usr/local/</pre></td></tr></table></figure><h4 id=\"3-ä¿®æ”¹é…ç½®\"><a class=\"anchor\" href=\"#3-ä¿®æ”¹é…ç½®\">#</a> 3ã€ä¿®æ”¹é…ç½®</h4>\n<p>0ã€é…ç½®ç¯å¢ƒå˜é‡ï¼ˆå¯é€‰ï¼‰</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">vim</span> /etc/profile</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\">### æ·»åŠ å¦‚ä¸‹é…ç½®ä¿¡æ¯ï¼š</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">MYCAT_HOME</span><span class=\"token operator\">=</span>/usr/local/mycat</pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\"><span class=\"token environment constant\">PATH</span></span><span class=\"token operator\">=</span><span class=\"token variable\">$MYCAT_HOME</span>/bin:<span class=\"token environment constant\">$PATH</span><span class=\"token builtin class-name\">:</span><span class=\"token variable\">$JAVA_HOME</span>/bin</pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token comment\">### ç”Ÿæ•ˆ</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token builtin class-name\">source</span> /etc/profile</pre></td></tr></table></figure><p><strong>ä¿®æ”¹ server.xml schema.xml ä¹‹å‰å…ˆå¤‡ä»½</strong></p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token builtin class-name\">cd</span> /usr/local/mycat</pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token builtin class-name\">cd</span> conf</pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token function\">cp</span> server.xml server.xml.list</pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token function\">cp</span> schema.xml schema.xml.list</pre></td></tr></table></figure><p>1ã€ä¿®æ”¹å®Œæˆåçš„  <strong>server.xml</strong></p>\n<figure class=\"highlight xml\"><figcaption data-lang=\"XML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token prolog\">&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\">&lt;!-- - - Licensed under the Apache License, Version 2.0 (the \"License\"); </pre></td></tr><tr><td data-num=\"3\"></td><td><pre>        - you may not use this file except in compliance with the License. - You </pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        may obtain a copy of the License at - - http://www.apache.org/licenses/LICENSE-2.0 </pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        - - Unless required by applicable law or agreed to in writing, software - </pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        distributed under the License is distributed on an \"AS IS\" BASIS, - WITHOUT </pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. - See the </pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        License for the specific language governing permissions and - limitations </pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        under the License. --></span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">DOCTYPE</span> <span class=\"token name\">mycat:server</span> <span class=\"token name\">SYSTEM</span> <span class=\"token string\">\"server.dtd\"</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token namespace\">mycat:</span>server</span> <span class=\"token attr-name\"><span class=\"token namespace\">xmlns:</span>mycat</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://io.mycat/<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>user</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>root<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">defaultAccount</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>true<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>password<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>root<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>schemas<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>TESTDB<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>defaultSchema<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>TESTDB<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>user</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token namespace\">mycat:</span>server</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><p>2ã€ä¿®æ”¹å®Œæˆåçš„ schema.xml</p>\n<figure class=\"highlight xml\"><figcaption data-lang=\"XML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token prolog\">&lt;?xml version=\"1.0\"?></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">DOCTYPE</span> <span class=\"token name\">mycat:schema</span> <span class=\"token name\">SYSTEM</span> <span class=\"token string\">\"schema.dtd\"</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token namespace\">mycat:</span>schema</span> <span class=\"token attr-name\"><span class=\"token namespace\">xmlns:</span>mycat</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://io.mycat/<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>schema</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>TESTDB<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">checkSQLschema</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>false<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">sqlMaxLimit</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>100<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">dataNode</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>dn1<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>schema</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>dataNode</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>dn1<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">dataHost</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>host1<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">database</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>msb<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>dataHost</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>host1<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">maxCon</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>1000<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">minCon</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>10<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">balance</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>0<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>                          <span class=\"token attr-name\">writeType</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>0<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">dbType</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>mysql<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">dbDriver</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>native<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">switchType</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>1<span class=\"token punctuation\">\"</span></span>  <span class=\"token attr-name\">slaveThreshold</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>100<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>heartbeat</span><span class=\"token punctuation\">></span></span>select user()<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>heartbeat</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>writeHost</span> <span class=\"token attr-name\">host</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>hostM1<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">url</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>192.168.1.45:3306<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">user</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>root<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>                                   <span class=\"token attr-name\">password</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>root<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>                         <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>readHost</span> <span class=\"token attr-name\">host</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>hostS1<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">url</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>192.168.1.46:3306<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">user</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>root<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">password</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>root<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>readHost</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>writeHost</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>dataHost</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token namespace\">mycat:</span>schema</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><p>3ã€ä¿®æ”¹ <strong>hosts</strong>  æ–‡ä»¶</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">vim</span> /etc/hosts</pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">### æ·»åŠ </span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\">###ip name</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token number\">192.168</span>.1.164 node01</pre></td></tr></table></figure><h4 id=\"4-å¯åŠ¨mycat\"><a class=\"anchor\" href=\"#4-å¯åŠ¨mycat\">#</a> 4ã€å¯åŠ¨ mycat</h4>\n<p>â€‹\t\tmycat çš„å¯åŠ¨æœ‰ä¸¤ç§æ–¹å¼ï¼Œä¸€ç§æ˜¯æ§åˆ¶å°å¯åŠ¨ï¼Œä¸€ç§æ˜¯åå°å¯åŠ¨ï¼Œåœ¨åˆå­¦çš„æ—¶å€™å»ºè®®å¤§å®¶ä½¿ç”¨æ§åˆ¶å°å¯åŠ¨çš„æ–¹å¼ï¼Œå½“é…ç½®æ–‡ä»¶å†™é”™ä¹‹åï¼Œå¯ä»¥æ–¹ä¾¿çš„çœ‹åˆ°é”™è¯¯ï¼ŒåŠæ—¶ä¿®æ”¹ï¼Œä½†æ˜¯åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œä½¿ç”¨åå°å¯åŠ¨çš„æ–¹å¼æ¯”è¾ƒç¨³å¦¥ã€‚</p>\n<p>â€‹\t\t<strong>æ§åˆ¶å°å¯åŠ¨ï¼š</strong></p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token builtin class-name\">cd</span> /usrlocal/mycat/bin</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>./mycat console</pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\">### åŠ å…¥ç¯å¢ƒå˜é‡åå¯ç›´æ¥å¯åŠ¨</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>mycat console</pre></td></tr></table></figure><p>â€‹\t\t<strong>åå°å¯åŠ¨ï¼š</strong></p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token builtin class-name\">cd</span> /usrlocal/mycat/bin</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>./mycat start</pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\">### åŠ å…¥ç¯å¢ƒå˜é‡åå¯ç›´æ¥å¯åŠ¨</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>mycat start</pre></td></tr></table></figure><p>â€‹\t\tæŒ‰ç…§å¦‚ä¸Šé…ç½®åœ¨å®‰è£…çš„æ—¶å€™åº”è¯¥ä¸ä¼šæŠ¥é”™ï¼Œå¦‚æœå‡ºç°é”™è¯¯ï¼Œæ ¹æ®é”™è¯¯çš„æç¤ºè§£å†³å³å¯ã€‚</p>\n<h4 id=\"5-ç™»å½•éªŒè¯\"><a class=\"anchor\" href=\"#5-ç™»å½•éªŒè¯\">#</a> 5ã€ç™»å½•éªŒè¯</h4>\n<p>â€‹\t\t<strong>ç®¡ç†çª—å£çš„ç™»å½•</strong></p>\n<p>â€‹\t\tä»å¦å¤–çš„è™šæ‹Ÿæœºå»ç™»å½•è®¿é—®å½“å‰ mycatï¼Œè¾“å…¥å¦‚ä¸‹å‘½ä»¤å³å¯</p>\n<pre><code>mysql -uroot -proot -P 9066 -h ip\n</code></pre>\n<p>â€‹\t\tæ­¤æ—¶è®¿é—®çš„æ˜¯ mycat çš„ç®¡ç†çª—å£ï¼Œå¯ä»¥é€šè¿‡ show @@help æŸ¥çœ‹å¯ä»¥æ‰§è¡Œçš„å‘½ä»¤</p>\n<p>â€‹\t\t<strong>æ•°æ®çª—å£çš„ç™»å½•</strong></p>\n<p>â€‹\t\tä»å¦å¤–çš„è™šæ‹Ÿæœºå»ç™»å½•è®¿é—® mycatï¼Œè¾“å…¥å‘½ä»¤å¦‚ä¸‹ï¼šã€ç”¨æˆ·è®¾ç½®ã€‘</p>\n<pre><code>mysql -uroot -proot -P8066 -h ip\n</code></pre>\n<p>â€‹\t\tå½“éƒ½èƒ½å¤ŸæˆåŠŸçš„æ—¶å€™ä»¥ä¸ºç€ mycat å·²ç»æ­å»ºå®Œæˆã€‚</p>\n<h3 id=\"mycat-web\"><a class=\"anchor\" href=\"#mycat-web\">#</a> mycat-web</h3>\n<h4 id=\"1\"><a class=\"anchor\" href=\"#1\">#</a> â€”â€”1</h4>\n<h5 id=\"1-ä¸‹è½½mycat-webå®‰è£…åŒ…\"><a class=\"anchor\" href=\"#1-ä¸‹è½½mycat-webå®‰è£…åŒ…\">#</a> 1ã€ä¸‹è½½ mycat-web å®‰è£…åŒ…</h5>\n<p>â€‹\tå®˜æ–¹åœ°å€ï¼š<span class=\"exturl\" data-url=\"aHR0cDovL2RsLm15Y2F0Lm9yZy5jbi8=\">http://dl.mycat.org.cn/</span></p>\n<h5 id=\"2-è§£å‹å®‰è£…åŒ…åˆ°usrlocalç›®å½•\"><a class=\"anchor\" href=\"#2-è§£å‹å®‰è£…åŒ…åˆ°usrlocalç›®å½•\">#</a> 2ã€è§£å‹å®‰è£…åŒ…åˆ° /usr/local ç›®å½•</h5>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">tar</span> <span class=\"token parameter variable\">-zxvf</span> Mycat-web-1.0-SNAPSHOT-20170102153329-linux.tar.gz <span class=\"token parameter variable\">-C</span> /usr/local/</pre></td></tr></table></figure><h4 id=\"3-è¿›å…¥mycat-webçš„ç›®å½•è¿è¡Œå¯åŠ¨å‘½ä»¤\"><a class=\"anchor\" href=\"#3-è¿›å…¥mycat-webçš„ç›®å½•è¿è¡Œå¯åŠ¨å‘½ä»¤\">#</a> 3ã€è¿›å…¥ mycat-web çš„ç›®å½•è¿è¡Œå¯åŠ¨å‘½ä»¤</h4>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>./start.sh <span class=\"token operator\">&amp;</span></pre></td></tr></table></figure><h4 id=\"4-mycat-webçš„æœåŠ¡ç«¯å£æ˜¯8082æŸ¥çœ‹æœåŠ¡æ˜¯å¦å¯åŠ¨\"><a class=\"anchor\" href=\"#4-mycat-webçš„æœåŠ¡ç«¯å£æ˜¯8082æŸ¥çœ‹æœåŠ¡æ˜¯å¦å¯åŠ¨\">#</a> 4ã€mycat-web çš„æœåŠ¡ç«¯å£æ˜¯ 8082ï¼ŒæŸ¥çœ‹æœåŠ¡æ˜¯å¦å¯åŠ¨</h4>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">netstat</span> <span class=\"token parameter variable\">-nlpt</span> <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> <span class=\"token number\">8082</span></pre></td></tr></table></figure><h4 id=\"5-é€šè¿‡åœ°å€è®¿é—®æœåŠ¡\"><a class=\"anchor\" href=\"#5-é€šè¿‡åœ°å€è®¿é—®æœåŠ¡\">#</a> 5ã€é€šè¿‡åœ°å€è®¿é—®æœåŠ¡</h4>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token number\">192.168</span>.1.164:8082/mycat/</pre></td></tr></table></figure><h4 id=\"6-mycat-webé…ç½®\"><a class=\"anchor\" href=\"#6-mycat-webé…ç½®\">#</a> 6ã€mycat-web é…ç½®</h4>\n<h5 id=\"61-é…ç½®zookeeperå¯é€‰\"><a class=\"anchor\" href=\"#61-é…ç½®zookeeperå¯é€‰\">#</a> 6.1ã€é…ç½® zookeeper (å¯é€‰)</h5>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token builtin class-name\">cd</span> /usr/local/mycat-web/mycat-web/WEB-INF/classes</pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">### ä¿®æ”¹ mycat.properties æ–‡ä»¶ï¼Œå¯ä»¥ä¿®æ”¹ zookeeper çš„åœ°å€</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token function\">vim</span> mycat.properties</pre></td></tr></table></figure><h5 id=\"62-æ·»åŠ mycatå®ä¾‹\"><a class=\"anchor\" href=\"#62-æ·»åŠ mycatå®ä¾‹\">#</a> 6.2ã€æ·»åŠ  mycat å®ä¾‹</h5>\n<pre><code>* åœ¨é¡µé¢çš„mycaté…ç½®\n\n* mycatæœåŠ¡ç®¡ç†ä¸­æ·»åŠ mycatå®ä¾‹ï¼Œéœ€è¦å¡«å†™ç›¸å…³çš„å‚æ•°\n</code></pre>\n",
            "tags": []
        },
        {
            "id": "http://example.com/2022/10/15/Keepalived-tool/",
            "url": "http://example.com/2022/10/15/Keepalived-tool/",
            "title": "Keepalived",
            "date_published": "2022-10-15T04:52:38.149Z",
            "content_html": "<h3 id=\"keepalivedå®‰è£…\"><a class=\"anchor\" href=\"#keepalivedå®‰è£…\">#</a> Keepalived å®‰è£…</h3>\n<h4 id=\"1\"><a class=\"anchor\" href=\"#1\">#</a> â€”â€”1</h4>\n<h5 id=\"1-å‡†å¤‡å¥½keepalivedå®‰è£…åŒ…\"><a class=\"anchor\" href=\"#1-å‡†å¤‡å¥½keepalivedå®‰è£…åŒ…\">#</a> 1ã€å‡†å¤‡å¥½ Keepalived å®‰è£…åŒ…</h5>\n<h5 id=\"2-è§£å‹åˆ°usrlocalç›®å½•\"><a class=\"anchor\" href=\"#2-è§£å‹åˆ°usrlocalç›®å½•\">#</a> 2ã€è§£å‹åˆ° /usr/local ç›®å½•</h5>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">tar</span> <span class=\"token parameter variable\">-zxvf</span> /usr/local/tmp/keepalived-1.4.5.tar.gz <span class=\"token parameter variable\">-C</span> /usr/local/</pre></td></tr></table></figure><h5 id=\"3-å®‰è£…éœ€è¦ä¾èµ–çš„ç¯å¢ƒç»„ä»¶\"><a class=\"anchor\" href=\"#3-å®‰è£…éœ€è¦ä¾èµ–çš„ç¯å¢ƒç»„ä»¶\">#</a> 3ã€å®‰è£…éœ€è¦ä¾èµ–çš„ç¯å¢ƒç»„ä»¶</h5>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>yum <span class=\"token function\">install</span> gcc openssl-devel popt-devel <span class=\"token parameter variable\">-y</span></pre></td></tr></table></figure><h5 id=\"4-è¿›å…¥åˆ°è§£å‹ç›®å½•è¿›è¡Œç¼–è¯‘\"><a class=\"anchor\" href=\"#4-è¿›å…¥åˆ°è§£å‹ç›®å½•è¿›è¡Œç¼–è¯‘\">#</a> 4ã€è¿›å…¥åˆ°è§£å‹ç›®å½•ï¼Œè¿›è¡Œç¼–è¯‘</h5>\n<pre><code>cd /usr/local/keepalived-1.4.5\n./configure --prefix=/usr/local/keepalived\t\n</code></pre>\n<h5 id=\"5-ç¼–è¯‘å®Œæˆä¹‹åè¿›è¡Œå®‰è£…\"><a class=\"anchor\" href=\"#5-ç¼–è¯‘å®Œæˆä¹‹åè¿›è¡Œå®‰è£…\">#</a> 5ã€ç¼–è¯‘å®Œæˆä¹‹åï¼Œè¿›è¡Œå®‰è£…</h5>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">make</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">make</span> <span class=\"token function\">install</span></pre></td></tr></table></figure><h5 id=\"6-å°†keepalivedçš„æœåŠ¡æ³¨å†Œä¸ºç³»ç»ŸæœåŠ¡\"><a class=\"anchor\" href=\"#6-å°†keepalivedçš„æœåŠ¡æ³¨å†Œä¸ºç³»ç»ŸæœåŠ¡\">#</a> 6ã€å°† keepalived çš„æœåŠ¡æ³¨å†Œä¸ºç³»ç»ŸæœåŠ¡</h5>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">cp</span>  <span class=\"token parameter variable\">-rf</span>   /usr/local/keepalived-1.4.5/keepalived/etc/init.d/keepalived /etc/init.d/</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">mkdir</span> /etc/keepalived</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">cp</span>   <span class=\"token parameter variable\">-rf</span>  /usr/local/keepalived/etc/keepalived/keepalived.conf /etc/keepalived/</pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token function\">cp</span>   <span class=\"token parameter variable\">-rf</span>  /usr/local/keepalived-1.4.5/keepalived/etc/sysconfig/keepalived /etc/sysconfig/</pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token function\">cp</span>   <span class=\"token parameter variable\">-rf</span>  /usr/local/keepalived/sbin/keepalived /usr/sbin/</pre></td></tr></table></figure><h5 id=\"7-ä¿®æ”¹é…ç½®æ–‡ä»¶\"><a class=\"anchor\" href=\"#7-ä¿®æ”¹é…ç½®æ–‡ä»¶\">#</a> 7ã€ä¿®æ”¹é…ç½®æ–‡ä»¶</h5>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">vim</span>  /etc/keepalived/keepalived.conf</pre></td></tr></table></figure><p><strong>CentOS-6   ä¸‹çš„é…ç½®æ–‡ä»¶</strong></p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token operator\">!</span> Configuration File <span class=\"token keyword\">for</span> keepalived</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>global_defs <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>   notification_email <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>     acassen@firewall.loc</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>     failover@firewall.loc</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>     sysadmin@firewall.loc</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>   <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>   notification_email_from Alexandre.Cassen@firewall.loc</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>   smtp_server <span class=\"token number\">127.0</span>.0.1</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>   smtp_connect_timeout <span class=\"token number\">30</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>   router_id LVS_DEVEL</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>   vrrp_skip_check_adv_addr</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>   vrrp_garp_interval <span class=\"token number\">0</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>   vrrp_gna_interval <span class=\"token number\">0</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>vrrp_instance VI_1 <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token comment\">##\t# é…ç½®ä¸ºä¸»</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    state MASTER</pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token comment\">#    # è®¾ç½®ç½‘å¡</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    interface eth0</pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token comment\">#     # è™šæ‹Ÿè·¯ç”± IDï¼Œå…¨å±€å”¯ä¸€</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    virtual_router_id <span class=\"token number\">51</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre><span class=\"token comment\">#    # ä¼˜å…ˆçº§ï¼Œæƒé‡å€¼</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    priority <span class=\"token number\">100</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    advert_int <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    authentication <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>        auth_type PASS</pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        auth_pass <span class=\"token number\">1111</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>    virtual_ipaddress <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>         <span class=\"token number\">192.168</span>.1.100/24  dev eth0 label eth0:3:</pre></td></tr><tr><td data-num=\"33\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p><strong>CentOS-7   ä¸‹çš„é…ç½®æ–‡ä»¶</strong></p>\n<pre><code class=\"language-conf\">! Configuration File for keepalived\nglobal_defs &#123;\n   notification_email &#123;\n     acassen@firewall.loc\n     failover@firewall.loc\n     sysadmin@firewall.loc\n   &#125;\n   notification_email_from Alexandre.Cassen@firewall.loc\n   smtp_server 127.0.0.1\n   smtp_connect_timeout 30\n   router_id LVS_DEVEL\n   vrrp_skip_check_adv_addr\n   vrrp_garp_interval 0\n   vrrp_gna_interval 0\n&#125;\n\nvrrp_instance VI_1 &#123;\n##\t# é…ç½®ä¸ºä¸»\n    state MASTER\n#    # è®¾ç½®ç½‘å¡\n    interface ens33\n#     # è™šæ‹Ÿè·¯ç”±IDï¼Œå…¨å±€å”¯ä¸€\n    virtual_router_id 51\n#    # ä¼˜å…ˆçº§ï¼Œæƒé‡å€¼\n    priority 100\n    advert_int 1\n    authentication &#123;\n        auth_type PASS\n        auth_pass 1111\n    &#125;\n    virtual_ipaddress &#123;\n        192.168.1.100/24 \n    &#125;\n&#125;\n\n</code></pre>\n<h6 id=\"8-å¯åŠ¨keepalived\"><a class=\"anchor\" href=\"#8-å¯åŠ¨keepalived\">#</a> 8ã€å¯åŠ¨ keepalived</h6>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">service</span> keepalived start</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\">### æˆ–è€…</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>systemctl start keepalived.service</pre></td></tr></table></figure><h6 id=\"9-ç™»å½•éªŒè¯\"><a class=\"anchor\" href=\"#9-ç™»å½•éªŒè¯\">#</a> 9ã€ç™»å½•éªŒè¯</h6>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>mysql <span class=\"token parameter variable\">-uroot</span> <span class=\"token parameter variable\">-p123456</span> <span class=\"token parameter variable\">-h</span> <span class=\"token number\">192.168</span>.1.100 <span class=\"token parameter variable\">-P</span> <span class=\"token number\">48066</span></pre></td></tr></table></figure>",
            "tags": []
        },
        {
            "id": "http://example.com/2022/10/15/Kafka-tool/",
            "url": "http://example.com/2022/10/15/Kafka-tool/",
            "title": "Kafka",
            "date_published": "2022-10-15T04:52:38.146Z",
            "content_html": "<h3 id=\"kafka-å®‰è£…\"><a class=\"anchor\" href=\"#kafka-å®‰è£…\">#</a> Kafka å®‰è£…</h3>\n<blockquote>\n<p>å®‰è£…å‰æï¼Œkafka å®‰è£…è¿è¡Œæœ€ä½æ”¯æŒ jdk7ï¼›æœ¬ç¯‡æ¼”ç¤ºç‰ˆæœ¬æ˜¯åŸºäº jdk1.8ï¼›</p>\n</blockquote>\n<p>å®˜æ–¹ä¸‹è½½åœ°å€ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly9saW5rLnpoaWh1LmNvbS8/dGFyZ2V0PWh0dHAlM0EvL2thZmthLmFwYWNoZS5vcmcvZG93bmxvYWRz\">Apache Kafka</span></p>\n<p>kafka æ˜¯ç”± scala è¯­è¨€ç¼–å†™ï¼Œä¸‹è½½ç¨³å®šç‰ˆæœ¬ï¼Œå³å‰ä¸€ä¸ªç‰ˆæœ¬</p>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/onlymarryu/typora-ims-test@master/img/v2-9f6503ade62cfa48df87cc9da984e87d_720w.jpg\" alt=\"img\" /></p>\n<p>ç‚¹å‡»è¿›å…¥åï¼ŒæŒ‰å¦‚ä¸‹æ–¹å¼ç‚¹å‡»ä¸‹è½½</p>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/onlymarryu/typora-ims-test@master/img/v2-bd19bea83d1cb978fbeed614ee126da6_720w.jpg\" alt=\"img\" /></p>\n<p>ä¸‹è½½å®Œæˆåè¿›è¡Œè§£å‹ç¼©</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">tar</span> <span class=\"token parameter variable\">-zxvf</span> kafka_2.12-2.8.0.tgz </pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">mv</span> kafka_2.12-2.8.0 /usr/local/kafka</pre></td></tr></table></figure><p>è§£å‹å®Œæˆåè¿›å…¥ kafka ç›®å½•</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token builtin class-name\">cd</span> /usr/local/kafka</pre></td></tr></table></figure><p><img data-src=\"https://cdn.jsdelivr.net/gh/onlymarryu/typora-ims-test@master/v2-dfe360dfc7561953761f8ce69f782f4d_720w.png\" alt=\"img\" /></p>\n<p>kafka æ˜¯åŸºäº Zookeeper çš„æ¶ˆæ¯ç®¡ç†ç³»ç»Ÿï¼Œæ‰€ä»¥å¯åŠ¨çš„æ—¶å€™æ˜¯éœ€è¦ä½¿ç”¨åˆ° Zookeeper ï¼Œä½†å…¶å†…ç½®äº† Zookeeper ï¼Œæ‰€ä»¥åªéœ€è¦æ ¹æ® bin ç›®å½•ä¸‹çš„æ–‡ä»¶è¿›è¡Œå¯åŠ¨å³å¯</p>\n<p>å¯åŠ¨ Zookeeper æœåŠ¡ç«¯å‘½ä»¤</p>\n<figure class=\"highlight text\"><figcaption data-lang=\"text\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>./bin/zookeeper-server-start.sh ./config/zookeeper.properties</pre></td></tr></table></figure><p>Zookeeper å¯åŠ¨æˆåŠŸåä¼šå‡ºç°  <code>binding to port 0.0.0.0/0.0.0.0:2181</code>  æ‰€ç¤ºç»“æœè¡¨ç¤ºå¯åŠ¨æˆåŠŸï¼›</p>\n<p><img data-src=\"https://pic1.zhimg.com/80/v2-6be2f91cd4ec47d589d3c5b58584c4b8_720w.png\" alt=\"img\" /></p>\n<p>å¯åŠ¨ kafka æœåŠ¡ç«¯å‘½ä»¤</p>\n<figure class=\"highlight text\"><figcaption data-lang=\"text\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>./bin/kafka-server-start.sh  ./config/server.properties</pre></td></tr></table></figure>",
            "tags": []
        },
        {
            "id": "http://example.com/2022/10/15/JRebel-tool/",
            "url": "http://example.com/2022/10/15/JRebel-tool/",
            "title": "JRebelå®‰è£…",
            "date_published": "2022-10-15T04:52:38.145Z",
            "content_html": "<h3 id=\"èµ„æ–™åœ¨ç½‘ç›˜é‡Œé¢\"><a class=\"anchor\" href=\"#èµ„æ–™åœ¨ç½‘ç›˜é‡Œé¢\">#</a> èµ„æ–™åœ¨ç½‘ç›˜é‡Œé¢</h3>\n",
            "tags": []
        },
        {
            "id": "http://example.com/2022/10/15/HDFS-tool/",
            "url": "http://example.com/2022/10/15/HDFS-tool/",
            "title": "HDFSå®‰è£…",
            "date_published": "2022-10-15T04:52:38.132Z",
            "content_html": "<h3 id=\"hdfså®‰è£…\"><a class=\"anchor\" href=\"#hdfså®‰è£…\">#</a> HDFS å®‰è£…</h3>\n<h4 id=\"1\"><a class=\"anchor\" href=\"#1\">#</a> â€”â€”1</h4>\n<h4 id=\"2\"><a class=\"anchor\" href=\"#2\">#</a> â€”â€”2</h4>\n<p>1. æ‹‰å– Hadoop é•œåƒï¼ˆå¯ä»¥åœ¨ docker hub ä¸Šæ‰¾åˆé€‚çš„é•œåƒï¼‰ï¼š</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">docker</span> pull singularities/hadoop</pre></td></tr></table></figure><p>2. åˆ›å»º docker-compose.yml æ–‡ä»¶ï¼ˆå¯ä»¥åœ¨æ–‡æœ¬ç¼–è¾‘å™¨ä¸­å†™å¥½åï¼Œå¤åˆ¶ï¼‰ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight yml\"><figcaption data-lang=\"YAML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token key atrule\">version</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"2\"</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token key atrule\">services</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token key atrule\">namenode</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> singularities/hadoop</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token key atrule\">command</span><span class=\"token punctuation\">:</span> start<span class=\"token punctuation\">-</span>hadoop namenode</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token key atrule\">environment</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>      <span class=\"token key atrule\">HDFS_USER</span><span class=\"token punctuation\">:</span> hdfsuser</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token key atrule\">ports</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>      <span class=\"token punctuation\">-</span> <span class=\"token string\">\"8020:8020\"</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>      <span class=\"token punctuation\">-</span> <span class=\"token string\">\"14000:14000\"</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>      <span class=\"token punctuation\">-</span> <span class=\"token string\">\"50070:50070\"</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>      <span class=\"token punctuation\">-</span> <span class=\"token string\">\"10020:10020\"</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>      <span class=\"token punctuation\">-</span> <span class=\"token string\">\"13562:13562\"</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>      <span class=\"token punctuation\">-</span> <span class=\"token string\">\"19888:19888\"</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>  <span class=\"token key atrule\">datanode</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> singularities/hadoop</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token key atrule\">command</span><span class=\"token punctuation\">:</span> start<span class=\"token punctuation\">-</span>hadoop datanode namenode</pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token key atrule\">environment</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>      <span class=\"token key atrule\">HDFS_USER</span><span class=\"token punctuation\">:</span> hdfsuser</pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token key atrule\">links</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>      <span class=\"token punctuation\">-</span> namenode</pre></td></tr></table></figure><p>3. åˆ›å»º hadoopï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">docker-compose</span> up <span class=\"token parameter variable\">-d</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">docker</span> <span class=\"token function\">ps</span></pre></td></tr></table></figure><p>4. å¼€å¯å¤šä¸ª datanode</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">docker-compose</span> scale <span class=\"token assign-left variable\">datanode</span><span class=\"token operator\">=</span><span class=\"token number\">3</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">docker</span> <span class=\"token function\">ps</span></pre></td></tr></table></figure><p>5. æŸ¥çœ‹ hadoop æ§åˆ¶é¢æ¿ã€‚ç”±äºæœåŠ¡åˆšåˆå§‹åŒ–ï¼Œå¯èƒ½éœ€è¦ç­‰ä¸€ä¼šã€‚è®¿é—®ç±»ä¼¼å¦‚ä¸‹ urlï¼š</p>\n<figure class=\"highlight ruby\"><figcaption data-lang=\"ruby\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">#http://192.168.1.195:50070/dfshealth.html#tab-datanode</span></pre></td></tr></table></figure><p>6. è¿›å…¥ä»»æ„ hadoop ç›¸å…³å®¹å™¨ï¼Œ<strong>ç›´æ¥è¿›è¡Œ hdfs åŸºç¡€æ“ä½œ</strong><br />\nåœ¨ä»»æ„ datanode çš„å®¹å™¨ä¸­æ“ä½œ hdfsï¼Œä¼šè‡ªåŠ¨åŒæ­¥åˆ°å…¶ä»–çš„ datanode å®¹å™¨ä¸­ã€‚</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">### æŸ¥çœ‹æ‰€æœ‰å‘½ä»¤</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>hadoop fs</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">### åˆ›å»ºç›®å½•</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\">#hadoop fs -mkdir /hdfs #åœ¨æ ¹ç›®å½•ä¸‹åˆ›å»º hdfs æ–‡ä»¶å¤¹</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\">### æŸ¥çœ‹ç›®å½•</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token comment\">#hadoop fs -ls  /   #åˆ—å‡ºæ ¹ç›®å½•ä¸‹çš„æ–‡ä»¶åˆ—è¡¨</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\">### åˆ›å»ºå¤šçº§ç›®å½•</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>hadoop fs <span class=\"token parameter variable\">-mkdir</span> <span class=\"token parameter variable\">-p</span> /hdfs/d1/d2</pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token comment\">### ä¸Šä¼ æ–‡ä»¶åˆ° HDFS</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token comment\">#echo \"hello world\" >> local.txt   #åˆ›å»ºæ–‡ä»¶</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token comment\">#hadoop fs -put local.txt/hdfs/   #ä¸Šä¼ æ–‡ä»¶åˆ° hdfs</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token comment\">### ä¸‹è½½ hdfs æ–‡ä»¶</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>hadoop fs <span class=\"token parameter variable\">-get</span> /hdfs/local.txt</pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token comment\">### åˆ é™¤ hdfs ä¸­çš„æ–‡ä»¶</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>hadoop fs <span class=\"token parameter variable\">-rm</span> /hdfs/local.txt</pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token comment\">### åˆ é™¤ hdfs ä¸­çš„ç›®å½•</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>hadoop fs <span class=\"token parameter variable\">-rmdir</span> /hdfs/d1/d2</pre></td></tr></table></figure>",
            "tags": []
        },
        {
            "id": "http://example.com/2022/10/15/HAProxy-tool/",
            "url": "http://example.com/2022/10/15/HAProxy-tool/",
            "title": "HAProxyå®‰è£…",
            "date_published": "2022-10-15T04:52:38.129Z",
            "content_html": "<h4 id=\"haproxyå®‰è£…\"><a class=\"anchor\" href=\"#haproxyå®‰è£…\">#</a> HAProxy å®‰è£…</h4>\n<h5 id=\"1\"><a class=\"anchor\" href=\"#1\">#</a> â€”â€”1</h5>\n<h6 id=\"1-å‡†å¤‡å¥½haproxyçš„å®‰è£…åŒ…\"><a class=\"anchor\" href=\"#1-å‡†å¤‡å¥½haproxyçš„å®‰è£…åŒ…\">#</a> 1ã€å‡†å¤‡å¥½ HAProxy çš„å®‰è£…åŒ…</h6>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9zcmMuZmVkb3JhcHJvamVjdC5vcmcvcmVwby9wa2dzL2hhcHJveHkv\">https://src.fedoraproject.org/repo/pkgs/haproxy/</span></p>\n<h6 id=\"2-è§£å‹åˆ°usrlocalç›®å½•\"><a class=\"anchor\" href=\"#2-è§£å‹åˆ°usrlocalç›®å½•\">#</a> 2ã€è§£å‹åˆ° /usr/local ç›®å½•</h6>\n<h6 id=\"3-è¿›å…¥åˆ°è§£å‹åçš„ç›®å½•æŸ¥çœ‹å†…æ ¸ç‰ˆæœ¬è¿›è¡Œç¼–è¯‘\"><a class=\"anchor\" href=\"#3-è¿›å…¥åˆ°è§£å‹åçš„ç›®å½•æŸ¥çœ‹å†…æ ¸ç‰ˆæœ¬è¿›è¡Œç¼–è¯‘\">#</a> 3ã€è¿›å…¥åˆ°è§£å‹åçš„ç›®å½•ï¼ŒæŸ¥çœ‹å†…æ ¸ç‰ˆæœ¬ï¼Œè¿›è¡Œç¼–è¯‘</h6>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token builtin class-name\">cd</span> <span class=\"token builtin class-name\">cd</span> /usr/local/haproxy-1.8.25/</pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">### æŸ¥çœ‹å†…æ ¸ç‰ˆæœ¬ 3.10=31</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token function\">uname</span> <span class=\"token parameter variable\">-r</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token function\">make</span> <span class=\"token assign-left variable\">TARGET</span><span class=\"token operator\">=</span>linux31</pre></td></tr></table></figure><h6 id=\"4-ç¼–è¯‘å®Œæˆä¹‹åå¼€å§‹è¿›è¡Œå®‰è£…\"><a class=\"anchor\" href=\"#4-ç¼–è¯‘å®Œæˆä¹‹åå¼€å§‹è¿›è¡Œå®‰è£…\">#</a> 4ã€ç¼–è¯‘å®Œæˆä¹‹åï¼Œå¼€å§‹è¿›è¡Œå®‰è£…</h6>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">make</span> <span class=\"token function\">install</span> <span class=\"token assign-left variable\">PREFIX</span><span class=\"token operator\">=</span>/usr/local/haproxy</pre></td></tr></table></figure><h6 id=\"5-å®‰è£…å®Œæˆä¹‹ååˆ›å»ºç›®å½•åˆ›å»ºhaproxyé…ç½®æ–‡ä»¶\"><a class=\"anchor\" href=\"#5-å®‰è£…å®Œæˆä¹‹ååˆ›å»ºç›®å½•åˆ›å»ºhaproxyé…ç½®æ–‡ä»¶\">#</a> 5ã€å®‰è£…å®Œæˆä¹‹åï¼Œåˆ›å»ºç›®å½•ï¼Œåˆ›å»º HAProxy é…ç½®æ–‡ä»¶</h6>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">mkdir</span> <span class=\"token parameter variable\">-p</span> /usr/data/haproxy</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">mkdir</span> /usr/local/haproxy/conf</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">vi</span> /usr/local/haproxy/confã€haproxy.conf</pre></td></tr></table></figure><p>6ã€å‘é…ç½®æ–‡ä»¶ä¸­æ·»åŠ é…ç½®ä¿¡æ¯</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>global</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>\t\tlog <span class=\"token number\">127.0</span>.0.1 local0</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">##\t\t#log 127.0.0.1 local1 notice</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\">##\t\t#log loghost local0 info</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>\t\tmaxconn <span class=\"token number\">4096</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>\t\t<span class=\"token function\">chroot</span> /usr/local/haproxy</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>\t\tpidfile /usr/data/haproxy/haproxy.pid</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>\t\tuid <span class=\"token number\">99</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>\t\tgid <span class=\"token number\">99</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>\t\tdaemon</pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token comment\">##\t\t#debug</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token comment\">##\t\t#quiet</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>defaults</pre></td></tr><tr><td data-num=\"14\"></td><td><pre>\t\tlog global</pre></td></tr><tr><td data-num=\"15\"></td><td><pre>\t\tmode tcp</pre></td></tr><tr><td data-num=\"16\"></td><td><pre>\t\toption abortonclose</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>\t\toption redispatch</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>\t\tretries <span class=\"token number\">3</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>\t\tmaxconn <span class=\"token number\">2000</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>\t\t<span class=\"token function\">timeout</span> connect <span class=\"token number\">5000</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>\t\t<span class=\"token function\">timeout</span> client <span class=\"token number\">50000</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>\t\t<span class=\"token function\">timeout</span> server <span class=\"token number\">50000</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>listen proxy_status</pre></td></tr><tr><td data-num=\"24\"></td><td><pre>\t<span class=\"token builtin class-name\">bind</span> :48066</pre></td></tr><tr><td data-num=\"25\"></td><td><pre>\t\tmode tcp</pre></td></tr><tr><td data-num=\"26\"></td><td><pre>\t\tbalance roundrobin</pre></td></tr><tr><td data-num=\"27\"></td><td><pre>\t\tserver mycat_1 <span class=\"token number\">192.168</span>.85.111:8066 check inter 10s</pre></td></tr><tr><td data-num=\"28\"></td><td><pre>\t\tserver mycat_2 <span class=\"token number\">192.168</span>.85.112:8066 check inter 10s</pre></td></tr><tr><td data-num=\"29\"></td><td><pre>frontend admin_stats</pre></td></tr><tr><td data-num=\"30\"></td><td><pre>\t<span class=\"token builtin class-name\">bind</span> :7777</pre></td></tr><tr><td data-num=\"31\"></td><td><pre>\t\tmode http</pre></td></tr><tr><td data-num=\"32\"></td><td><pre>\t\tstats <span class=\"token builtin class-name\">enable</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>\t\toption httplog</pre></td></tr><tr><td data-num=\"34\"></td><td><pre>\t\tmaxconn <span class=\"token number\">10</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>\t\tstats refresh 30s</pre></td></tr><tr><td data-num=\"36\"></td><td><pre>\t\tstats uri /admin</pre></td></tr><tr><td data-num=\"37\"></td><td><pre>\t\tstats auth admin:123123</pre></td></tr><tr><td data-num=\"38\"></td><td><pre>\t\tstats hide-version</pre></td></tr><tr><td data-num=\"39\"></td><td><pre>\t\tstats admin <span class=\"token keyword\">if</span> TRUE</pre></td></tr></table></figure><ul>\n<li>stats uri /admin                   \t\t   <strong>è´¦å·</strong></li>\n<li>stats auth admin:123123       \t   <strong>å¯†ç </strong></li>\n</ul>\n<h6 id=\"7-å¯åŠ¨haproxyæœåŠ¡\"><a class=\"anchor\" href=\"#7-å¯åŠ¨haproxyæœåŠ¡\">#</a> 7ã€å¯åŠ¨ haproxy æœåŠ¡</h6>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>/usr/local/haproxy/sbin/haproxy <span class=\"token parameter variable\">-f</span> /usr/local/haproxy/conf/haproxy.conf</pre></td></tr></table></figure><h6 id=\"8-æŸ¥çœ‹haproxyçš„è¿›ç¨‹å¦‚æœå­˜åœ¨åˆ™è¯´æ˜æ²¡æœ‰é—®é¢˜\"><a class=\"anchor\" href=\"#8-æŸ¥çœ‹haproxyçš„è¿›ç¨‹å¦‚æœå­˜åœ¨åˆ™è¯´æ˜æ²¡æœ‰é—®é¢˜\">#</a> 8ã€æŸ¥çœ‹ haproxy çš„è¿›ç¨‹ï¼Œå¦‚æœå­˜åœ¨åˆ™è¯´æ˜æ²¡æœ‰é—®é¢˜</h6>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">ps</span> <span class=\"token parameter variable\">-ef</span> <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> haproxy</pre></td></tr></table></figure><h6 id=\"9-æ‰“å¼€æµè§ˆå™¨è®¿é—®ç”¨æˆ·åä¸ºadminå¯†ç ä¸º123123\"><a class=\"anchor\" href=\"#9-æ‰“å¼€æµè§ˆå™¨è®¿é—®ç”¨æˆ·åä¸ºadminå¯†ç ä¸º123123\">#</a> 9ã€æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼Œç”¨æˆ·åä¸º adminï¼Œå¯†ç ä¸º 123123</h6>\n<p>â€‹\t<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMS4xNjQ6Nzc3Ny9hZG1pbg==\">http://192.168.1.164:7777/admin</span></p>\n",
            "tags": []
        },
        {
            "id": "http://example.com/2022/10/15/Erlang-tool/",
            "url": "http://example.com/2022/10/15/Erlang-tool/",
            "title": "Erlang",
            "date_published": "2022-10-15T04:52:38.124Z",
            "content_html": "<h3 id=\"erlangå®‰è£…\"><a class=\"anchor\" href=\"#erlangå®‰è£…\">#</a> <strong>Erlang å®‰è£…</strong></h3>\n<h4 id=\"1\"><a class=\"anchor\" href=\"#1\">#</a> â€”â€”1</h4>\n<p>â€‹\tRabbitMQ æ˜¯ä½¿ç”¨ Erlang è¯­è¨€ç¼–å†™çš„ï¼Œæ‰€ä»¥éœ€è¦å…ˆé…ç½® Erlang</p>\n<h5 id=\"1-ä¿®æ”¹ä¸»æœºå\"><a class=\"anchor\" href=\"#1-ä¿®æ”¹ä¸»æœºå\">#</a> 1 <strong>ä¿®æ”¹ä¸»æœºå</strong></h5>\n<p>â€‹\tRabbitMQ æ˜¯é€šè¿‡ä¸»æœºåè¿›è¡Œè®¿é—®çš„ï¼Œå¿…é¡»æŒ‡å®šèƒ½è®¿é—®çš„ä¸»æœºåã€‚</p>\n<pre><code>  vim /etc/sysconfig/network\n  \n  æ·»åŠ \n  NETWORKING=yes\n#  HOSTNAME=node-1 #åå­—å¯ä»¥éšæ„\n</code></pre>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/onlymarryu/typora-ims-test@master/RabbitMQ-06.jpg\" alt=\"\" /></p>\n<pre><code>    vim /etc/hosts\n  \n    ip network_hostname\neg: 192.168.1.195 node-1  \n</code></pre>\n<p>â€‹\tæ–°æ·»åŠ äº†ä¸€è¡Œï¼Œå‰é¢ä¸ºæœåŠ¡å™¨ ipï¼Œç©ºæ ¼åé¢æ·»åŠ è®¡ç®—æœºä¸»æœºå</p>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/onlymarryu/typora-ims-test@master/RabbitMQ-07.jpg\" alt=\"\" /></p>\n<h5 id=\"2-å®‰è£…ä¾èµ–\"><a class=\"anchor\" href=\"#2-å®‰è£…ä¾èµ–\">#</a> 2 <strong>å®‰è£…ä¾èµ–</strong></h5>\n<pre><code>  yum -y install make gcc gcc-c++ kernel-devel m4 ncurses-devel openssl-devel unixODBC unixODBC-devel\n</code></pre>\n<h5 id=\"3-ä¸Šä¼ å¹¶è§£å‹\"><a class=\"anchor\" href=\"#3-ä¸Šä¼ å¹¶è§£å‹\">#</a> 3 <strong>ä¸Šä¼ å¹¶è§£å‹</strong></h5>\n<p>â€‹\tä¸Šä¼  otp_src_22.0.tar.gz åˆ° /usr/local/tmp ç›®å½•ä¸­ï¼Œè¿›å…¥ç›®å½•å¹¶è§£å‹ã€‚</p>\n<pre><code>è§£å‹æ—¶æ³¨æ„ï¼Œæ­¤å‹ç¼©åŒ…ä¸å…·æœ‰gzipå±æ€§ï¼Œè§£å‹å‚æ•°æ²¡æœ‰zï¼Œåªæœ‰xf\n</code></pre>\n<pre><code>  cd /usr/local/tmp\n  tar xf otp_src_22.0.tar.gz -C /usr/local/tmp\n</code></pre>\n<h5 id=\"4-é…ç½®å‚æ•°\"><a class=\"anchor\" href=\"#4-é…ç½®å‚æ•°\">#</a> 4 <strong>é…ç½®å‚æ•°</strong></h5>\n<p>â€‹\tå…ˆæ–°å»º /usr/local/erlang æ–‡ä»¶å¤¹ï¼Œä½œä¸ºå®‰è£…æ–‡ä»¶å¤¹</p>\n<pre><code>  mkdir -p /usr/local/erlang\n</code></pre>\n<p>â€‹\t è¿›å…¥æ–‡ä»¶å¤¹</p>\n<pre><code>  cd otp_src_22.0\n</code></pre>\n<p>â€‹\t é…ç½®å‚æ•°</p>\n<pre><code>  ./configure --prefix=/usr/local/erlang --with-ssl --enable-threads --enable-smp-support --enable-kernel-poll --enable-hipe --without-javac\n</code></pre>\n<h5 id=\"5-ç¼–è¯‘å¹¶å®‰è£…\"><a class=\"anchor\" href=\"#5-ç¼–è¯‘å¹¶å®‰è£…\">#</a> 5 <strong>ç¼–è¯‘å¹¶å®‰è£…</strong></h5>\n<p>â€‹\tç¼–è¯‘</p>\n<pre><code>  make\n</code></pre>\n<p>â€‹\t å®‰è£…</p>\n<pre><code>  make install\n</code></pre>\n<h5 id=\"6-ä¿®æ”¹ç¯å¢ƒå˜é‡\"><a class=\"anchor\" href=\"#6-ä¿®æ”¹ç¯å¢ƒå˜é‡\">#</a> 6 <strong>ä¿®æ”¹ç¯å¢ƒå˜é‡</strong></h5>\n<p>â€‹\tä¿®æ”¹ /etc/profile æ–‡ä»¶</p>\n<pre><code> vim /etc/profile\n</code></pre>\n<p>â€‹\t åœ¨æ–‡ä»¶ä¸­æ·»åŠ ä¸‹é¢ä»£ç </p>\n<pre><code>export PATH=$PATH:/usr/local/erlang/bin\n</code></pre>\n<p>â€‹\tè¿è¡Œæ–‡ä»¶ï¼Œè®©ä¿®æ”¹å†…å®¹ç”Ÿæ•ˆ</p>\n<pre><code>  source /etc/profile\n</code></pre>\n<h5 id=\"7-æŸ¥çœ‹é…ç½®æ˜¯å¦æˆåŠŸ\"><a class=\"anchor\" href=\"#7-æŸ¥çœ‹é…ç½®æ˜¯å¦æˆåŠŸ\">#</a> 7 <strong>æŸ¥çœ‹é…ç½®æ˜¯å¦æˆåŠŸ</strong></h5>\n<pre><code>  erl -version\n</code></pre>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/onlymarryu/typora-ims-test@master/RabbitMQ-08.jpg\" alt=\"\" /></p>\n",
            "tags": []
        },
        {
            "id": "http://example.com/2022/10/15/docker-tool/",
            "url": "http://example.com/2022/10/15/docker-tool/",
            "title": "dockerå®‰è£…",
            "date_published": "2022-10-15T04:52:38.118Z",
            "content_html": "<h3 id=\"dockerå®‰è£…linux\"><a class=\"anchor\" href=\"#dockerå®‰è£…linux\">#</a> Docker å®‰è£…ï¼ˆLinuxï¼‰</h3>\n<p>docker å®˜ç½‘ï¼Œè‡ªå·±é€‰å®šè‡ªå·±çš„ Linux ç‰ˆæœ¬ï¼ŒæŒ‰ç…§å®˜æ–¹æ–‡æ¡£é…ç½®å³å¯ï¼Œä»¥ä¸‹ CentOS7 çš„</p>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9kb2NzLmRvY2tlci5jb20vZW5naW5lL2luc3RhbGwvY2VudG9zLw==\">https://docs.docker.com/engine/install/centos/</span></p>\n<h4 id=\"1-å¸è½½åŸæœ‰çš„ç¯å¢ƒ\"><a class=\"anchor\" href=\"#1-å¸è½½åŸæœ‰çš„ç¯å¢ƒ\">#</a> 1ã€å¸è½½åŸæœ‰çš„ç¯å¢ƒï¼š</h4>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">sudo</span> yum remove <span class=\"token function\">docker</span> <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>                  docker-client <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>                  docker-client-latest <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>                  docker-common <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>                  docker-latest <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>                  docker-latest-logrotate <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>                  docker-logrotate <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>                  docker-selinux <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>                  docker-engine-selinux <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>                  docker-engine</pre></td></tr></table></figure><h4 id=\"2-å®‰è£…å¯¹åº”çš„ä¾èµ–ç¯å¢ƒå’Œé•œåƒåœ°å€\"><a class=\"anchor\" href=\"#2-å®‰è£…å¯¹åº”çš„ä¾èµ–ç¯å¢ƒå’Œé•œåƒåœ°å€\">#</a> 2ã€å®‰è£…å¯¹åº”çš„ä¾èµ–ç¯å¢ƒå’Œé•œåƒåœ°å€</h4>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">sudo</span> yum <span class=\"token function\">install</span> <span class=\"token parameter variable\">-y</span> yum-utils</pre></td></tr></table></figure><p>å®˜æ–¹å®‰è£… (æ…¢)</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">sudo</span> yum-config-manager <span class=\"token punctuation\">\\</span> --add-repo <span class=\"token punctuation\">\\</span> https://download.docker.com/linux/centos/docker-ce.repo</pre></td></tr></table></figure><p>å®‰è£…è¿‡æ…¢è®¾ç½®é•œåƒ</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">sudo</span> yum-config-manager <span class=\"token punctuation\">\\</span> --add-repo <span class=\"token punctuation\">\\</span> http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo</pre></td></tr></table></figure><h4 id=\"3-ç›´æ¥å®‰è£…docker-ce\"><a class=\"anchor\" href=\"#3-ç›´æ¥å®‰è£…docker-ce\">#</a> 3ã€ç›´æ¥å®‰è£… docker CE</h4>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">sudo</span> yum <span class=\"token function\">install</span> <span class=\"token parameter variable\">-y</span> docker-ce docker-ce-cli containerd.io</pre></td></tr></table></figure><p>æŠ¥é”™æ—¶ï¼Œå¤§æ¦‚ç‡ä¸º<strong>é•œåƒä»“åº“é—®é¢˜</strong> ï¼Œç›´æ¥æ‰§è¡Œ <strong>æ­¥éª¤äº”</strong> çš„è¡¥å……ï¼Œå†å®‰è£…</p>\n<h4 id=\"4-å¯åŠ¨dockeræœåŠ¡\"><a class=\"anchor\" href=\"#4-å¯åŠ¨dockeræœåŠ¡\">#</a> 4ã€å¯åŠ¨ docker æœåŠ¡</h4>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">sudo</span> systemctl start <span class=\"token function\">docker</span></pre></td></tr></table></figure><h4 id=\"5-æŸ¥çœ‹dockerçš„ç‰ˆæœ¬\"><a class=\"anchor\" href=\"#5-æŸ¥çœ‹dockerçš„ç‰ˆæœ¬\">#</a> 5ã€æŸ¥çœ‹ docker çš„ç‰ˆæœ¬</h4>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">sudo</span> <span class=\"token function\">docker</span> version</pre></td></tr></table></figure><p>** è¡¥å……ï¼šé€šè¿‡å®˜æ–¹çš„é•œåƒåœ°å€ä¸‹è½½ docker ä¼šæ¯”è¾ƒæ…¢ï¼Œ **</p>\n<ul>\n<li>é…ç½®é˜¿é‡Œäº‘çš„é•œåƒåœ°å€ï¼š <strong>ç»å†è¿‡ 3 çš„é•œåƒåº“é—®é¢˜ä¹Ÿå°±æ˜¯é…ç½®é˜¿é‡Œäº‘é•œåƒåœ°å€</strong></li>\n</ul>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo</pre></td></tr></table></figure><ul>\n<li>yum æ›´æ–°ä¸‹å³å¯ï¼š</li>\n</ul>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>yum makecache fast</pre></td></tr></table></figure><h4 id=\"6-å¼€æœºå¯åŠ¨docker\"><a class=\"anchor\" href=\"#6-å¼€æœºå¯åŠ¨docker\">#</a> 6ã€å¼€æœºå¯åŠ¨ docker</h4>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">sudo</span> systemctl <span class=\"token builtin class-name\">enable</span> <span class=\"token function\">docker</span></pre></td></tr></table></figure><ul>\n<li>è¡¥å……ï¼šdocker pull ä¸‹è½½é•œåƒå¤ªæ…¢ï¼Œæ›´æ¢æºè¿›è¡Œç½‘ç»œåŠ é€Ÿçš„è§£å†³æ–¹æ¡ˆ</li>\n</ul>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>æ­¥éª¤1ï¼š</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">sudo</span> <span class=\"token function\">mkdir</span> <span class=\"token parameter variable\">-p</span> /etc/docker</pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>æ­¥éª¤2ï¼š</pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token function\">sudo</span> <span class=\"token function\">tee</span> /etc/docker/daemon.json <span class=\"token operator\">&lt;&lt;-</span><span class=\"token string\">'EOF'</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>&#123;</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  \"registry-mirrors\": [\"https://glhlrb75.mirror.aliyuncs.com\"]</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>&#125;</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>EOF</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>æˆ–è€…ï¼ˆè€å¸ˆçš„ï¼‰</pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token function\">sudo</span> <span class=\"token function\">tee</span> /etc/docker/daemon.json <span class=\"token operator\">&lt;&lt;-</span><span class=\"token string\">'EOF'</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>&#123; </pre></td></tr><tr><td data-num=\"13\"></td><td><pre>\t\"registry-mirrors\": [\"https://v9j5rufo.mirror.aliyuncs.com\"] </pre></td></tr><tr><td data-num=\"14\"></td><td><pre>&#125;</pre></td></tr><tr><td data-num=\"15\"></td><td><pre>EOF</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>æ­¥éª¤3ï¼š</pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token function\">sudo</span> systemctl daemon-reload</pre></td></tr><tr><td data-num=\"19\"></td><td><pre></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>æ­¥éª¤4ï¼š</pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token function\">sudo</span> systemctl restart <span class=\"token function\">docker</span></pre></td></tr></table></figure><h4 id=\"7-ä½¿ç”¨\"><a class=\"anchor\" href=\"#7-ä½¿ç”¨\">#</a> 7ã€ä½¿ç”¨</h4>\n<p><a href=\"https://blog.csdn.net/qq_25760623/article/details/88657491\"><strong>é˜¿é‡Œäº‘å®‰è£… dockerï¼š</strong></a></p>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI1NzYwNjIzL2FydGljbGUvZGV0YWlscy84ODY1NzQ5MQ==\">https://blog.csdn.net/qq_25760623/article/details/88657491</span></p>\n<h3 id=\"docker-composeå®‰è£…linux\"><a class=\"anchor\" href=\"#docker-composeå®‰è£…linux\">#</a> Docker-Compose å®‰è£…ï¼ˆLinuxï¼‰</h3>\n<h4 id=\"æ–¹å¼ä¸€\"><a class=\"anchor\" href=\"#æ–¹å¼ä¸€\">#</a> æ–¹å¼ä¸€</h4>\n<p>å®˜ç½‘åœ°å€ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly9kb2NzLmRvY2tlci5jb20vY29tcG9zZQ==\">https://docs.docker.com/compose</span></p>\n<p>#<strong>æ¨è</strong>ï¼š å›½å†…åœ°å€ï¼š<span class=\"exturl\" data-url=\"aHR0cDovL2dldC5kYW9jbG91ZC5pby8jaW5zdGFsbC1jb21wb3Nl\">http://get.daocloud.io/#install-compose</span></p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">sudo</span> <span class=\"token function\">curl</span> <span class=\"token parameter variable\">-L</span> <span class=\"token string\">\"https://github.com/docker/compose/releases/download/1.29.2/docker- compose-<span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">uname</span> <span class=\"token parameter variable\">-s</span><span class=\"token variable\">)</span></span>-<span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">uname</span> <span class=\"token parameter variable\">-m</span><span class=\"token variable\">)</span></span>\"</span> <span class=\"token parameter variable\">-o</span> /usr/local/bin/docker-compose</pre></td></tr></table></figure><p>é€Ÿåº¦æ¯”è¾ƒæ…¢çš„è¯ä½¿ç”¨ä¸‹é¢çš„åœ°å€ï¼š</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">curl</span> <span class=\"token parameter variable\">-L</span> https://get.daocloud.io/docker/compose/releases/download/1.25.0/docker- compose-<span class=\"token variable\"><span class=\"token variable\">`</span><span class=\"token function\">uname</span> <span class=\"token parameter variable\">-s</span><span class=\"token variable\">`</span></span>-<span class=\"token variable\"><span class=\"token variable\">`</span><span class=\"token function\">uname</span> <span class=\"token parameter variable\">-m</span><span class=\"token variable\">`</span></span> <span class=\"token operator\">></span> /usr/local/bin/docker-compose</pre></td></tr></table></figure><p>ä¿®æ”¹æ–‡ä»¶å¤¹æƒé™</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">chmod</span> +x /usr/local/bin/docker-compose</pre></td></tr></table></figure><p>å»ºç«‹è½¯è¿æ¥</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">ln</span> <span class=\"token parameter variable\">-s</span> /usr/local/bin/docker-compose /usr/bin/docker-compose</pre></td></tr></table></figure><p>æ ¡éªŒæ˜¯å¦å®‰è£…æˆåŠŸ</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">docker-compose</span> <span class=\"token parameter variable\">--version</span></pre></td></tr></table></figure><h4 id=\"æ–¹å¼äºŒ\"><a class=\"anchor\" href=\"#æ–¹å¼äºŒ\">#</a> æ–¹å¼äºŒ</h4>\n<p><strong>æ‰‹åŠ¨ä¸‹è½½ docker-compose åˆ°æœ¬åœ°ï¼Œç„¶åä¸Šä¼ åˆ° linux æœåŠ¡å™¨çš„ /usr/local/bin è·¯å¾„ä¸‹</strong></p>\n<p>ï¼ˆ1ï¼‰ç™¾åº¦ç½‘ç›˜ï¼šé“¾æ¥: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9wYW4uYmFpZHUuY29tL3MvMW9fMlhzSUxmd2NBN21Sbi1mN0Exd0E=\">https://pan.baidu.com/s/1o_2XsILfwcA7mRn-f7A1wA</span> æå–ç : qiue  â€”â€” ç½‘ç›˜ä¸­ docker-compose ç‰ˆæœ¬ï¼š2.2.2</p>\n<p>ï¼ˆ2ï¼‰ä¹Ÿå¯ä»¥å» GitHub ä¸Šä¸‹ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2RvY2tlci9jb21wb3NlL3JlbGVhc2Vz\">https://github.com/docker/compose/releases</span></p>\n<p><img data-src=\"/2022/10/15/docker-tool/1376119-20211222005944642-1364547608.png\" class=\"\"></p>\n<ol start=\"5\">\n<li>é‡å‘½åï¼š</li>\n</ol>\n<p>mv docker-compose-linux-x86_64 docker-compose</p>\n<ol start=\"6\">\n<li>æˆæƒï¼š</li>\n</ol>\n<p>chmod +x ./docker-compose</p>\n<ol start=\"7\">\n<li>æŸ¥çœ‹ç‰ˆæœ¬ï¼š</li>\n</ol>\n<p>docker-compose --version</p>\n<p><img data-src=\"/2022/10/15/docker-tool/1376119-20211222005757511-1189151957.png\" class=\"\"></p>\n<h4 id=\"å‡çº§æ–¹å¼ä¸‰\"><a class=\"anchor\" href=\"#å‡çº§æ–¹å¼ä¸‰\">#</a> å‡çº§ï¼ˆæ–¹å¼ä¸‰ï¼‰</h4>\n<ul>\n<li>ä¸‹è½½ï¼Œå‘½ä»¤å¦‚ä¸‹ğŸ‘‡ï¼š</li>\n</ul>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">sudo</span> <span class=\"token function\">curl</span> <span class=\"token parameter variable\">-L</span> https://get.daocloud.io/docker/compose/releases/download/1.26.2/docker-compose-<span class=\"token variable\"><span class=\"token variable\">`</span><span class=\"token function\">uname</span> <span class=\"token parameter variable\">-s</span><span class=\"token variable\">`</span></span>-<span class=\"token variable\"><span class=\"token variable\">`</span><span class=\"token function\">uname</span> <span class=\"token parameter variable\">-m</span><span class=\"token variable\">`</span></span> <span class=\"token operator\">></span> /usr/local/bin/docker-compose</pre></td></tr></table></figure><p>#&gt; å›  Github å›½å†…è®¿é—®ä¸å¤ªç¨³å®šæ‰€ä»¥ä½¿ç”¨ DaoCloud æä¾›åŠ é€Ÿï¼š<span class=\"exturl\" data-url=\"aHR0cDovL2dldC5kYW9jbG91ZC5pby8jaW5zdGFsbC1jb21wb3Nl\">é“¾æ¥</span>ï¼Œä½ <strong>å¯ä»¥é€šè¿‡ URL ä¸­çš„ç‰ˆæœ¬å·ï¼Œè‡ªå®šä¹‰ä¸‹è½½ä½ æ‰€éœ€è¦çš„ç‰ˆæœ¬æ–‡ä»¶ã€‚</strong></p>\n<ul>\n<li>å¯¹å‘½ä»¤è¿›è¡Œä¸€ä¸ªæˆæƒ</li>\n</ul>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">sudo</span> <span class=\"token function\">chmod</span> +x /usr/local/bin/docker-compose</pre></td></tr></table></figure><ul>\n<li>æŸ¥çœ‹ compose ç‰ˆæœ¬å‘½ä»¤</li>\n</ul>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">docker-compose</span> <span class=\"token parameter variable\">--version</span></pre></td></tr></table></figure><ul>\n<li>å¸è½½</li>\n</ul>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">sudo</span> <span class=\"token function\">rm</span> /usr/local/bin/docker-compose</pre></td></tr></table></figure>",
            "tags": []
        },
        {
            "id": "http://example.com/2022/10/15/Maven-tool/",
            "url": "http://example.com/2022/10/15/Maven-tool/",
            "title": "Maven-tool",
            "date_published": "2022-10-15T04:44:33.394Z",
            "content_html": "<h3 id=\"maven-å®‰è£…\"><a class=\"anchor\" href=\"#maven-å®‰è£…\">#</a> Maven å®‰è£…</h3>\n<blockquote>\n<p>è¦æ˜¯æ–°ç‰ˆæœ¬  <code>IDEA</code>  åˆ™ä¸éœ€è¦ä¿®æ”¹  <code>Maven</code>  ,  <code>IDEA</code>  ä¸­é»˜è®¤æ•´åˆäº†  <code>Maven</code> ï¼Œåªä¸è¿‡æ˜¯ç‰ˆæœ¬é—®é¢˜</p>\n</blockquote>\n<p><img data-src=\"/2022/10/15/Maven-tool/image-20220513150641401.png\" class=\"\"></p>\n<h4 id=\"å®‰è£…\"><a class=\"anchor\" href=\"#å®‰è£…\">#</a> å®‰è£…</h4>\n<p>ä¸‹è½½åœ°å€ï¼š <span class=\"exturl\" data-url=\"aHR0cDovL21hdmVuLmFwYWNoZS5vcmcv\">http://maven.apache.org/</span></p>\n<p><img data-src=\"/2022/10/15/Maven-tool/image-20220513150648442.png\" class=\"\"></p>\n<p><img data-src=\"/2022/10/15/Maven-tool/image-20220513150655417.png\" class=\"\"></p>\n<p>ç›®å½•ç»“æ„ï¼š</p>\n<p><img data-src=\"/2022/10/15/Maven-tool/image-20220513150703248.png\" class=\"\"></p>\n<p>binï¼šå­˜æ”¾çš„æ˜¯æ‰§è¡Œæ–‡ä»¶ï¼Œå‘½ä»¤<br />\nåœ¨ IDEA ä¸­å¯ä»¥ç›´æ¥é›†æˆ Maven:</p>\n<p><img data-src=\"/2022/10/15/Maven-tool/image-20220513150710943.png\" class=\"\"></p>\n<p>conf ç›®å½•ï¼šä¸‹é¢æœ‰ä¸€ä¸ªéå¸¸é‡è¦çš„é…ç½®æ–‡ä»¶ --ã€‹settings.xml---ã€‹maven çš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ / å…¨å±€é…ç½®æ–‡ä»¶ã€‚</p>\n<p>&lt;div name=&quot;.m2_create&quot;&gt;</p>\n<blockquote>\n<p>** æ³¨ï¼š** å¦‚æœæ²¡æœ‰  <code>.m2</code>  ç›®å½• ï¼Œè‡ªå·±æ‰‹åŠ¨æ‰§è¡Œ mvn å‘½ä»¤ï¼š</p>\n</blockquote>\n<pre><code>mvn help:system\n</code></pre>\n<h4 id=\"è¿œç¨‹ä»“åº“\"><a class=\"anchor\" href=\"#è¿œç¨‹ä»“åº“\">#</a> è¿œç¨‹ä»“åº“</h4>\n<p>é»˜è®¤çš„è¿œç¨‹ä»“åº“ä½¿ç”¨çš„ Apache æä¾›çš„ä¸­å¤®ä»“åº“ï¼š<br />\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9tdm5yZXBvc2l0b3J5LmNvbS8=\">https://mvnrepository.com/</span></p>\n<h4 id=\"ä»“åº“é…ç½®\"><a class=\"anchor\" href=\"#ä»“åº“é…ç½®\">#</a> ä»“åº“é…ç½®</h4>\n<p>#ä¿®æ”¹ <a href=\"#.m2_create\">.m2/settings.xmï¼ˆæ²¡æœ‰å°±æˆ³æˆ‘ï¼ï¼ï¼ï¼ï¼‰</a></p>\n<blockquote>\n<p>ä¸€èˆ¬éƒ½åœ¨æœ¬åœ°ï¼šC:\\Users\\Lenovo\\.m2\\settings.xml</p>\n</blockquote>\n<figure class=\"highlight xml\"><figcaption data-lang=\"XML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token prolog\">&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">&lt;!--</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>Licensed to the Apache Software Foundation (ASF) under one</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>or more contributor license agreements.  See the NOTICE file</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>distributed with this work for additional information</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>regarding copyright ownership.  The ASF licenses this file</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>to you under the Apache License, Version 2.0 (the</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>\"License\"); you may not use this file except in compliance</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>with the License.  You may obtain a copy of the License at</pre></td></tr><tr><td data-num=\"11\"></td><td><pre></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    http://www.apache.org/licenses/LICENSE-2.0</pre></td></tr><tr><td data-num=\"13\"></td><td><pre></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>Unless required by applicable law or agreed to in writing,</pre></td></tr><tr><td data-num=\"15\"></td><td><pre>software distributed under the License is distributed on an</pre></td></tr><tr><td data-num=\"16\"></td><td><pre>\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>KIND, either express or implied.  See the License for the</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>specific language governing permissions and limitations</pre></td></tr><tr><td data-num=\"19\"></td><td><pre>under the License.</pre></td></tr><tr><td data-num=\"20\"></td><td><pre>--></span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre></pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token comment\">&lt;!--</pre></td></tr><tr><td data-num=\"23\"></td><td><pre> | This is the configuration file for Maven. It can be specified at two levels:</pre></td></tr><tr><td data-num=\"24\"></td><td><pre> |</pre></td></tr><tr><td data-num=\"25\"></td><td><pre> |  1. User Level. This settings.xml file provides configuration for a single user,</pre></td></tr><tr><td data-num=\"26\"></td><td><pre> |                 and is normally provided in $&#123;user.home&#125;/.m2/settings.xml.</pre></td></tr><tr><td data-num=\"27\"></td><td><pre> |</pre></td></tr><tr><td data-num=\"28\"></td><td><pre> |                 NOTE: This location can be overridden with the CLI option:</pre></td></tr><tr><td data-num=\"29\"></td><td><pre> |</pre></td></tr><tr><td data-num=\"30\"></td><td><pre> |                 -s /path/to/user/settings.xml</pre></td></tr><tr><td data-num=\"31\"></td><td><pre> |</pre></td></tr><tr><td data-num=\"32\"></td><td><pre> |  2. Global Level. This settings.xml file provides configuration for all Maven</pre></td></tr><tr><td data-num=\"33\"></td><td><pre> |                 users on a machine (assuming they're all using the same Maven</pre></td></tr><tr><td data-num=\"34\"></td><td><pre> |                 installation). It's normally provided in</pre></td></tr><tr><td data-num=\"35\"></td><td><pre> |                 $&#123;maven.home&#125;/conf/settings.xml.</pre></td></tr><tr><td data-num=\"36\"></td><td><pre> |</pre></td></tr><tr><td data-num=\"37\"></td><td><pre> |                 NOTE: This location can be overridden with the CLI option:</pre></td></tr><tr><td data-num=\"38\"></td><td><pre> |</pre></td></tr><tr><td data-num=\"39\"></td><td><pre> |                 -gs /path/to/global/settings.xml</pre></td></tr><tr><td data-num=\"40\"></td><td><pre> |</pre></td></tr><tr><td data-num=\"41\"></td><td><pre> | The sections in this sample file are intended to give you a running start at</pre></td></tr><tr><td data-num=\"42\"></td><td><pre> | getting the most out of your Maven installation. Where appropriate, the default</pre></td></tr><tr><td data-num=\"43\"></td><td><pre> | values (values used when the setting is not specified) are provided.</pre></td></tr><tr><td data-num=\"44\"></td><td><pre> |</pre></td></tr><tr><td data-num=\"45\"></td><td><pre> |--></span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>settings</span> <span class=\"token attr-name\">xmlns</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://maven.apache.org/SETTINGS/1.0.0<span class=\"token punctuation\">\"</span></span> </pre></td></tr><tr><td data-num=\"47\"></td><td><pre>          <span class=\"token attr-name\"><span class=\"token namespace\">xmlns:</span>xsi</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.w3.org/2001/XMLSchema-instance<span class=\"token punctuation\">\"</span></span> </pre></td></tr><tr><td data-num=\"48\"></td><td><pre>          <span class=\"token attr-name\"><span class=\"token namespace\">xsi:</span>schemaLocation</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://maven.apache.org/SETTINGS/1.0.0 http://maven.apache.org/xsd/settings-1.0.0.xsd<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>\t\t  </pre></td></tr><tr><td data-num=\"50\"></td><td><pre>\t\t  <span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>  <span class=\"token comment\">&lt;!-- localRepository</pre></td></tr><tr><td data-num=\"52\"></td><td><pre>   | The path to the local repository maven will use to store artifacts.</pre></td></tr><tr><td data-num=\"53\"></td><td><pre>   |</pre></td></tr><tr><td data-num=\"54\"></td><td><pre>   | Default: $&#123;user.home&#125;/.m2/repository</pre></td></tr><tr><td data-num=\"55\"></td><td><pre>  &lt;localRepository>/path/to/local/repo&lt;/localRepository></pre></td></tr><tr><td data-num=\"56\"></td><td><pre>  --></span></pre></td></tr><tr><td data-num=\"57\"></td><td><pre>   <span class=\"token comment\">&lt;!--Maven æœ¬åœ°ä»“åº“ --></span></pre></td></tr><tr><td data-num=\"58\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>localRepository</span><span class=\"token punctuation\">></span></span>D:\\_Porgram_IT\\maven-repository<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>localRepository</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"59\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"60\"></td><td><pre>  <span class=\"token comment\">&lt;!-- interactiveMode</pre></td></tr><tr><td data-num=\"61\"></td><td><pre>   | This will determine whether maven prompts you when it needs input. If set to false,</pre></td></tr><tr><td data-num=\"62\"></td><td><pre>   | maven will use a sensible default value, perhaps based on some other setting, for</pre></td></tr><tr><td data-num=\"63\"></td><td><pre>   | the parameter in question.</pre></td></tr><tr><td data-num=\"64\"></td><td><pre>   |</pre></td></tr><tr><td data-num=\"65\"></td><td><pre>   | Default: true</pre></td></tr><tr><td data-num=\"66\"></td><td><pre>  &lt;interactiveMode>true&lt;/interactiveMode></pre></td></tr><tr><td data-num=\"67\"></td><td><pre>  --></span></pre></td></tr><tr><td data-num=\"68\"></td><td><pre></pre></td></tr><tr><td data-num=\"69\"></td><td><pre>  <span class=\"token comment\">&lt;!-- offline</pre></td></tr><tr><td data-num=\"70\"></td><td><pre>   | Determines whether maven should attempt to connect to the network when executing a build.</pre></td></tr><tr><td data-num=\"71\"></td><td><pre>   | This will have an effect on artifact downloads, artifact deployment, and others.</pre></td></tr><tr><td data-num=\"72\"></td><td><pre>   |</pre></td></tr><tr><td data-num=\"73\"></td><td><pre>   | Default: false</pre></td></tr><tr><td data-num=\"74\"></td><td><pre>  &lt;offline>false&lt;/offline></pre></td></tr><tr><td data-num=\"75\"></td><td><pre>  --></span></pre></td></tr><tr><td data-num=\"76\"></td><td><pre></pre></td></tr><tr><td data-num=\"77\"></td><td><pre>  <span class=\"token comment\">&lt;!-- pluginGroups</pre></td></tr><tr><td data-num=\"78\"></td><td><pre>   | This is a list of additional group identifiers that will be searched when resolving plugins by their prefix, i.e.</pre></td></tr><tr><td data-num=\"79\"></td><td><pre>   | when invoking a command line like \"mvn prefix:goal\". Maven will automatically add the group identifiers</pre></td></tr><tr><td data-num=\"80\"></td><td><pre>   | \"org.apache.maven.plugins\" and \"org.codehaus.mojo\" if these are not already contained in the list.</pre></td></tr><tr><td data-num=\"81\"></td><td><pre>   |--></span></pre></td></tr><tr><td data-num=\"82\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>pluginGroups</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"83\"></td><td><pre>    <span class=\"token comment\">&lt;!-- pluginGroup</pre></td></tr><tr><td data-num=\"84\"></td><td><pre>     | Specifies a further group identifier to use for plugin lookup.</pre></td></tr><tr><td data-num=\"85\"></td><td><pre>    &lt;pluginGroup>com.your.plugins&lt;/pluginGroup></pre></td></tr><tr><td data-num=\"86\"></td><td><pre>    --></span></pre></td></tr><tr><td data-num=\"87\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>pluginGroups</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"88\"></td><td><pre></pre></td></tr><tr><td data-num=\"89\"></td><td><pre>  <span class=\"token comment\">&lt;!-- proxies</pre></td></tr><tr><td data-num=\"90\"></td><td><pre>   | This is a list of proxies which can be used on this machine to connect to the network.</pre></td></tr><tr><td data-num=\"91\"></td><td><pre>   | Unless otherwise specified (by system property or command-line switch), the first proxy</pre></td></tr><tr><td data-num=\"92\"></td><td><pre>   | specification in this list marked as active will be used.</pre></td></tr><tr><td data-num=\"93\"></td><td><pre>   |--></span></pre></td></tr><tr><td data-num=\"94\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>proxies</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"95\"></td><td><pre>    <span class=\"token comment\">&lt;!-- proxy</pre></td></tr><tr><td data-num=\"96\"></td><td><pre>     | Specification for one proxy, to be used in connecting to the network.</pre></td></tr><tr><td data-num=\"97\"></td><td><pre>     |</pre></td></tr><tr><td data-num=\"98\"></td><td><pre>    &lt;proxy></pre></td></tr><tr><td data-num=\"99\"></td><td><pre>      &lt;id>optional&lt;/id></pre></td></tr><tr><td data-num=\"100\"></td><td><pre>      &lt;active>true&lt;/active></pre></td></tr><tr><td data-num=\"101\"></td><td><pre>      &lt;protocol>http&lt;/protocol></pre></td></tr><tr><td data-num=\"102\"></td><td><pre>      &lt;username>proxyuser&lt;/username></pre></td></tr><tr><td data-num=\"103\"></td><td><pre>      &lt;password>proxypass&lt;/password></pre></td></tr><tr><td data-num=\"104\"></td><td><pre>      &lt;host>proxy.host.net&lt;/host></pre></td></tr><tr><td data-num=\"105\"></td><td><pre>      &lt;port>80&lt;/port></pre></td></tr><tr><td data-num=\"106\"></td><td><pre>      &lt;nonProxyHosts>local.net|some.host.com&lt;/nonProxyHosts></pre></td></tr><tr><td data-num=\"107\"></td><td><pre>    &lt;/proxy></pre></td></tr><tr><td data-num=\"108\"></td><td><pre>    --></span></pre></td></tr><tr><td data-num=\"109\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>proxies</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"110\"></td><td><pre></pre></td></tr><tr><td data-num=\"111\"></td><td><pre>  <span class=\"token comment\">&lt;!-- servers</pre></td></tr><tr><td data-num=\"112\"></td><td><pre>   | This is a list of authentication profiles, keyed by the server-id used within the system.</pre></td></tr><tr><td data-num=\"113\"></td><td><pre>   | Authentication profiles can be used whenever maven must make a connection to a remote server.</pre></td></tr><tr><td data-num=\"114\"></td><td><pre>   |--></span></pre></td></tr><tr><td data-num=\"115\"></td><td><pre>   <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>servers</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"116\"></td><td><pre>    <span class=\"token comment\">&lt;!-- server</pre></td></tr><tr><td data-num=\"117\"></td><td><pre>     | Specifies the authentication information to use when connecting to a particular server, identified by</pre></td></tr><tr><td data-num=\"118\"></td><td><pre>     | a unique name within the system (referred to by the 'id' attribute below).</pre></td></tr><tr><td data-num=\"119\"></td><td><pre>     |</pre></td></tr><tr><td data-num=\"120\"></td><td><pre>     | NOTE: You should either specify username/password OR privateKey/passphrase, since these pairings are</pre></td></tr><tr><td data-num=\"121\"></td><td><pre>     |       used together.</pre></td></tr><tr><td data-num=\"122\"></td><td><pre>     |</pre></td></tr><tr><td data-num=\"123\"></td><td><pre>    &lt;server></pre></td></tr><tr><td data-num=\"124\"></td><td><pre>      &lt;id>deploymentRepo&lt;/id></pre></td></tr><tr><td data-num=\"125\"></td><td><pre>      &lt;username>repouser&lt;/username></pre></td></tr><tr><td data-num=\"126\"></td><td><pre>      &lt;password>repopwd&lt;/password></pre></td></tr><tr><td data-num=\"127\"></td><td><pre>    &lt;/server></pre></td></tr><tr><td data-num=\"128\"></td><td><pre>    --></span></pre></td></tr><tr><td data-num=\"129\"></td><td><pre></pre></td></tr><tr><td data-num=\"130\"></td><td><pre>    <span class=\"token comment\">&lt;!-- Another sample, using keys to authenticate.</pre></td></tr><tr><td data-num=\"131\"></td><td><pre>    &lt;server></pre></td></tr><tr><td data-num=\"132\"></td><td><pre>      &lt;id>siteServer&lt;/id></pre></td></tr><tr><td data-num=\"133\"></td><td><pre>      &lt;privateKey>/path/to/private/key&lt;/privateKey></pre></td></tr><tr><td data-num=\"134\"></td><td><pre>      &lt;passphrase>optional; leave empty if not used.&lt;/passphrase></pre></td></tr><tr><td data-num=\"135\"></td><td><pre>    &lt;/server></pre></td></tr><tr><td data-num=\"136\"></td><td><pre>    --></span></pre></td></tr><tr><td data-num=\"137\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>servers</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"138\"></td><td><pre></pre></td></tr><tr><td data-num=\"139\"></td><td><pre>  <span class=\"token comment\">&lt;!-- mirrors</pre></td></tr><tr><td data-num=\"140\"></td><td><pre>   | This is a list of mirrors to be used in downloading artifacts from remote repositories.</pre></td></tr><tr><td data-num=\"141\"></td><td><pre>   |</pre></td></tr><tr><td data-num=\"142\"></td><td><pre>   | It works like this: a POM may declare a repository to use in resolving certain artifacts.</pre></td></tr><tr><td data-num=\"143\"></td><td><pre>   | However, this repository may have problems with heavy traffic at times, so people have mirrored</pre></td></tr><tr><td data-num=\"144\"></td><td><pre>   | it to several places.</pre></td></tr><tr><td data-num=\"145\"></td><td><pre>   |</pre></td></tr><tr><td data-num=\"146\"></td><td><pre>   | That repository definition will have a unique id, so we can create a mirror reference for that</pre></td></tr><tr><td data-num=\"147\"></td><td><pre>   | repository, to be used as an alternate download site. The mirror site will be the preferred</pre></td></tr><tr><td data-num=\"148\"></td><td><pre>   | server for that repository.</pre></td></tr><tr><td data-num=\"149\"></td><td><pre>   |--></span></pre></td></tr><tr><td data-num=\"150\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>mirrors</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"151\"></td><td><pre>\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>mirror</span><span class=\"token punctuation\">></span></span> </pre></td></tr><tr><td data-num=\"152\"></td><td><pre>\t\t<span class=\"token comment\">&lt;!-- æŒ‡å®šé•œåƒ IDï¼ˆå¯è‡ªå·±æ”¹åï¼‰ --></span></pre></td></tr><tr><td data-num=\"153\"></td><td><pre>\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>id</span><span class=\"token punctuation\">></span></span>nexus-aliyun<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>id</span><span class=\"token punctuation\">></span></span> </pre></td></tr><tr><td data-num=\"154\"></td><td><pre>\t\t<span class=\"token comment\">&lt;!-- åŒ¹é…ä¸­å¤®ä»“åº“ï¼ˆé˜¿é‡Œäº‘çš„ä»“åº“åç§°ï¼Œä¸å¯ä»¥è‡ªå·±èµ·åï¼Œå¿…é¡»è¿™ä¹ˆå†™ï¼‰--></span></pre></td></tr><tr><td data-num=\"155\"></td><td><pre>\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>mirrorOf</span><span class=\"token punctuation\">></span></span>central<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>mirrorOf</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"156\"></td><td><pre>\t\t<span class=\"token comment\">&lt;!-- æŒ‡å®šé•œåƒåç§°ï¼ˆå¯è‡ªå·±æ”¹åï¼‰  --></span>   </pre></td></tr><tr><td data-num=\"157\"></td><td><pre>\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>Nexus aliyun<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span> </pre></td></tr><tr><td data-num=\"158\"></td><td><pre>\t\t<span class=\"token comment\">&lt;!-- æŒ‡å®šé•œåƒè·¯å¾„ï¼ˆé•œåƒåœ°å€ï¼‰ --></span></pre></td></tr><tr><td data-num=\"159\"></td><td><pre>\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>url</span><span class=\"token punctuation\">></span></span>http://maven.aliyun.com/nexus/content/groups/public<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>url</span><span class=\"token punctuation\">></span></span> </pre></td></tr><tr><td data-num=\"160\"></td><td><pre>\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>mirror</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"161\"></td><td><pre>\t</pre></td></tr><tr><td data-num=\"162\"></td><td><pre>\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>mirror</span><span class=\"token punctuation\">></span></span>  </pre></td></tr><tr><td data-num=\"163\"></td><td><pre>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>id</span><span class=\"token punctuation\">></span></span>alimaven<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>id</span><span class=\"token punctuation\">></span></span>  </pre></td></tr><tr><td data-num=\"164\"></td><td><pre>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>mirrorOf</span><span class=\"token punctuation\">></span></span>central<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>mirrorOf</span><span class=\"token punctuation\">></span></span>  </pre></td></tr><tr><td data-num=\"165\"></td><td><pre>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>aliyun maven<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>  </pre></td></tr><tr><td data-num=\"166\"></td><td><pre>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>url</span><span class=\"token punctuation\">></span></span>http://maven.aliyun.com/nexus/content/groups/public/<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>url</span><span class=\"token punctuation\">></span></span>  </pre></td></tr><tr><td data-num=\"167\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>mirror</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"168\"></td><td><pre>    <span class=\"token comment\">&lt;!-- mirror</pre></td></tr><tr><td data-num=\"169\"></td><td><pre>     | Specifies a repository mirror site to use instead of a given repository. The repository that</pre></td></tr><tr><td data-num=\"170\"></td><td><pre>     | this mirror serves has an ID that matches the mirrorOf element of this mirror. IDs are used</pre></td></tr><tr><td data-num=\"171\"></td><td><pre>     | for inheritance and direct lookup purposes, and must be unique across the set of mirrors.</pre></td></tr><tr><td data-num=\"172\"></td><td><pre>     |</pre></td></tr><tr><td data-num=\"173\"></td><td><pre>    &lt;mirror></pre></td></tr><tr><td data-num=\"174\"></td><td><pre>      &lt;id>mirrorId&lt;/id></pre></td></tr><tr><td data-num=\"175\"></td><td><pre>      &lt;mirrorOf>repositoryId&lt;/mirrorOf></pre></td></tr><tr><td data-num=\"176\"></td><td><pre>      &lt;name>Human Readable Name for this Mirror.&lt;/name></pre></td></tr><tr><td data-num=\"177\"></td><td><pre>      &lt;url>http://my.repository.com/repo/path&lt;/url></pre></td></tr><tr><td data-num=\"178\"></td><td><pre>    &lt;/mirror></pre></td></tr><tr><td data-num=\"179\"></td><td><pre>     --></span></pre></td></tr><tr><td data-num=\"180\"></td><td><pre>\t </pre></td></tr><tr><td data-num=\"181\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>mirrors</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"182\"></td><td><pre></pre></td></tr><tr><td data-num=\"183\"></td><td><pre>  <span class=\"token comment\">&lt;!-- profiles</pre></td></tr><tr><td data-num=\"184\"></td><td><pre>   | This is a list of profiles which can be activated in a variety of ways, and which can modify</pre></td></tr><tr><td data-num=\"185\"></td><td><pre>   | the build process. Profiles provided in the settings.xml are intended to provide local machine-</pre></td></tr><tr><td data-num=\"186\"></td><td><pre>   | specific paths and repository locations which allow the build to work in the local environment.</pre></td></tr><tr><td data-num=\"187\"></td><td><pre>   |</pre></td></tr><tr><td data-num=\"188\"></td><td><pre>   | For example, if you have an integration testing plugin - like cactus - that needs to know where</pre></td></tr><tr><td data-num=\"189\"></td><td><pre>   | your Tomcat instance is installed, you can provide a variable here such that the variable is</pre></td></tr><tr><td data-num=\"190\"></td><td><pre>   | dereferenced during the build process to configure the cactus plugin.</pre></td></tr><tr><td data-num=\"191\"></td><td><pre>   |</pre></td></tr><tr><td data-num=\"192\"></td><td><pre>   | As noted above, profiles can be activated in a variety of ways. One way - the activeProfiles</pre></td></tr><tr><td data-num=\"193\"></td><td><pre>   | section of this document (settings.xml) - will be discussed later. Another way essentially</pre></td></tr><tr><td data-num=\"194\"></td><td><pre>   | relies on the detection of a system property, either matching a particular value for the property,</pre></td></tr><tr><td data-num=\"195\"></td><td><pre>   | or merely testing its existence. Profiles can also be activated by JDK version prefix, where a</pre></td></tr><tr><td data-num=\"196\"></td><td><pre>   | value of '1.4' might activate a profile when the build is executed on a JDK version of '1.4.2_07'.</pre></td></tr><tr><td data-num=\"197\"></td><td><pre>   | Finally, the list of active profiles can be specified directly from the command line.</pre></td></tr><tr><td data-num=\"198\"></td><td><pre>   |</pre></td></tr><tr><td data-num=\"199\"></td><td><pre>   | NOTE: For profiles defined in the settings.xml, you are restricted to specifying only artifact</pre></td></tr><tr><td data-num=\"200\"></td><td><pre>   |       repositories, plugin repositories, and free-form properties to be used as configuration</pre></td></tr><tr><td data-num=\"201\"></td><td><pre>   |       variables for plugins in the POM.</pre></td></tr><tr><td data-num=\"202\"></td><td><pre>   |</pre></td></tr><tr><td data-num=\"203\"></td><td><pre>   |--></span></pre></td></tr><tr><td data-num=\"204\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>profiles</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"205\"></td><td><pre>\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>profile</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"206\"></td><td><pre>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>id</span><span class=\"token punctuation\">></span></span>jdk-1.8<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>id</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"207\"></td><td><pre>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>activation</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"208\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>activeByDefault</span><span class=\"token punctuation\">></span></span>true<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>activeByDefault</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"209\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>jdk</span><span class=\"token punctuation\">></span></span>1.8<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>jdk</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"210\"></td><td><pre>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>activation</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"211\"></td><td><pre>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>properties</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"212\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>maven.compiler.source</span><span class=\"token punctuation\">></span></span>1.8<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>maven.compiler.source</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"213\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>maven.compiler.target</span><span class=\"token punctuation\">></span></span>1.8<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>maven.compiler.target</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"214\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>maven.compiler.compilerVersion</span><span class=\"token punctuation\">></span></span>1.8<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>maven.compiler.compilerVersion</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"215\"></td><td><pre>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>properties</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"216\"></td><td><pre>\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>profile</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"217\"></td><td><pre></pre></td></tr><tr><td data-num=\"218\"></td><td><pre>    <span class=\"token comment\">&lt;!-- profile</pre></td></tr><tr><td data-num=\"219\"></td><td><pre>     | Specifies a set of introductions to the build process, to be activated using one or more of the</pre></td></tr><tr><td data-num=\"220\"></td><td><pre>     | mechanisms described above. For inheritance purposes, and to activate profiles via &lt;activatedProfiles/></pre></td></tr><tr><td data-num=\"221\"></td><td><pre>     | or the command line, profiles have to have an ID that is unique.</pre></td></tr><tr><td data-num=\"222\"></td><td><pre>     |</pre></td></tr><tr><td data-num=\"223\"></td><td><pre>     | An encouraged best practice for profile identification is to use a consistent naming convention</pre></td></tr><tr><td data-num=\"224\"></td><td><pre>     | for profiles, such as 'env-dev', 'env-test', 'env-production', 'user-jdcasey', 'user-brett', etc.</pre></td></tr><tr><td data-num=\"225\"></td><td><pre>     | This will make it more intuitive to understand what the set of introduced profiles is attempting</pre></td></tr><tr><td data-num=\"226\"></td><td><pre>     | to accomplish, particularly when you only have a list of profile id's for debug.</pre></td></tr><tr><td data-num=\"227\"></td><td><pre>     |</pre></td></tr><tr><td data-num=\"228\"></td><td><pre>     | This profile example uses the JDK version to trigger activation, and provides a JDK-specific repo.</pre></td></tr><tr><td data-num=\"229\"></td><td><pre>    &lt;profile></pre></td></tr><tr><td data-num=\"230\"></td><td><pre>      &lt;id>jdk-1.4&lt;/id></pre></td></tr><tr><td data-num=\"231\"></td><td><pre></pre></td></tr><tr><td data-num=\"232\"></td><td><pre>      &lt;activation></pre></td></tr><tr><td data-num=\"233\"></td><td><pre>        &lt;jdk>1.4&lt;/jdk></pre></td></tr><tr><td data-num=\"234\"></td><td><pre>      &lt;/activation></pre></td></tr><tr><td data-num=\"235\"></td><td><pre></pre></td></tr><tr><td data-num=\"236\"></td><td><pre>      &lt;repositories></pre></td></tr><tr><td data-num=\"237\"></td><td><pre>        &lt;repository></pre></td></tr><tr><td data-num=\"238\"></td><td><pre>          &lt;id>jdk14&lt;/id></pre></td></tr><tr><td data-num=\"239\"></td><td><pre>          &lt;name>Repository for JDK 1.4 builds&lt;/name></pre></td></tr><tr><td data-num=\"240\"></td><td><pre>          &lt;url>http://www.myhost.com/maven/jdk14&lt;/url></pre></td></tr><tr><td data-num=\"241\"></td><td><pre>          &lt;layout>default&lt;/layout></pre></td></tr><tr><td data-num=\"242\"></td><td><pre>          &lt;snapshotPolicy>always&lt;/snapshotPolicy></pre></td></tr><tr><td data-num=\"243\"></td><td><pre>        &lt;/repository></pre></td></tr><tr><td data-num=\"244\"></td><td><pre>      &lt;/repositories></pre></td></tr><tr><td data-num=\"245\"></td><td><pre>    &lt;/profile></pre></td></tr><tr><td data-num=\"246\"></td><td><pre>    --></span></pre></td></tr><tr><td data-num=\"247\"></td><td><pre></pre></td></tr><tr><td data-num=\"248\"></td><td><pre>    <span class=\"token comment\">&lt;!--</pre></td></tr><tr><td data-num=\"249\"></td><td><pre>     | Here is another profile, activated by the system property 'target-env' with a value of 'dev',</pre></td></tr><tr><td data-num=\"250\"></td><td><pre>     | which provides a specific path to the Tomcat instance. To use this, your plugin configuration</pre></td></tr><tr><td data-num=\"251\"></td><td><pre>     | might hypothetically look like:</pre></td></tr><tr><td data-num=\"252\"></td><td><pre>     |</pre></td></tr><tr><td data-num=\"253\"></td><td><pre>     | ...</pre></td></tr><tr><td data-num=\"254\"></td><td><pre>     | &lt;plugin></pre></td></tr><tr><td data-num=\"255\"></td><td><pre>     |   &lt;groupId>org.myco.myplugins&lt;/groupId></pre></td></tr><tr><td data-num=\"256\"></td><td><pre>     |   &lt;artifactId>myplugin&lt;/artifactId></pre></td></tr><tr><td data-num=\"257\"></td><td><pre>     |</pre></td></tr><tr><td data-num=\"258\"></td><td><pre>     |   &lt;configuration></pre></td></tr><tr><td data-num=\"259\"></td><td><pre>     |     &lt;tomcatLocation>$&#123;tomcatPath&#125;&lt;/tomcatLocation></pre></td></tr><tr><td data-num=\"260\"></td><td><pre>     |   &lt;/configuration></pre></td></tr><tr><td data-num=\"261\"></td><td><pre>     | &lt;/plugin></pre></td></tr><tr><td data-num=\"262\"></td><td><pre>     | ...</pre></td></tr><tr><td data-num=\"263\"></td><td><pre>     |</pre></td></tr><tr><td data-num=\"264\"></td><td><pre>     | NOTE: If you just wanted to inject this configuration whenever someone set 'target-env' to</pre></td></tr><tr><td data-num=\"265\"></td><td><pre>     |       anything, you could just leave off the &lt;value/> inside the activation-property.</pre></td></tr><tr><td data-num=\"266\"></td><td><pre>     |</pre></td></tr><tr><td data-num=\"267\"></td><td><pre>    &lt;profile></pre></td></tr><tr><td data-num=\"268\"></td><td><pre>      &lt;id>env-dev&lt;/id></pre></td></tr><tr><td data-num=\"269\"></td><td><pre></pre></td></tr><tr><td data-num=\"270\"></td><td><pre>      &lt;activation></pre></td></tr><tr><td data-num=\"271\"></td><td><pre>        &lt;property></pre></td></tr><tr><td data-num=\"272\"></td><td><pre>          &lt;name>target-env&lt;/name></pre></td></tr><tr><td data-num=\"273\"></td><td><pre>          &lt;value>dev&lt;/value></pre></td></tr><tr><td data-num=\"274\"></td><td><pre>        &lt;/property></pre></td></tr><tr><td data-num=\"275\"></td><td><pre>      &lt;/activation></pre></td></tr><tr><td data-num=\"276\"></td><td><pre></pre></td></tr><tr><td data-num=\"277\"></td><td><pre>      &lt;properties></pre></td></tr><tr><td data-num=\"278\"></td><td><pre>        &lt;tomcatPath>/path/to/tomcat/instance&lt;/tomcatPath></pre></td></tr><tr><td data-num=\"279\"></td><td><pre>      &lt;/properties></pre></td></tr><tr><td data-num=\"280\"></td><td><pre>    &lt;/profile></pre></td></tr><tr><td data-num=\"281\"></td><td><pre>    --></span></pre></td></tr><tr><td data-num=\"282\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>profiles</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"283\"></td><td><pre></pre></td></tr><tr><td data-num=\"284\"></td><td><pre>  <span class=\"token comment\">&lt;!-- activeProfiles</pre></td></tr><tr><td data-num=\"285\"></td><td><pre>   | List of profiles that are active for all builds.</pre></td></tr><tr><td data-num=\"286\"></td><td><pre>   |</pre></td></tr><tr><td data-num=\"287\"></td><td><pre>  &lt;activeProfiles></pre></td></tr><tr><td data-num=\"288\"></td><td><pre>    &lt;activeProfile>alwaysActiveProfile&lt;/activeProfile></pre></td></tr><tr><td data-num=\"289\"></td><td><pre>    &lt;activeProfile>anotherAlwaysActiveProfile&lt;/activeProfile></pre></td></tr><tr><td data-num=\"290\"></td><td><pre>  &lt;/activeProfiles></pre></td></tr><tr><td data-num=\"291\"></td><td><pre>  --></span></pre></td></tr><tr><td data-num=\"292\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>settings</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure>",
            "tags": []
        },
        {
            "id": "http://example.com/2022/10/15/CentOS-7-tool/",
            "url": "http://example.com/2022/10/15/CentOS-7-tool/",
            "title": "CentOS-7å®‰è£…",
            "date_published": "2022-10-15T04:42:32.306Z",
            "content_html": "<p><strong>1. ä¸‹è½½é•œåƒæ–‡ä»¶</strong></p>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9taXJyb3JzLnR1bmEudHNpbmdodWEuZWR1LmNuLw==\"> æ¸…åå¤§å­¦å¼€æºè½¯ä»¶é•œåƒç«™</span></p>\n<p><strong>2. å¼€å§‹å®‰è£…</strong></p>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/onlymarryu/typora-ims-test@master/img/1646489101763.png\" alt=\"1646489101763\" /></p>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/onlymarryu/typora-ims-test@master/img/1646489187835.png\" alt=\"1646489187835\" /></p>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/onlymarryu/typora-ims-test@master/img/1646489210450.png\" alt=\"1646489210450\" /></p>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/onlymarryu/typora-ims-test@master/img/1646489375149.png\" alt=\"1646489375149\" /></p>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/onlymarryu/typora-ims-test@master/img/1646489450527.png\" alt=\"1646489450527\" /></p>\n<p><strong>3. å¼€å§‹è¿›å»è™šæ‹Ÿæœºé…ç½®æˆ‘ä»¬çš„è½¯ä»¶</strong></p>\n<p><strong>3.1 è¯­è¨€</strong></p>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/onlymarryu/typora-ims-test@master/img/1646489591914.png\" alt=\"1646489591914\" /></p>\n<p><strong>3.2 æ—¶åŒºã€è½¯ä»¶é€‰æ‹©</strong></p>\n<p>è½¯ä»¶é€‰æ‹©ï¼šæŒ‰ç…§è‡ªå·±çš„éœ€æ±‚é€‰ï¼Œç¬¬ä¸€æ¬¡å¤šé€‰ä¹Ÿä¸è¦å°‘é€‰</p>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/onlymarryu/typora-ims-test@master/img/1646489600666.png\" alt=\"1646489600666\" /></p>\n<p>4. ç¡¬ã€è½¯é…ç½®å®Œæˆï¼Œå¼€å§‹å®‰è£…ï¼ŒåŒæ—¶è¦åˆ›å»ºç®¡ç†å‘˜ Root å’Œ åŸºç¡€ç”¨æˆ·</p>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/onlymarryu/typora-ims-test@master/img/1646489605373.png\" alt=\"1646489605373\" /></p>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/onlymarryu/typora-ims-test@master/img/1646489621243.png\" alt=\"1646489621243\" /></p>\n<p>5. å®‰è£…æˆåŠŸ</p>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/onlymarryu/typora-ims-test@master/img/1646489626446.png\" alt=\"1646489626446\" /></p>\n<p><strong>ç³»ç»Ÿé…ç½®</strong></p>\n<p>&lt;div name=&quot;Linux_install_centos7&quot;&gt; è¿›å…¥ç³»ç»Ÿåï½&lt;/div&gt;</p>\n<p>1ã€é¦–å…ˆé…ç½®ç½‘ç»œ</p>\n<p>è¦å…ˆåˆ‡æ¢åˆ° root ç”¨æˆ·ä¸Šå»ï¼Œä¸ç„¶æ²¡æƒé™ã€‚</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>æ–¹å¼ä¸€</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">sudo</span> <span class=\"token parameter variable\">-i</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>password:å½“å‰æ™®é€šç”¨æˆ·å¯†ç </pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>æ–¹å¼äºŒ</pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token function\">su</span> -</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>passwordï¼šrootç”¨æˆ·å¯†ç </pre></td></tr></table></figure><p>å°†  **ONBOOT ** æ”¹ä¸º yes ï¼š</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">vim</span> /etc/sysconfig/network-scripts/ifcfg-ens33</pre></td></tr></table></figure><p><img data-src=\"https://cdn.jsdelivr.net/gh/onlymarryu/typora-ims-test@master/img/1646490152508.png\" alt=\"1646490152508\" /></p>\n<p>é‡å¯ç½‘ç»œ</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">service</span> network restart</pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">### æ£€æŸ¥æ˜¯å¦é€šç•…</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token function\">ping</span> <span class=\"token number\">114.114</span>.114.114</pre></td></tr></table></figure><p>2ã€ å®‰è£… net-tools å’Œ vimï¼ˆ<strong>æœ‰çš„è¯å¯ç›´æ¥è·³è¿‡</strong>ï¼‰</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>yum <span class=\"token function\">install</span> <span class=\"token parameter variable\">-y</span> net-tools <span class=\"token function\">vim</span></pre></td></tr></table></figure><p>æ£€æŸ¥è‡ªå·±çš„ ip</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">ifconfig</span></pre></td></tr></table></figure><p><img data-src=\"https://cdn.jsdelivr.net/gh/onlymarryu/typora-ims-test@master/img/1646490384192.png\" alt=\"1646490384192\" /></p>\n<p>3 å¯åŠ¨ sshd æœåŠ¡</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">service</span> sshd start</pre></td></tr></table></figure><p>&lt;div name=&quot;Linux_minInstall_4&quot;&gt;&lt;/div &gt;</p>\n<p>4ã€ä¿®æ”¹ç™»å½•ï¼Œè®© Root ç”¨æˆ·ç›´æ¥ç™»å½•</p>\n<p>#<a href=\"#problem-6\">å…·ä½“æ­¥éª¤</a></p>\n<p>&lt;div name=&quot;Linux_minInstall_5&quot;&gt;&lt;/div &gt;</p>\n<p>5ã€ä¿®æ”¹ DNS è¿æ¥ï¼Œè®© xshell è®¿é—®å¿«ä¸€ç‚¹</p>\n<p>#<a href=\"#problem-5\">å…·ä½“æ­¥éª¤</a></p>\n<p>6ã€ <strong>å…³é—­æŒ‡å®šç«¯å£é˜²ç«å¢™ï¼š</strong></p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>systemctl status firewalld  </pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">### å¼€å¯ 80 ç«¯å£</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>firewall-cmd <span class=\"token parameter variable\">--zone</span><span class=\"token operator\">=</span>public --add-port<span class=\"token operator\">=</span><span class=\"token number\">80</span>/tcp <span class=\"token parameter variable\">--permanent</span>  </pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\">### å¼€å¯ 3306 ç«¯å£</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>firewall-cmd <span class=\"token parameter variable\">--zone</span><span class=\"token operator\">=</span>public --add-port<span class=\"token operator\">=</span><span class=\"token number\">3306</span>/tcp <span class=\"token parameter variable\">--permanent</span>  </pre></td></tr><tr><td data-num=\"10\"></td><td><pre></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token comment\">### é‡å¯é˜²ç«å¢™ï¼š</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>firewall-cmd <span class=\"token parameter variable\">--reload</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>å…³é—­é˜²ç«å¢™ ï¼Œé‡å¯å¤±æ•ˆ<span class=\"token punctuation\">(</span>Linuxç³»ç»Ÿä¸€é‡å¯Linuxä¸­çš„é˜²ç«å¢™åˆä¼šè¢«å¼€èµ·<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token function\">service</span> firewalld stop</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>ç¦ç”¨é˜²ç«å¢™ï¼Œæ°¸ä¹…æœ‰æ•ˆ</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>systemctl disable firewalld æˆ–è€…  systemctl disable firewalld.service</pre></td></tr><tr><td data-num=\"19\"></td><td><pre>å¯åŠ¨é˜²ç«å¢™ <span class=\"token punctuation\">(</span>å¯¹ç¦ç”¨çš„é˜²ç«å¢™è¿›è¡Œå¯åŠ¨<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>systemctl <span class=\"token builtin class-name\">enable</span> firewalld</pre></td></tr></table></figure>",
            "tags": []
        }
    ]
}